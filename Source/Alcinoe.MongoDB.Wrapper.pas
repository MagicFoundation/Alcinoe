unit Alcinoe.MongoDB.Wrapper;

//*******************************************************************//
// This unit was automatically generated by CHeaderWrapperGenerator. //
// Do not edit manually.                                             //
//*******************************************************************//

interface

{$I Alcinoe.inc}

{$WARN SYMBOL_PLATFORM OFF}
{$SCOPEDENUMS OFF}
{$MINENUMSIZE 4}
{$A+}

uses
  WinApi.Windows,
  Winapi.Winsock2,
  Alcinoe.WinApi.Windows;

type
  uint8_t = UInt8;
  Puint8_t = ^uint8_t;
  PPuint8_t = ^Puint8_t;
  uint16_t = UInt16;
  Puint16_t = ^uint16_t;
  uint32_t = UInt32;
  Puint32_t = ^uint32_t;
  uint64_t = UInt64;
  Puint64_t = ^uint64_t;
  int8_t = Int8;
  Pint8_t = ^int8_t;
  int16_t = Int16;
  Pint16_t = ^int16_t;
  int32_t = Int32;
  Pint32_t = ^int32_t;
  int64_t = Int64;
  Pint64_t = ^int64_t;
  size_t = NativeUInt;
  Psize_t = ^size_t;
  socklen_t = Int32;
  Psocklen_t = ^socklen_t;
  Pva_list = ^va_list;
  off_t = LongInt;
  time_t = Int64;
  TCharArray6 = array[0..6-1] of AnsiChar;
  TCharArray25 = array[0..25-1] of AnsiChar;
  P_bson_array_builder_t = pointer; // forward decl
  P_mongoc_client_t = pointer; // forward decl
  P_mongoc_client_session_t = pointer; // forward decl
  P_mongoc_client_pool_t = pointer; // forward decl
  P_mongoc_cursor_t = pointer; // forward decl
  P_mongoc_database_t = pointer; // forward decl
  P_mongoc_collection_t = pointer; // forward decl

////////////
// config //
////////////

// *
// * Define to 1234 for Little Endian, 4321 for Big Endian.
// *
const BSON_BYTE_ORDER = 1234;

// *
// * Define to 1 if you have stdbool.h
// *
const BSON_HAVE_STDBOOL_H = 1;

// *
// * Define to 1 for POSIX-like systems, 2 for Windows.
// *
const BSON_OS = 2;

// *
// * Define to 1 if you have clock_gettime() available.
// *
const BSON_HAVE_CLOCK_GETTIME = 0;

// *
// * Define to 1 if you have strings.h available on your platform.
// *
const BSON_HAVE_STRINGS_H = 0;

// *
// * Define to 1 if you have strnlen available on your platform.
// *
const BSON_HAVE_STRNLEN = 1;

// *
// * Define to 1 if you have snprintf available on your platform.
// *
const BSON_HAVE_SNPRINTF = 1;

// *
// * Define to 1 if you have gmtime_r available on your platform.
// *
const BSON_HAVE_GMTIME_R = 0;

// *
// * Define to 1 if you have struct timespec available on your platform.
// *
const BSON_HAVE_TIMESPEC = 1;

// *
// * Define to 1 if you have rand_r available on your platform.
// *
const BSON_HAVE_RAND_R = 0;

// *
// * Define to 1 if you have strlcpy available on your platform.
// *
const BSON_HAVE_STRLCPY = 0;

// *
// * Define to 1 if you have aligned_alloc available on your platform.
// *
const BSON_HAVE_ALIGNED_ALLOC = 0;

/////////////
// version //
/////////////

// clang-format off

// * *
// * BSON_MAJOR_VERSION:
// *
// * BSON major version component (e.g. 1 if %BSON_VERSION is 1.2.3)
// *
const BSON_MAJOR_VERSION = (2);

// * *
// * BSON_MINOR_VERSION:
// *
// * BSON minor version component (e.g. 2 if %BSON_VERSION is 1.2.3)
// *
const BSON_MINOR_VERSION = (2);

// * *
// * BSON_MICRO_VERSION:
// *
// * BSON micro version component (e.g. 3 if %BSON_VERSION is 1.2.3)
// *
const BSON_MICRO_VERSION = (1);

// * *
// * BSON_PRERELEASE_VERSION:
// *
// * BSON prerelease version component (e.g. pre if %BSON_VERSION is 1.2.3-pre)
// *
// #define BSON_PRERELEASE_VERSION ()

// * *
// * BSON_VERSION:
// *
// * BSON version.
// *
// #define BSON_VERSION (2.2.1)

// * *
// * BSON_VERSION_S:
// *
// * BSON version, encoded as a string, useful for printing and
// * concatenation.
// *
const BSON_VERSION_S = '2.2.1';

// * *
// * BSON_VERSION_HEX:
// *
// * BSON version, encoded as an hexadecimal number, useful for
// * integer comparisons.
// *
const BSON_VERSION_HEX = (BSON_MAJOR_VERSION shl 24 or BSON_MINOR_VERSION shl 16 or BSON_MICRO_VERSION shl 8);

// * *
// * BSON_CHECK_VERSION:
// * @major: required major version
// * @minor: required minor version
// * @micro: required micro version
// *
// * Compile-time version checking. Evaluates to %TRUE if the version
// * of BSON is greater than or equal to the required one.
// *
// #define BSON_CHECK_VERSION(major,minor,micro) (BSON_MAJOR_VERSION > (major) || (BSON_MAJOR_VERSION == (major) && BSON_MINOR_VERSION > (minor)) || (BSON_MAJOR_VERSION == (major) && BSON_MINOR_VERSION == (minor) && BSON_MICRO_VERSION >= (micro)))

////////////
// macros //
////////////

// #define BSON_OS_WIN32

// #define BSON_GNUC_CHECK_VERSION(major, minor) 0

// #define BSON_GNUC_IS_VERSION(major, minor) 0

// * Decorate public functions:
// * - if BSON_STATIC, we're compiling a static libbson or a program
// * that uses libbson as a static library. Don't decorate functions.
// * - else if BSON_COMPILATION, we're compiling a shared libbson, mark
// * public functions for export from the shared lib
// * - else, we're compiling a program that uses libbson as a shared library,
// * mark public functions as DLL imports for Microsoft Visual C
// *

// *
// * Microsoft Visual C
// *
// #define BSON_API __declspec(dllimport)
// #define BSON_CALL __cdecl

// *
// * Other compilers
// *

// #define BSON_MIN(a, b) ((std::min)(a, b))
// #define BSON_MIN(a, b) ((a) < (b) ? (a) : (b))

// #define BSON_MAX(a, b) ((std::max)(a, b))
// #define BSON_MAX(a, b) ((a) > (b) ? (a) : (b))

// #define BSON_ABS(a) (((a) < 0) ? ((a) * -1) : (a))

// #define BSON_ALIGNOF(expr) alignof(expr)
// #define BSON_ALIGNOF(expr) __alignof(expr)

// __declspec (align (_N)) only permits integer literals as _N.
{$if defined(Win64)}
const BSON_ALIGN_OF_PTR = 8;
{$else}
const BSON_ALIGN_OF_PTR = 4;
{$endif}

// #define BSON_ALIGNED_BEGIN(_N) __declspec(align(BSON_ALIGN_OF_PTR))
// #define BSON_ALIGNED_END(_N)

// #define bson_str_empty(s) (!s[0])
// #define bson_str_empty0(s) (!s || !s[0])

// #define BSON_FUNC __FUNCTION__

// #define BSON_INLINE __inline

// #define BSON_NORETURN

// #define BSON_RESTRICT __restrict
// #define BSON_RESTRICT

// BSON_NORETURN static BSON_INLINE void
// _bson_assert_failed_on_line(const char * file, int line, const char * func, const char * test)

// BSON_NORETURN static BSON_INLINE void
// _bson_assert_failed_on_param(const char * param, const char * func)

// #define BSON_ASSERT(test) do { if (!(BSON_LIKELY(test))) { _bson_assert_failed_on_line(__FILE__, (int)(__LINE__), BSON_FUNC, #test); } } while (0)

// * *
// * @brief Assert the expression `Assertion`, and evaluates to `Value` on
// * success.
// *
// #define BSON_ASSERT_INLINE(Assertion, Value) ((void)((Assertion) ? (0) : (_bson_assert_failed_on_line(__FILE__, (int)(__LINE__), BSON_FUNC, #Assertion), 0)), Value)

// * *
// * @brief Assert that the given pointer is non-NULL, while also evaluating to
// * that pointer.
// *
// * Can be used to inline assertions with a pointer dereference:
// *
// * ```
// * foo * f = get_foo();
// * bar * b = BSON_ASSERT_PTR_INLINE(f)->bar_value;
// * ```
// *
// #define BSON_ASSERT_PTR_INLINE(Pointer) BSON_ASSERT_INLINE((Pointer) != NULL, (Pointer))

// * Used for asserting parameters to provide a more precise error message
// #define BSON_ASSERT_PARAM(param) do { if ((BSON_UNLIKELY(param == NULL))) { _bson_assert_failed_on_param(#param, BSON_FUNC); } } while (0)

// `BSON_OPTIONAL_PARAM` is a documentation-only macro to document X may be NULL.
// Useful in combination with `BSON_ASSERT_PARAM` to document and assert pointer parameters.
// #define BSON_OPTIONAL_PARAM(param) ((void)param)

// * obsolete macros, preserved for compatibility
// #define BSON_STATIC_ASSERT(s) BSON_STATIC_ASSERT_(s, __LINE__)
// #define BSON_STATIC_ASSERT_JOIN(a, b) BSON_STATIC_ASSERT_JOIN2(a, b)
// #define BSON_STATIC_ASSERT_JOIN2(a, b) a##b
// #define BSON_STATIC_ASSERT_(s, l) typedef char BSON_STATIC_ASSERT_JOIN(static_assert_test_, __LINE__)[(s) ? 1 : -1]

// * modern macros
// #define BSON_STATIC_ASSERT2(_name, _s) BSON_STATIC_ASSERT2_(_s, __LINE__, _name)
// #define BSON_STATIC_ASSERT_JOIN3(_a, _b, _name) BSON_STATIC_ASSERT_JOIN4(_a, _b, _name)
// #define BSON_STATIC_ASSERT_JOIN4(_a, _b, _name) _a##_b##_name
// #define BSON_STATIC_ASSERT2_(_s, _l, _name) typedef char BSON_STATIC_ASSERT_JOIN3(static_assert_test_, __LINE__, _name)[(_s) ? 1 : -1]

// #define BSON_GNUC_PURE
// #define BSON_GNUC_WARN_UNUSED_RESULT

// #define BSON_GNUC_NULL_TERMINATED
// #define BSON_GNUC_INTERNAL

// #define BSON_LIKELY(v) v
// #define BSON_UNLIKELY(v) v

// #define BSON_GNUC_PRINTF(f, v)

{$if defined(CPUX64) or defined(CPUARM64)}
const BSON_WORD_SIZE = 64;
{$else}
const BSON_WORD_SIZE = 32;
{$endif}

// #define BSON_ENSURE_ARRAY_PARAM_SIZE(_n)
// #define BSON_TYPEOF decltype

// * *
// * @brief Statically annotate an entity as deprecated, including the given deprecation message
// *
// * @param Message The message to be included in a deprecation warning. This
// * should be a string literal.
// *
// #define BSON_DEPRECATED(Message) _bsonDeprecatedImpl(Message)

// Pick the appropriate implementation of a deprecation attribute
// For MSVC, emit __declspec(deprecated(Msg))
// #define _bsonDeprecatedImpl(Msg) __declspec(deprecated(Msg))
// For other compilers, emit nothing
// #define _bsonDeprecatedImpl(Msg)

// #define BSON_DEPRECATED_FOR(F) BSON_DEPRECATED("This API is deprecated. Use " #F " instead.")

// #define BSON_GNUC_DEPRECATED BSON_DEPRECATED("This API is deprecated")
// #define BSON_GNUC_DEPRECATED_FOR(F) BSON_DEPRECATED_FOR(F)

// #define BSON_CONCAT_IMPL(a, ...) a##__VA_ARGS__
// #define BSON_CONCAT(a, ...) BSON_CONCAT_IMPL(a, __VA_ARGS__)
// #define BSON_CONCAT3(a, b, c) BSON_CONCAT(a, BSON_CONCAT(b, c))
// #define BSON_CONCAT4(a, b, c, d) BSON_CONCAT(BSON_CONCAT(a, b), BSON_CONCAT(c, d))

// * *
// * @brief String-ify the given argument
// *
// #define BSON_STR(...) #__VA_ARGS__

// * *
// * @brief Mark the attached declared entity as "possibly-unused."
// *
// * Does nothing on MSVC.
// *
// #define BSON_MAYBE_UNUSED (* Nothing for other compilers

// * *
// * @brief Mark a point in the code as unreachable. If the point is reached, the
// * program will abort with an error message.
// *
// * @param What A string to include in the error message if this point is ever
// * executed.
// *
// #define BSON_UNREACHABLE(What) do { fprintf(stderr, "%s:%d %s(): Unreachable code reached: %s\n", __FILE__, (int)(__LINE__), BSON_FUNC, What); abort(); } while (0)

// * *
// * @brief Silence warnings for deliberately unused variables or parameters.
// *
// * @param expr An unused variable or parameter.
// *
// *
// #define BSON_UNUSED(expr) do { (void)(expr); } while (0)

// Disable the -Wunsafe-buffer-usage warning.
// #define BSON_DISABLE_UNSAFE_BUFFER_USAGE_WARNING_BEGIN
// #define BSON_DISABLE_UNSAFE_BUFFER_USAGE_WARNING_END

////////////
// bson_t //
////////////

// * *
// * bson_t:
// *
// * This structure manages a buffer whose contents are a properly formatted
// * BSON document. You may perform various transforms on the BSON documents.
// * Additionally, it can be iterated over using bson_iter_t.
// *
// * See bson_iter_init() for iterating the contents of a bson_t.
// *
// * When building a bson_t structure using the various append functions,
// * memory allocations may occur. That is performed using power of two
// * allocations and realloc().
// *
// * See http: // bsonspec.org for the BSON document spec.
// *
// * This structure is meant to fit in two sequential 64-byte cachelines.
// *
type
  _bson_t = record
    flags: uint32_t; (* Internal flags for the bson_t. *)
    len: uint32_t; (* Length of BSON data. *)
    padding: array[0..120-1] of uint8_t; (* Padding for stack allocation. *)
  end;
  bson_t = _bson_t;
  Pbson_t = ^bson_t;
  PPbson_t = ^Pbson_t;

// * *
// * BSON_INITIALIZER:
// *
// * This macro can be used to initialize a #bson_t structure on the stack
// * without calling bson_init().
// *
// * |[
// * bson_t b = BSON_INITIALIZER;
// * ]|
// *
// #define BSON_INITIALIZER {3, 5, {5}}

// BSON_STATIC_ASSERT2(bson_t, sizeof(bson_t) == 128);

////////////
// compat //
////////////

// *
// * MSVC++ does not include ssize_t, just size_t.
// * So we need to synthesize that as well.
// *

const PRIi32 = 'd';
const PRId32 = 'd';
const PRIu32 = 'u';
const PRIi64 = 'I64i';
const PRId64 = 'I64i';
const PRIu64 = 'I64u';

// * Derive the maximum representable value of signed_integer type T using the
// * formula 2^(N - 1) - 1 where N is the number of bits in type T. This assumes
// * T is represented using two's complement.
// #define BSON_NUMERIC_LIMITS_MAX_SIGNED(T) ((T)((((size_t)0x01u) << (sizeof(T) * (size_t)CHAR_BIT - 1u)) - 1u))

// * Derive the minimum representable value of signed_integer type T as one less
// * than the negation of its maximum representable value. This assumes T is
// * represented using two's complement.
// #define BSON_NUMERIC_LIMITS_MIN_SIGNED(T, max) ((T)((-(max)) - 1))

// * Derive the maximum representable value of unsigned_integer type T by flipping
// * all its bits to 1.
// #define BSON_NUMERIC_LIMITS_MAX_UNSIGNED(T) ((T)(~((T)0)))

// #define SSIZE_MAX BSON_NUMERIC_LIMITS_MAX_SIGNED(ssize_t)

// #define SSIZE_MIN BSON_NUMERIC_LIMITS_MIN_SIGNED(ssize_t, SSIZE_MAX)

// #define va_copy(dst, src) __va_copy(dst, src)

// #define va_copy(dst, src) ((dst) = (src))

// * * Expands the arguments if compiling with MSVC, otherwise empty
// #define BSON_IF_MSVC(...) __VA_ARGS__
// * * Expands the arguments if compiling with GCC or Clang, otherwise empty
// #define BSON_IF_GNU_LIKE(...)
// * * Unsupported compiler. *
// #define BSON_IF_MSVC(...)
// #define BSON_IF_GNU_LIKE(...)

// * * Expands the arguments if compiling for Windows, otherwise empty
// #define BSON_IF_WINDOWS(...) __VA_ARGS__
// * * Expands the arguments if compiling for POSIX, otherwise empty
// #define BSON_IF_POSIX(...)

///////////
// error //
///////////

const BSON_ERROR_BUFFER_SIZE = 503;

// Aligned for backwards-compatibility.
type
  _bson_error_t = record
    domain: uint32_t;
    code: uint32_t;
    message: array[0..BSON_ERROR_BUFFER_SIZE-1] of AnsiChar;
    reserved: uint8_t; // For internal use only!
  end;
  bson_error_t = _bson_error_t;
  Pbson_error_t = ^bson_error_t;
  PPbson_error_t = ^Pbson_error_t;

// BSON_STATIC_ASSERT2(error_t, sizeof(bson_error_t) == 512);

const BSON_ERROR_JSON = 1;
const BSON_ERROR_READER = 2;
const BSON_ERROR_INVALID = 3;
const BSON_ERROR_VECTOR = 4;

procedure bson_set_error(
            error: Pbson_error_t;
            domain: uint32_t;
            code: uint32_t;
            format: PAnsiChar); inline;

function bson_strerror_r(
           err_code: Integer;
           buf: PAnsiChar;
           buflen: size_t): PAnsiChar; inline;

// * *
// * @brief Reset the content of a bson_error_t to indicate no error.
// *
// * @param error Pointer to an error to be overwritten. If null, this function
// * has no effect.
// *
// * This is static-inline because it is trivially optimizable as a (conditional)
// * `memset`.
// *
// static inline void
// bson_error_clear(bson_error_t * error)

// * *
// * @brief Given a `bson_error_t` pointer l-value, ensure that it is non-null, and clear any
// * error value that it might hold.
// *
// * @param ErrorPointer An l-value expression of type `bson_error_t * `.
// *
// * If the passed pointer is null, then it will be updated to point to an anonymous
// * `bson_error_t` object that lives in the caller's scope.
// *
// * @note This macro is not valid in C++ because it relies on C99 compound literal semantics
// *
// #define bson_error_reset(ErrorPointer) bson_error_reset(&(ErrorPointer), &(bson_error_t){0})
// static inline void(bson_error_reset)(bson_error_t * * error, bson_error_t * localptr)

////////////
// memory //
////////////

type
  bson_realloc_func = function (
    mem: Pvoid;
    num_bytes: size_t;
    ctx: Pvoid): Pvoid; cdecl;

type
  _bson_mem_vtable_t = record
    malloc: function(num_bytes: size_t): Pvoid; cdecl;
    calloc: function(n_members: size_t; num_bytes: size_t): Pvoid; cdecl;
    realloc: function(mem: Pvoid; num_bytes: size_t): Pvoid; cdecl;
    free: procedure(mem: Pvoid); cdecl;
    aligned_alloc: function(alignment: size_t; num_bytes: size_t): Pvoid; cdecl;
    padding: array[0..3-1] of Pvoid;
  end;
  bson_mem_vtable_t = _bson_mem_vtable_t;
  Pbson_mem_vtable_t = ^bson_mem_vtable_t;

procedure bson_mem_set_vtable(
            vtable: Pbson_mem_vtable_t); inline;
procedure bson_mem_restore_vtable(); inline;
function bson_malloc(
           num_bytes: size_t): Pvoid; inline;
function bson_malloc0(
           num_bytes: size_t): Pvoid; inline;
function bson_aligned_alloc(
           alignment: size_t;
           num_bytes: size_t): Pvoid; inline;
function bson_aligned_alloc0(
           alignment: size_t;
           num_bytes: size_t): Pvoid; inline;
function bson_array_alloc(
           num_elems: size_t;
           elem_size: size_t): Pvoid; inline;
function bson_array_alloc0(
           num_elems: size_t;
           elem_size: size_t): Pvoid; inline;
function bson_realloc(
           mem: Pvoid;
           num_bytes: size_t): Pvoid; inline;
function bson_realloc_ctx(
           mem: Pvoid;
           num_bytes: size_t;
           ctx: Pvoid): Pvoid; inline;
procedure bson_free(
            mem: Pvoid); inline;
procedure bson_zero_free(
            mem: Pvoid;
            size: size_t); inline;

// #define BSON_ALIGNED_ALLOC(T) ((T * )(bson_aligned_alloc(BSON_ALIGNOF(T), sizeof(T))))
// #define BSON_ALIGNED_ALLOC0(T) ((T * )(bson_aligned_alloc0(BSON_ALIGNOF(T), sizeof(T))))
// #define BSON_ARRAY_ALLOC(N, T) ((T * )(bson_array_alloc(N, sizeof(T))))
// #define BSON_ARRAY_ALLOC0(N, T) ((T * )(bson_array_alloc0(N, sizeof(T))))

//////////////////
// bson-prelude //
//////////////////

/////////////////
// bson-endian //
/////////////////

const BSON_BIG_ENDIAN = 4321;
const BSON_LITTLE_ENDIAN = 1234;

// #define BSON_UINT16_FROM_LE(v) ((uint16_t)v)
// #define BSON_UINT16_TO_LE(v) ((uint16_t)v)
// #define BSON_UINT16_FROM_BE(v) BSON_UINT16_SWAP_LE_BE(v)
// #define BSON_UINT16_TO_BE(v) BSON_UINT16_SWAP_LE_BE(v)
// #define BSON_UINT32_FROM_LE(v) ((uint32_t)v)
// #define BSON_UINT32_TO_LE(v) ((uint32_t)v)
// #define BSON_UINT32_FROM_BE(v) BSON_UINT32_SWAP_LE_BE(v)
// #define BSON_UINT32_TO_BE(v) BSON_UINT32_SWAP_LE_BE(v)
// #define BSON_UINT64_FROM_LE(v) ((uint64_t)v)
// #define BSON_UINT64_TO_LE(v) ((uint64_t)v)
// #define BSON_UINT64_FROM_BE(v) BSON_UINT64_SWAP_LE_BE(v)
// #define BSON_UINT64_TO_BE(v) BSON_UINT64_SWAP_LE_BE(v)
// #define BSON_DOUBLE_FROM_LE(v) ((double)v)
// #define BSON_DOUBLE_TO_LE(v) ((double)v)
// #define BSON_FLOAT_FROM_LE(v) ((float)v)
// #define BSON_FLOAT_TO_LE(v) ((float)v)
// #error "The endianness of target architecture is unknown."

// *
// * --------------------------------------------------------------------------
// *
// * __bson_uint16_swap_slow --
// *
// * Fallback endianness conversion for 16-bit integers.
// *
// * Returns:
// * The endian swapped version.
// *
// * Side effects:
// * None.
// *
// * --------------------------------------------------------------------------
// *

// static BSON_INLINE uint16_t
// __bson_uint16_swap_slow(uint16_t v) (* IN

// *
// * --------------------------------------------------------------------------
// *
// * __bson_uint32_swap_slow --
// *
// * Fallback endianness conversion for 32-bit integers.
// *
// * Returns:
// * The endian swapped version.
// *
// * Side effects:
// * None.
// *
// * --------------------------------------------------------------------------
// *

// static BSON_INLINE uint32_t
// __bson_uint32_swap_slow(uint32_t v) (* IN

// *
// * --------------------------------------------------------------------------
// *
// * __bson_uint64_swap_slow --
// *
// * Fallback endianness conversion for 64-bit integers.
// *
// * Returns:
// * The endian swapped version.
// *
// * Side effects:
// * None.
// *
// * --------------------------------------------------------------------------
// *

// static BSON_INLINE uint64_t
// __bson_uint64_swap_slow(uint64_t v) (* IN

// *
// * --------------------------------------------------------------------------
// *
// * __bson_double_swap_slow --
// *
// * Fallback endianness conversion for double floating point.
// *
// * Returns:
// * The endian swapped version.
// *
// * Side effects:
// * None.
// *
// * --------------------------------------------------------------------------
// *

// BSON_STATIC_ASSERT2(sizeof_uint64_t, sizeof(double) == sizeof(uint64_t));

// static BSON_INLINE double
// __bson_double_swap_slow(double v) (* IN

// *
// * --------------------------------------------------------------------------
// *
// * __bson_float_swap_slow --
// *
// * Fallback endianness conversion for single floating point.
// *
// * Returns:
// * The endian swapped version.
// *
// * Side effects:
// * None.
// *
// * --------------------------------------------------------------------------
// *

// BSON_STATIC_ASSERT2(sizeof_uint32_t, sizeof(float) == sizeof(uint32_t));

// static BSON_INLINE float
// __bson_float_swap_slow(float v) (* IN

/////////////////
// bson-writer //
/////////////////

// * *
// * bson_writer_t:
// *
// * The bson_writer_t structure is a helper for writing a series of BSON
// * documents to a single malloc() buffer. You can provide a realloc() style
// * function to grow the buffer as you go.
// *
// * This is useful if you want to build a series of BSON documents right into
// * the target buffer for an outgoing packet. The offset parameter allows you to
// * start at an offset of the target buffer.
// *
type
  _bson_writer_t = record
  end;
  bson_writer_t = _bson_writer_t;
  Pbson_writer_t = ^bson_writer_t;

function bson_writer_new(
           buf: PPuint8_t;
           buflen: Psize_t;
           offset: size_t;
           realloc_func: bson_realloc_func;
           realloc_func_ctx: Pvoid): Pbson_writer_t; inline;
procedure bson_writer_destroy(
            writer: Pbson_writer_t); inline;
function bson_writer_get_length(
           writer: Pbson_writer_t): size_t; inline;
function bson_writer_begin(
           writer: Pbson_writer_t;
           bson: PPbson_t): ByteBool; inline;
procedure bson_writer_end(
            writer: Pbson_writer_t); inline;
procedure bson_writer_rollback(
            writer: Pbson_writer_t); inline;

////////////////
// bson-types //
////////////////

// *
// * --------------------------------------------------------------------------
// *
// * bson_unichar_t --
// *
// * bson_unichar_t provides an unsigned 32-bit type for containing
// * unicode characters. When iterating UTF-8 sequences, this should
// * be used to avoid losing the high-bits of non-ascii characters.
// *
// * --------------------------------------------------------------------------
// *

type bson_unichar_t = uint32_t;

// * *
// * @brief Flags configuring the creation of a bson_context_t
// *
type
  bson_context_flags_t = (
    (* * Use default options *)
    BSON_CONTEXT_NONE = 0,
    (* Deprecated: Generating new OIDs from a bson_context_t is always
    thread-safe *)
    BSON_CONTEXT_THREAD_SAFE = (1 shl 0),
    (* Deprecated: Does nothing and is ignored *)
    BSON_CONTEXT_DISABLE_HOST_CACHE = (1 shl 1),
    (* Call getpid() instead of remembering the result of getpid() when using the
    context *)
    BSON_CONTEXT_DISABLE_PID_CACHE = (1 shl 2),
    (* Deprecated: Does nothing *)
    BSON_CONTEXT_USE_TASK_ID = (1 shl 3));

// * *
// * bson_context_t:
// *
// * This structure manages context for the bson library. It handles
// * configuration for thread-safety and other performance related requirements.
// * Consumers will create a context and may use multiple under a variety of
// * situations.
// *
// * If your program calls fork(), you should initialize a new bson_context_t
// * using bson_context_init().
// *
// * If you are using threading, it is suggested that you use a bson_context_t
// * per thread for best performance. Alternatively, you can initialize the
// * bson_context_t with BSON_CONTEXT_THREAD_SAFE, although a performance penalty
// * will be incurred.
// *
// * Many functions will require that you provide a bson_context_t such as OID
// * generation.
// *
// * This structure is opaque in that you cannot see the contents of the
// * structure. However, it is stack allocatable in that enough padding is
// * provided in _bson_context_t to hold the structure.
// *
type
  _bson_context_t = record
  end;
  bson_context_t = _bson_context_t;
  Pbson_context_t = ^bson_context_t;

// * *
// * bson_json_opts_t:
// *
// * This structure is used to pass options for serializing BSON into extended
// * JSON to the respective serialization methods.
// *
// * max_len can be either a non-negative integer, or BSON_MAX_LEN_UNLIMITED to
// * set no limit for serialization length.
// *
type
  _bson_json_opts_t = record
  end;
  bson_json_opts_t = _bson_json_opts_t;
  Pbson_json_opts_t = ^bson_json_opts_t;

// * *
// * bson_oid_t:
// *
// * This structure contains the binary form of a BSON Object Id as specified
// * on http: // bsonspec.org. If you would like the bson_oid_t in string form
// * see bson_oid_to_string() or bson_oid_to_string_r().
// *
type
  bson_oid_t = record
    bytes: array[0..12-1] of uint8_t;
  end;
  Pbson_oid_t = ^bson_oid_t;
  PPbson_oid_t = ^Pbson_oid_t;

// BSON_STATIC_ASSERT2(oid_t, sizeof(bson_oid_t) == 12);

// * *
// * bson_decimal128_t:
// *
// * @high The high-order bytes of the decimal128. This field contains sign,
// * combination bits, exponent, and part of the coefficient continuation.
// * @low The low-order bytes of the decimal128. This field contains the second
// * part of the coefficient continuation.
// *
// * This structure is a boxed type containing the value for the BSON decimal128
// * type. The structure stores the 128 bits such that they correspond to the
// * native format for the IEEE decimal128 type, if it is implemented.
// *
type
  bson_decimal128_t = record
    low: uint64_t;
    high: uint64_t;
  end;
  Pbson_decimal128_t = ^bson_decimal128_t;

// * *
// * @brief Flags and error codes for BSON validation functions.
// *
// * Pass these flags bits to control the behavior of the `bson_validate` family
// * of functions.
// *
// * Additionally, if validation fails, then the error code set on a `bson_error_t`
// * will have the value corresponding to the reason that validation failed.
// *
type
  bson_validate_flags_t = (
    (* *
    * @brief No special validation behavior specified.
    *)
    BSON_VALIDATE_NONE = 0,
    (* *
    * @brief Check that all text components of the BSON data are valid UTF-8.
    *
    * Note that this will also cause validation to reject valid text that contains
    * a null character. This can be changed by also passing
    * `BSON_VALIDATE_UTF8_ALLOW_NULL`
    *)
    BSON_VALIDATE_UTF8 = (1 shl 0),
    (* *
    * @brief Check that element keys do not begin with an ASCII dollar `$`
    *)
    BSON_VALIDATE_DOLLAR_KEYS = (1 shl 1),
    (* *
    * @brief Check that element keys do not contain an ASCII period `.`
    *)
    BSON_VALIDATE_DOT_KEYS = (1 shl 2),
    (* *
    * @brief If set then it is * not * an error for a UTF-8 string to contain
    * embedded null characters.
    *
    * This has no effect unless `BSON_VALIDATE_UTF8` is also passed.
    *)
    BSON_VALIDATE_UTF8_ALLOW_NULL = (1 shl 3),
    (* *
    * @brief Check that no element key is a zero-length empty string.
    *)
    BSON_VALIDATE_EMPTY_KEYS = (1 shl 4),
    (* *
    * @brief This is not a flag that controls behavior, but is instead used to indicate
    * that a BSON document is corrupted in some way. This is the value that will
    * appear as an error code.
    *
    * Passing this as a flag has no effect.
    *)
    BSON_VALIDATE_CORRUPT = (1 shl 5));

// * *
// * bson_type_t:
// *
// * This enumeration contains all of the possible types within a BSON document.
// * Use bson_iter_type() to fetch the type of a field while iterating over it.
// *
type
  bson_type_t = (
    BSON_TYPE_EOD = $00,
    BSON_TYPE_DOUBLE = $01,
    BSON_TYPE_UTF8 = $02,
    BSON_TYPE_DOCUMENT = $03,
    BSON_TYPE_ARRAY = $04,
    BSON_TYPE_BINARY = $05,
    BSON_TYPE_UNDEFINED = $06,
    BSON_TYPE_OID = $07,
    BSON_TYPE_BOOL = $08,
    BSON_TYPE_DATE_TIME = $09,
    BSON_TYPE_NULL = $0A,
    BSON_TYPE_REGEX = $0B,
    BSON_TYPE_DBPOINTER = $0C,
    BSON_TYPE_CODE = $0D,
    BSON_TYPE_SYMBOL = $0E,
    BSON_TYPE_CODEWSCOPE = $0F,
    BSON_TYPE_INT32 = $10,
    BSON_TYPE_TIMESTAMP = $11,
    BSON_TYPE_INT64 = $12,
    BSON_TYPE_DECIMAL128 = $13,
    BSON_TYPE_MAXKEY = $7F,
    BSON_TYPE_MINKEY = $FF);

// * *
// * bson_subtype_t:
// *
// * This enumeration contains the various subtypes that may be used in a binary
// * field. See http: // bsonspec.org for more information.
// *
type
  bson_subtype_t = (
    BSON_SUBTYPE_BINARY = $00,
    BSON_SUBTYPE_FUNCTION = $01,
    BSON_SUBTYPE_BINARY_DEPRECATED = $02,
    BSON_SUBTYPE_UUID_DEPRECATED = $03,
    BSON_SUBTYPE_UUID = $04,
    BSON_SUBTYPE_MD5 = $05,
    BSON_SUBTYPE_ENCRYPTED = $06,
    BSON_SUBTYPE_COLUMN = $07,
    BSON_SUBTYPE_SENSITIVE = $08,
    BSON_SUBTYPE_VECTOR = $09,
    BSON_SUBTYPE_USER = $80);
  Pbson_subtype_t = ^bson_subtype_t;

// *
// * --------------------------------------------------------------------------
// *
// * bson_value_t --
// *
// * A boxed type to contain various bson_type_t types.
// *
// * See also:
// * bson_value_copy()
// * bson_value_destroy()
// *
// * --------------------------------------------------------------------------
// *

type
  _bson_value_t = record
    value_type: bson_type_t;
    padding: int32_t;
    value: record
      case Integer of
        0:(v_oid: bson_oid_t);
        1:(v_int64: int64_t);
        2:(v_int32: int32_t);
        3:(v_int8: int8_t);
        4:(v_double: double);
        5:(v_bool: ByteBool);
        6:(v_datetime: int64_t);
        7:(
          v_timestamp: record
            timestamp: uint32_t;
            increment: uint32_t;
          end;
        );
        8:(
          v_utf8: record
            str: PAnsiChar;
            len: uint32_t;
          end;
        );
        9:(
          v_doc: record
            data: Puint8_t;
            data_len: uint32_t;
          end;
        );
        10:(
          v_binary: record
            data: Puint8_t;
            data_len: uint32_t;
            subtype: bson_subtype_t;
          end;
        );
        11:(
          v_regex: record
            regex: PAnsiChar;
            options: PAnsiChar;
          end;
        );
        12:(
          v_dbpointer: record
            collection: PAnsiChar;
            collection_len: uint32_t;
            oid: bson_oid_t;
          end;
        );
        13:(
          v_code: record
            code: PAnsiChar;
            code_len: uint32_t;
          end;
        );
        14:(
          v_codewscope: record
            code: PAnsiChar;
            scope_data: Puint8_t;
            code_len: uint32_t;
            scope_len: uint32_t;
          end;
        );
        15:(
          v_symbol: record
            symbol: PAnsiChar;
            len: uint32_t;
          end;
        );
        16:(v_decimal128: bson_decimal128_t);
    end;
  end;
  bson_value_t = _bson_value_t;
  Pbson_value_t = ^bson_value_t;

// * *
// * bson_iter_t:
// *
// * This structure manages iteration over a bson_t structure. It keeps track
// * of the location of the current key and value within the buffer. Using the
// * various functions to get the value of the iter will read from these
// * locations.
// *
// * This structure is safe to discard on the stack. No cleanup is necessary
// * after using it.
// *
type
  bson_iter_t = record
    raw: Puint8_t; (* The raw buffer being iterated. *)
    len: uint32_t; (* The length of raw. *)
    off: uint32_t; (* The offset within the buffer. *)
    &type: uint32_t; (* The offset of the type byte. *)
    key: uint32_t; (* The offset of the key byte. *)
    d1: uint32_t; (* The offset of the first data byte. *)
    d2: uint32_t; (* The offset of the second data byte. *)
    d3: uint32_t; (* The offset of the third data byte. *)
    d4: uint32_t; (* The offset of the fourth data byte. *)
    next_off: uint32_t; (* The offset of the next field. *)
    err_off: uint32_t; (* The offset of the error. *)
    value: bson_value_t; (* Internal value for various state. *)
  end;
  Pbson_iter_t = ^bson_iter_t;

// * *
// * bson_reader_t:
// *
// * This structure is used to iterate over a sequence of BSON documents. It
// * allows for them to be iterated with the possibility of no additional
// * memory allocations under certain circumstances such as reading from an
// * incoming mongo packet.
// *

type
  bson_reader_t = record
    &type: uint32_t;
    // private
  end;
  Pbson_reader_t = ^bson_reader_t;

// * *
// * bson_visitor_t:
// *
// * This structure contains a series of pointers that can be executed for
// * each field of a BSON document based on the field type.
// *
// * For example, if an int32 field is found, visit_int32 will be called.
// *
// * When visiting each field using bson_iter_visit_all(), you may provide a
// * data pointer that will be provided with each callback. This might be useful
// * if you are marshaling to another language.
// *
// * You may pre-maturely stop the visitation of fields by returning true in your
// * visitor. Returning false will continue visitation to further fields.
// *
type
  bson_visitor_t = record
    (* run before / after descending into a document *)
    visit_before: function(iter: Pbson_iter_t; key: PAnsiChar; data: Pvoid): ByteBool; cdecl;
    visit_after: function(iter: Pbson_iter_t; key: PAnsiChar; data: Pvoid): ByteBool; cdecl;
    (* corrupt BSON, or unsupported type and visit_unsupported_type not set *)
    visit_corrupt: procedure(iter: Pbson_iter_t; data: Pvoid); cdecl;
    (* normal bson field callbacks *)
    visit_double: function(iter: Pbson_iter_t; key: PAnsiChar; v_double: double; data: Pvoid): ByteBool; cdecl;
    visit_utf8: function(iter: Pbson_iter_t; key: PAnsiChar; v_utf8_len: size_t; v_utf8: PAnsiChar; data: Pvoid): ByteBool; cdecl;
    visit_document: function(iter: Pbson_iter_t; key: PAnsiChar; v_document: Pbson_t; data: Pvoid): ByteBool; cdecl;
    visit_array: function(iter: Pbson_iter_t; key: PAnsiChar; v_array: Pbson_t; data: Pvoid): ByteBool; cdecl;
    visit_binary: function(iter: Pbson_iter_t; key: PAnsiChar; v_subtype: bson_subtype_t; v_binary_len: size_t; v_binary: Puint8_t; data: Pvoid): ByteBool; cdecl;
    (* normal field with deprecated "Undefined" BSON type *)
    visit_undefined: function(iter: Pbson_iter_t; key: PAnsiChar; data: Pvoid): ByteBool; cdecl;
    visit_oid: function(iter: Pbson_iter_t; key: PAnsiChar; v_oid: Pbson_oid_t; data: Pvoid): ByteBool; cdecl;
    visit_bool: function(iter: Pbson_iter_t; key: PAnsiChar; v_bool: ByteBool; data: Pvoid): ByteBool; cdecl;
    visit_date_time: function(iter: Pbson_iter_t; key: PAnsiChar; msec_since_epoch: int64_t; data: Pvoid): ByteBool; cdecl;
    visit_null: function(iter: Pbson_iter_t; key: PAnsiChar; data: Pvoid): ByteBool; cdecl;
    visit_regex: function(iter: Pbson_iter_t; key: PAnsiChar; v_regex: PAnsiChar; v_options: PAnsiChar; data: Pvoid): ByteBool; cdecl;
    visit_dbpointer: function(iter: Pbson_iter_t; key: PAnsiChar; v_collection_len: size_t; v_collection: PAnsiChar; v_oid: Pbson_oid_t; data: Pvoid): ByteBool; cdecl;
    visit_code: function(iter: Pbson_iter_t; key: PAnsiChar; v_code_len: size_t; v_code: PAnsiChar; data: Pvoid): ByteBool; cdecl;
    visit_symbol: function(iter: Pbson_iter_t; key: PAnsiChar; v_symbol_len: size_t; v_symbol: PAnsiChar; data: Pvoid): ByteBool; cdecl;
    visit_codewscope: function(iter: Pbson_iter_t; key: PAnsiChar; v_code_len: size_t; v_code: PAnsiChar; v_scope: Pbson_t; data: Pvoid): ByteBool; cdecl;
    visit_int32: function(iter: Pbson_iter_t; key: PAnsiChar; v_int32: int32_t; data: Pvoid): ByteBool; cdecl;
    visit_timestamp: function(iter: Pbson_iter_t; key: PAnsiChar; v_timestamp: uint32_t; v_increment: uint32_t; data: Pvoid): ByteBool; cdecl;
    visit_int64: function(iter: Pbson_iter_t; key: PAnsiChar; v_int64: int64_t; data: Pvoid): ByteBool; cdecl;
    visit_maxkey: function(iter: Pbson_iter_t; key: PAnsiChar; data: Pvoid): ByteBool; cdecl;
    visit_minkey: function(iter: Pbson_iter_t; key: PAnsiChar; data: Pvoid): ByteBool; cdecl;
    (* if set, called instead of visit_corrupt when an apparently valid BSON
     * includes an unrecognized field type (reading future version of BSON) *)
    visit_unsupported_type: procedure(iter: Pbson_iter_t; key: PAnsiChar; type_code: uint32_t; data: Pvoid); cdecl;
    visit_decimal128: function(iter: Pbson_iter_t; key: PAnsiChar; v_decimal128: Pbson_decimal128_t; data: Pvoid): ByteBool; cdecl;
    padding: array[0..7-1] of Pvoid;
  end;
  Pbson_visitor_t = ^bson_visitor_t;

// * *
// * bson_next_power_of_two:
// * @v: A 32-bit unsigned_integer of required bytes.
// *
// * Determines the next larger power of two for the value of @v
// * in a constant number of operations.
// *
// * It is up to the caller to guarantee this will not overflow.
// *
// * Returns: The next power of 2 from @v.
// *
// static BSON_INLINE size_t
// bson_next_power_of_two(size_t v)

// static BSON_INLINE bool
// bson_is_power_of_two(uint32_t v)

//////////////////
// bson-context //
//////////////////

// * *
// * @brief Initialize a new context with the given flags
// *
// * @param flags Flags used to configure the behavior of the context. For most
// * cases, this should be BSON_CONTEXT_NONE.
// *
// * @return A newly allocated context. Must be freed with bson_context_destroy()
// *
// * @note If you expect your pid to change without notice, such as from an
// * unexpected call to fork(), then specify BSON_CONTEXT_DISABLE_PID_CACHE in
// * `flags`.
// *
function bson_context_new(
           flags: bson_context_flags_t): Pbson_context_t; inline;

// * *
// * @brief Destroy and free a bson_context_t created by bson_context_new()
// *
procedure bson_context_destroy(
            context: Pbson_context_t); inline;

// * *
// * @brief Obtain a pointer to the application-default bson_context_t
// *
// * @note This context_t MUST NOT be passed to bson_context_destroy()
// *
function bson_context_get_default(): Pbson_context_t; inline;

////////////////
// bson-clock //
////////////////

function bson_get_monotonic_time(): int64_t; inline;
function bson_gettimeofday(
           tv: Ptimeval): Integer; inline;

/////////////////////
// bson-decimal128 //
/////////////////////

// * *
// * BSON_DECIMAL128_STRING:
// *
// * The length of a decimal128 string (with null terminator).
// *
// * 1 for the sign
// * 35 for digits and radix
// * 2 for exponent indicator and sign
// * 4 for exponent digits
// *
const BSON_DECIMAL128_STRING = 43;
const BSON_DECIMAL128_INF = 'Infinity';
const BSON_DECIMAL128_NAN = 'NaN';

procedure bson_decimal128_to_string(
            dec: Pbson_decimal128_t;
            str: PAnsiChar); inline;

// * Note: @string must be ASCII characters only!
function bson_decimal128_from_string(
           &string: PAnsiChar;
           dec: Pbson_decimal128_t): ByteBool; inline;

function bson_decimal128_from_string_w_len(
           &string: PAnsiChar;
           len: Integer;
           dec: Pbson_decimal128_t): ByteBool; inline;

///////////////
// bson-json //
///////////////

type
  _bson_json_reader_t = record
  end;
  bson_json_reader_t = _bson_json_reader_t;
  Pbson_json_reader_t = ^bson_json_reader_t;

type
  bson_json_error_code_t = (
    BSON_JSON_ERROR_READ_CORRUPT_JS = 1,
    BSON_JSON_ERROR_READ_INVALID_PARAM,
    BSON_JSON_ERROR_READ_CB_FAILURE);

// * *
// * BSON_MAX_LEN_UNLIMITED
// *
// * Denotes unlimited length limit when converting BSON to JSON.
// *
const BSON_MAX_LEN_UNLIMITED = -1;

// * *
// * bson_json_mode_t:
// *
// * This enumeration contains the different modes to serialize BSON into extended
// * JSON.
// *
type
  bson_json_mode_t = (
    BSON_JSON_MODE_LEGACY,
    BSON_JSON_MODE_CANONICAL,
    BSON_JSON_MODE_RELAXED);

function bson_json_opts_new(
           mode: bson_json_mode_t;
           max_len: int32_t): Pbson_json_opts_t; inline;
procedure bson_json_opts_destroy(
            opts: Pbson_json_opts_t); inline;
procedure bson_json_opts_set_outermost_array(
            opts: Pbson_json_opts_t;
            is_outermost_array: ByteBool); inline;

type
  bson_json_reader_cb = function (
    handle: Pvoid;
    buf: Puint8_t;
    count: size_t): ssize_t; cdecl;
type
  bson_json_destroy_cb = procedure (
    handle: Pvoid); cdecl;

function bson_json_reader_new(
           data: Pvoid;
           cb: bson_json_reader_cb;
           dcb: bson_json_destroy_cb;
           allow_multiple: ByteBool;
           buf_size: size_t): Pbson_json_reader_t; inline;
function bson_json_reader_new_from_fd(
           fd: Integer;
           close_on_destroy: ByteBool): Pbson_json_reader_t; inline;
function bson_json_reader_new_from_file(
           filename: PAnsiChar;
           error: Pbson_error_t): Pbson_json_reader_t; inline;
procedure bson_json_reader_destroy(
            reader: Pbson_json_reader_t); inline;
function bson_json_reader_read(
           reader: Pbson_json_reader_t;
           bson: Pbson_t;
           error: Pbson_error_t): Integer; inline;
function bson_json_data_reader_new(
           allow_multiple: ByteBool;
           size: size_t): Pbson_json_reader_t; inline;
procedure bson_json_data_reader_ingest(
            reader: Pbson_json_reader_t;
            data: Puint8_t;
            len: size_t); inline;

///////////////
// bson-keys //
///////////////

function bson_uint32_to_string(
           value: uint32_t;
           strptr: PPAnsiChar;
           str: PAnsiChar;
           size: size_t): size_t; inline;

/////////////////
// bson-string //
/////////////////

function bson_strdup(
           str: PAnsiChar): PAnsiChar; inline;

function bson_strdup_printf(
           format: PAnsiChar): PAnsiChar; inline;

function bson_strdupv_printf(
           format: PAnsiChar;
           args: va_list): PAnsiChar; inline;

function bson_strndup(
           str: PAnsiChar;
           n_bytes: size_t): PAnsiChar; inline;

procedure bson_strncpy(
            dst: PAnsiChar;
            src: PAnsiChar;
            size: size_t); inline;

function bson_vsnprintf(
           str: PAnsiChar;
           size: size_t;
           format: PAnsiChar;
           ap: va_list): Integer; inline;

function bson_snprintf(
           str: PAnsiChar;
           size: size_t;
           format: PAnsiChar): Integer; inline;

procedure bson_strfreev(
            strv: PPAnsiChar); inline;

function bson_strnlen(
           s: PAnsiChar;
           maxlen: size_t): size_t; inline;

function bson_ascii_strtoll(
           str: PAnsiChar;
           endptr: PPAnsiChar;
           base: Integer): int64_t; inline;

function bson_strcasecmp(
           s1: PAnsiChar;
           s2: PAnsiChar): Integer; inline;

function bson_isspace(
           c: Integer): ByteBool; inline;

///////////////
// bson-utf8 //
///////////////

function bson_utf8_validate(
           utf8: PAnsiChar;
           utf8_len: size_t;
           allow_null: ByteBool): ByteBool; inline;
function bson_utf8_escape_for_json(
           utf8: PAnsiChar;
           utf8_len: ssize_t): PAnsiChar; inline;
function bson_utf8_get_char(
           utf8: PAnsiChar): bson_unichar_t; inline;
function bson_utf8_next_char(
           utf8: PAnsiChar): PAnsiChar; inline;
procedure bson_utf8_from_unichar(
            unichar: bson_unichar_t;
            utf8: TCharArray6;
            len: Puint32_t); inline;

////////////////
// bson-value //
////////////////

procedure bson_value_copy(
            src: Pbson_value_t;
            dst: Pbson_value_t); inline;
procedure bson_value_destroy(
            value: Pbson_value_t); inline;

////////////////////////////
// bson-version-functions //
////////////////////////////

function bson_get_major_version(): Integer; inline;
function bson_get_minor_version(): Integer; inline;
function bson_get_micro_version(): Integer; inline;
function bson_get_version(): PAnsiChar; inline;
function bson_check_version(
           required_major: Integer;
           required_minor: Integer;
           required_micro: Integer): ByteBool; inline;

///////////////
// bson-bcon //
///////////////

// Include specific headers first, because bson.h tries to include this header itself:

// For other APIs, not properly grouped, but needed:

const BCON_STACK_MAX = 100;

// #define BCON_ENSURE_DECLARE(fun, type) static BSON_INLINE type bcon_ensure_##fun(type _t) { return _t; }

// #define BCON_ENSURE(fun, val) bcon_ensure_##fun(val)

// #define BCON_ENSURE_STORAGE(fun, val) bcon_ensure_##fun(&(val))

// BCON_ENSURE_DECLARE(const_char_ptr, const char * )
// BCON_ENSURE_DECLARE(const_char_ptr_ptr, const char * * )
// BCON_ENSURE_DECLARE(double, double)
// BCON_ENSURE_DECLARE(double_ptr, double * )
// BCON_ENSURE_DECLARE(const_bson_ptr, const bson_t * )
// BCON_ENSURE_DECLARE(bson_ptr, bson_t * )
// BCON_ENSURE_DECLARE(subtype, bson_subtype_t)
// BCON_ENSURE_DECLARE(subtype_ptr, bson_subtype_t * )
// BCON_ENSURE_DECLARE(const_uint8_ptr, const uint8_t * )
// BCON_ENSURE_DECLARE(const_uint8_ptr_ptr, const uint8_t * * )
// BCON_ENSURE_DECLARE(uint32, uint32_t)
// BCON_ENSURE_DECLARE(uint32_ptr, uint32_t * )
// BCON_ENSURE_DECLARE(const_oid_ptr, const bson_oid_t * )
// BCON_ENSURE_DECLARE(const_oid_ptr_ptr, const bson_oid_t * * )
// BCON_ENSURE_DECLARE(int32, int32_t)
// BCON_ENSURE_DECLARE(int32_ptr, int32_t * )
// BCON_ENSURE_DECLARE(int64, int64_t)
// BCON_ENSURE_DECLARE(int64_ptr, int64_t * )
// BCON_ENSURE_DECLARE(const_decimal128_ptr, const bson_decimal128_t * )
// BCON_ENSURE_DECLARE(bool, bool)
// BCON_ENSURE_DECLARE(bool_ptr, bool * )
// BCON_ENSURE_DECLARE(bson_type, bson_type_t)
// BCON_ENSURE_DECLARE(bson_iter_ptr, bson_iter_t * )
// BCON_ENSURE_DECLARE(const_bson_iter_ptr, const bson_iter_t * )

// #define BCON_UTF8(_val) BCON_MAGIC, BCON_TYPE_UTF8, BCON_ENSURE(const_char_ptr, (_val))
// #define BCON_DOUBLE(_val) BCON_MAGIC, BCON_TYPE_DOUBLE, BCON_ENSURE(double, (_val))
// #define BCON_DOCUMENT(_val) BCON_MAGIC, BCON_TYPE_DOCUMENT, BCON_ENSURE(const_bson_ptr, (_val))
// #define BCON_ARRAY(_val) BCON_MAGIC, BCON_TYPE_ARRAY, BCON_ENSURE(const_bson_ptr, (_val))
// #define BCON_BIN(_subtype, _binary, _length) BCON_MAGIC, BCON_TYPE_BIN, BCON_ENSURE(subtype, (_subtype)), BCON_ENSURE(const_uint8_ptr, (_binary)), BCON_ENSURE(uint32, (_length))
// #define BCON_UNDEFINED BCON_MAGIC, BCON_TYPE_UNDEFINED
// #define BCON_OID(_val) BCON_MAGIC, BCON_TYPE_OID, BCON_ENSURE(const_oid_ptr, (_val))
// #define BCON_BOOL(_val) BCON_MAGIC, BCON_TYPE_BOOL, BCON_ENSURE(bool, (_val))
// #define BCON_DATE_TIME(_val) BCON_MAGIC, BCON_TYPE_DATE_TIME, BCON_ENSURE(int64, (_val))
// #define BCON_NULL BCON_MAGIC, BCON_TYPE_NULL
// #define BCON_REGEX(_regex, _flags) BCON_MAGIC, BCON_TYPE_REGEX, BCON_ENSURE(const_char_ptr, (_regex)), BCON_ENSURE(const_char_ptr, (_flags))
// #define BCON_DBPOINTER(_collection, _oid) BCON_MAGIC, BCON_TYPE_DBPOINTER, BCON_ENSURE(const_char_ptr, (_collection)), BCON_ENSURE(const_oid_ptr, (_oid))
// #define BCON_CODE(_val) BCON_MAGIC, BCON_TYPE_CODE, BCON_ENSURE(const_char_ptr, (_val))
// #define BCON_SYMBOL(_val) BCON_MAGIC, BCON_TYPE_SYMBOL, BCON_ENSURE(const_char_ptr, (_val))
// #define BCON_CODEWSCOPE(_js, _scope) BCON_MAGIC, BCON_TYPE_CODEWSCOPE, BCON_ENSURE(const_char_ptr, (_js)), BCON_ENSURE(const_bson_ptr, (_scope))
// #define BCON_INT32(_val) BCON_MAGIC, BCON_TYPE_INT32, BCON_ENSURE(int32, (_val))
// #define BCON_TIMESTAMP(_timestamp, _increment) BCON_MAGIC, BCON_TYPE_TIMESTAMP, BCON_ENSURE(int32, (_timestamp)), BCON_ENSURE(int32, (_increment))
// #define BCON_INT64(_val) BCON_MAGIC, BCON_TYPE_INT64, BCON_ENSURE(int64, (_val))
// #define BCON_DECIMAL128(_val) BCON_MAGIC, BCON_TYPE_DECIMAL128, BCON_ENSURE(const_decimal128_ptr, (_val))
// #define BCON_MAXKEY BCON_MAGIC, BCON_TYPE_MAXKEY
// #define BCON_MINKEY BCON_MAGIC, BCON_TYPE_MINKEY
// #define BCON(_val) BCON_MAGIC, BCON_TYPE_BCON, BCON_ENSURE(const_bson_ptr, (_val))
// #define BCON_ITER(_val) BCON_MAGIC, BCON_TYPE_ITER, BCON_ENSURE(const_bson_iter_ptr, (_val))

// #define BCONE_UTF8(_val) BCONE_MAGIC, BCON_TYPE_UTF8, BCON_ENSURE_STORAGE(const_char_ptr_ptr, (_val))
// #define BCONE_DOUBLE(_val) BCONE_MAGIC, BCON_TYPE_DOUBLE, BCON_ENSURE_STORAGE(double_ptr, (_val))
// #define BCONE_DOCUMENT(_val) BCONE_MAGIC, BCON_TYPE_DOCUMENT, BCON_ENSURE_STORAGE(bson_ptr, (_val))
// #define BCONE_ARRAY(_val) BCONE_MAGIC, BCON_TYPE_ARRAY, BCON_ENSURE_STORAGE(bson_ptr, (_val))
// #define BCONE_BIN(subtype, binary, length) BCONE_MAGIC, BCON_TYPE_BIN, BCON_ENSURE_STORAGE(subtype_ptr, (subtype)), BCON_ENSURE_STORAGE(const_uint8_ptr_ptr, (binary)), BCON_ENSURE_STORAGE(uint32_ptr, (length))
// #define BCONE_UNDEFINED BCONE_MAGIC, BCON_TYPE_UNDEFINED
// #define BCONE_OID(_val) BCONE_MAGIC, BCON_TYPE_OID, BCON_ENSURE_STORAGE(const_oid_ptr_ptr, (_val))
// #define BCONE_BOOL(_val) BCONE_MAGIC, BCON_TYPE_BOOL, BCON_ENSURE_STORAGE(bool_ptr, (_val))
// #define BCONE_DATE_TIME(_val) BCONE_MAGIC, BCON_TYPE_DATE_TIME, BCON_ENSURE_STORAGE(int64_ptr, (_val))
// #define BCONE_NULL BCONE_MAGIC, BCON_TYPE_NULL
// #define BCONE_REGEX(_regex, _flags) BCONE_MAGIC, BCON_TYPE_REGEX, BCON_ENSURE_STORAGE(const_char_ptr_ptr, (_regex)), BCON_ENSURE_STORAGE(const_char_ptr_ptr, (_flags))
// #define BCONE_DBPOINTER(_collection, _oid) BCONE_MAGIC, BCON_TYPE_DBPOINTER, BCON_ENSURE_STORAGE(const_char_ptr_ptr, (_collection)), BCON_ENSURE_STORAGE(const_oid_ptr_ptr, (_oid))
// #define BCONE_CODE(_val) BCONE_MAGIC, BCON_TYPE_CODE, BCON_ENSURE_STORAGE(const_char_ptr_ptr, (_val))
// #define BCONE_SYMBOL(_val) BCONE_MAGIC, BCON_TYPE_SYMBOL, BCON_ENSURE_STORAGE(const_char_ptr_ptr, (_val))
// #define BCONE_CODEWSCOPE(_js, _scope) BCONE_MAGIC, BCON_TYPE_CODEWSCOPE, BCON_ENSURE_STORAGE(const_char_ptr_ptr, (_js)), BCON_ENSURE_STORAGE(bson_ptr, (_scope))
// #define BCONE_INT32(_val) BCONE_MAGIC, BCON_TYPE_INT32, BCON_ENSURE_STORAGE(int32_ptr, (_val))
// #define BCONE_TIMESTAMP(_timestamp, _increment) BCONE_MAGIC, BCON_TYPE_TIMESTAMP, BCON_ENSURE_STORAGE(int32_ptr, (_timestamp)), BCON_ENSURE_STORAGE(int32_ptr, (_increment))
// #define BCONE_INT64(_val) BCONE_MAGIC, BCON_TYPE_INT64, BCON_ENSURE_STORAGE(int64_ptr, (_val))
// #define BCONE_DECIMAL128(_val) BCONE_MAGIC, BCON_TYPE_DECIMAL128, BCON_ENSURE_STORAGE(const_decimal128_ptr, (_val))
// #define BCONE_MAXKEY BCONE_MAGIC, BCON_TYPE_MAXKEY
// #define BCONE_MINKEY BCONE_MAGIC, BCON_TYPE_MINKEY
// #define BCONE_SKIP(_val) BCONE_MAGIC, BCON_TYPE_SKIP, BCON_ENSURE(bson_type, (_val))
// #define BCONE_ITER(_val) BCONE_MAGIC, BCON_TYPE_ITER, BCON_ENSURE_STORAGE(bson_iter_ptr, (_val))

// #define BCON_MAGIC bson_bcon_magic()
// #define BCONE_MAGIC bson_bcone_magic()

type
  bcon_type_t = (
    BCON_TYPE_UTF8,
    BCON_TYPE_DOUBLE,
    BCON_TYPE_DOCUMENT,
    BCON_TYPE_ARRAY,
    BCON_TYPE_BIN,
    BCON_TYPE_UNDEFINED,
    BCON_TYPE_OID,
    BCON_TYPE_BOOL,
    BCON_TYPE_DATE_TIME,
    BCON_TYPE_NULL,
    BCON_TYPE_REGEX,
    BCON_TYPE_DBPOINTER,
    BCON_TYPE_CODE,
    BCON_TYPE_SYMBOL,
    BCON_TYPE_CODEWSCOPE,
    BCON_TYPE_INT32,
    BCON_TYPE_TIMESTAMP,
    BCON_TYPE_INT64,
    BCON_TYPE_DECIMAL128,
    BCON_TYPE_MAXKEY,
    BCON_TYPE_MINKEY,
    BCON_TYPE_BCON,
    BCON_TYPE_ARRAY_START,
    BCON_TYPE_ARRAY_END,
    BCON_TYPE_DOC_START,
    BCON_TYPE_DOC_END,
    BCON_TYPE_END,
    BCON_TYPE_RAW,
    BCON_TYPE_SKIP,
    BCON_TYPE_ITER,
    BCON_TYPE_ERROR);

type
  bcon_append_ctx_frame = record
    i: Integer;
    is_array: ByteBool;
    bson: bson_t;
  end;
  bcon_append_ctx_frame_t = bcon_append_ctx_frame;

type
  bcon_extract_ctx_frame = record
    i: Integer;
    is_array: ByteBool;
    iter: bson_iter_t;
  end;
  bcon_extract_ctx_frame_t = bcon_extract_ctx_frame;

type
  _bcon_append_ctx_t = record
    stack: array[0..BCON_STACK_MAX-1] of bcon_append_ctx_frame_t;
    n: Integer;
  end;
  bcon_append_ctx_t = _bcon_append_ctx_t;
  Pbcon_append_ctx_t = ^bcon_append_ctx_t;

type
  _bcon_extract_ctx_t = record
    stack: array[0..BCON_STACK_MAX-1] of bcon_extract_ctx_frame_t;
    n: Integer;
  end;
  bcon_extract_ctx_t = _bcon_extract_ctx_t;
  Pbcon_extract_ctx_t = ^bcon_extract_ctx_t;

procedure bcon_append(
            bson: Pbson_t); inline;
procedure bcon_append_ctx(
            bson: Pbson_t;
            ctx: Pbcon_append_ctx_t); inline;
procedure bcon_append_ctx_va(
            bson: Pbson_t;
            ctx: Pbcon_append_ctx_t;
            va: Pva_list); inline;
procedure bcon_append_ctx_init(
            ctx: Pbcon_append_ctx_t); inline;

procedure bcon_extract_ctx_init(
            ctx: Pbcon_extract_ctx_t); inline;

procedure bcon_extract_ctx(
            bson: Pbson_t;
            ctx: Pbcon_extract_ctx_t); inline;

function bcon_extract_ctx_va(
           bson: Pbson_t;
           ctx: Pbcon_extract_ctx_t;
           ap: Pva_list): ByteBool; inline;

function bcon_extract(
           bson: Pbson_t): ByteBool; inline;

// bool __CALLCONV__
// bcon_extract_va(bson_t * bson, bcon_extract_ctx_t * ctx, ...);

function bcon_new(
           unused: Pvoid): Pbson_t; inline;

// * *
// * The bcon_..() functions are all declared with __attribute__((sentinel)).
// *
// * From GCC manual for "sentinel": "A valid NULL in this context is defined as
// * zero with any pointer type. If your system defines the NULL macro with an
// * integer type then you need to add an explicit cast."
// * Case in point: GCC on Solaris (at least)
// *
// #define BCON_APPEND(_bson, ...) bcon_append((_bson), __VA_ARGS__, (void * )NULL)
// #define BCON_APPEND_CTX(_bson, _ctx, ...) bcon_append_ctx((_bson), (_ctx), __VA_ARGS__, (void * )NULL)

// #define BCON_EXTRACT(_bson, ...) bcon_extract((_bson), __VA_ARGS__, (void * )NULL)

// #define BCON_EXTRACT_CTX(_bson, _ctx, ...) bcon_extract((_bson), (_ctx), __VA_ARGS__, (void * )NULL)

// #define BCON_NEW(...) bcon_new(NULL, __VA_ARGS__, (void * )NULL)

function bson_bcon_magic(): PAnsiChar; inline;
function bson_bcone_magic(): PAnsiChar; inline;

/////////////////
// bson-reader //
/////////////////

const BSON_ERROR_READER_BADFD = 1;

// *
// * --------------------------------------------------------------------------
// *
// * bson_reader_read_func_t --
// *
// * This function is a callback used by bson_reader_t to read the
// * next chunk of data from the underlying opaque file descriptor.
// *
// * This function is meant to operate similar to the read() function
// * as part of libc on UNIX-like systems.
// *
// * Parameters:
// * @handle: The handle to read from.
// * @buf: The buffer to read into.
// * @count: The number of bytes to read.
// *
// * Returns:
// * 0 for end of stream.
// * -1 for read failure.
// * Greater than zero for number of bytes read into @buf.
// *
// * Side effects:
// * None.
// *
// * --------------------------------------------------------------------------
// *

type
  bson_reader_read_func_t = function (
    handle: Pvoid;
    (* IN *)
    buf: Pvoid;
    (* IN *)
    count: size_t): ssize_t; cdecl; (* IN *)

// *
// * --------------------------------------------------------------------------
// *
// * bson_reader_destroy_func_t --
// *
// * Destroy callback to release any resources associated with the
// * opaque handle.
// *
// * Parameters:
// * @handle: the handle provided to bson_reader_new_from_handle().
// *
// * Returns:
// * None.
// *
// * Side effects:
// * None.
// *
// * --------------------------------------------------------------------------
// *

type
  bson_reader_destroy_func_t = procedure (
    handle: Pvoid); cdecl; (* IN *)

function bson_reader_new_from_handle(
           handle: Pvoid;
           rf: bson_reader_read_func_t;
           df: bson_reader_destroy_func_t): Pbson_reader_t; inline;
function bson_reader_new_from_fd(
           fd: Integer;
           close_on_destroy: ByteBool): Pbson_reader_t; inline;
function bson_reader_new_from_file(
           path: PAnsiChar;
           error: Pbson_error_t): Pbson_reader_t; inline;
function bson_reader_new_from_data(
           data: Puint8_t;
           length: size_t): Pbson_reader_t; inline;
procedure bson_reader_destroy(
            reader: Pbson_reader_t); inline;
procedure bson_reader_set_read_func(
            reader: Pbson_reader_t;
            func: bson_reader_read_func_t); inline;
procedure bson_reader_set_destroy_func(
            reader: Pbson_reader_t;
            func: bson_reader_destroy_func_t); inline;
function bson_reader_read(
           reader: Pbson_reader_t;
           reached_eof: PByteBool): Pbson_t; inline;
function bson_reader_tell(
           reader: Pbson_reader_t): off_t; inline;
procedure bson_reader_reset(
            reader: Pbson_reader_t); inline;

//////////////
// bson-oid //
//////////////

function bson_oid_compare(
           oid1: Pbson_oid_t;
           oid2: Pbson_oid_t): Integer; inline;
procedure bson_oid_copy(
            src: Pbson_oid_t;
            dst: Pbson_oid_t); inline;
function bson_oid_equal(
           oid1: Pbson_oid_t;
           oid2: Pbson_oid_t): ByteBool; inline;
function bson_oid_is_valid(
           str: PAnsiChar;
           length: size_t): ByteBool; inline;
function bson_oid_get_time_t(
           oid: Pbson_oid_t): time_t; inline;
function bson_oid_hash(
           oid: Pbson_oid_t): uint32_t; inline;
procedure bson_oid_init(
            oid: Pbson_oid_t;
            context: Pbson_context_t); inline;
procedure bson_oid_init_from_data(
            oid: Pbson_oid_t;
            data: Puint8_t); inline;
procedure bson_oid_init_from_string(
            oid: Pbson_oid_t;
            str: PAnsiChar); inline;
procedure bson_oid_to_string(
            oid: Pbson_oid_t;
            str: TCharArray25); inline;

// * *
// * bson_oid_compare_unsafe:
// * @oid1: A bson_oid_t.
// * @oid2: A bson_oid_t.
// *
// * Performs a qsort() style comparison between @oid1 and @oid2.
// *
// * This function is meant to be as fast as possible and therefore performs
// * no argument validation. That is the callers responsibility.
// *
// * Returns: An integer < 0 if @oid1 is less than @oid2. Zero if they are equal.
// * An integer > 0 if @oid1 is greater than @oid2.
// *
// static BSON_INLINE int
// bson_oid_compare_unsafe(const bson_oid_t * oid1, const bson_oid_t * oid2)

// * *
// * bson_oid_equal_unsafe:
// * @oid1: A bson_oid_t.
// * @oid2: A bson_oid_t.
// *
// * Checks the equality of @oid1 and @oid2.
// *
// * This function is meant to be as fast as possible and therefore performs
// * no checks for argument validity. That is the callers responsibility.
// *
// * Returns: true if @oid1 and @oid2 are equal; otherwise false.
// *
// static BSON_INLINE bool
// bson_oid_equal_unsafe(const bson_oid_t * oid1, const bson_oid_t * oid2)

// * *
// * bson_oid_hash_unsafe:
// * @oid: A bson_oid_t.
// *
// * This function performs a DJB style hash upon the bytes contained in @oid.
// * The result is a hash key suitable for use in a hashtable.
// *
// * This function is meant to be as fast as possible and therefore performs no
// * validation of arguments. The caller is responsible to ensure they are
// * passing valid arguments.
// *
// * Returns: A uint32_t containing a hash code.
// *
// static BSON_INLINE uint32_t
// bson_oid_hash_unsafe(const bson_oid_t * oid)

// * *
// * bson_oid_copy_unsafe:
// * @src: A bson_oid_t to copy from.
// * @dst: A bson_oid_t to copy into.
// *
// * Copies the contents of @src into @dst. This function is meant to be as
// * fast as possible and therefore performs no argument checking. It is the
// * callers responsibility to ensure they are passing valid data into the
// * function.
// *
// static BSON_INLINE void
// bson_oid_copy_unsafe(const bson_oid_t * src, bson_oid_t * dst)

// * *
// * bson_oid_parse_hex_char:
// * @hex: A character to parse to its integer value.
// *
// * This function contains a jump table to return the integer value for a
// * character containing a hexadecimal value (0-9, a-f, A-F). If the character
// * is not a hexadecimal character then zero is returned.
// *
// * Returns: An integer between 0 and 15.
// *
// static BSON_INLINE uint8_t
// bson_oid_parse_hex_char(char hex)

// * *
// * bson_oid_init_from_string_unsafe:
// * @oid: A bson_oid_t to store the result.
// * @str: A 24-character hexadecimal encoded string.
// *
// * Parses a string containing 24 hexadecimal encoded bytes into a bson_oid_t.
// * This function is meant to be as fast as possible and inlined into your
// * code. For that purpose, the function does not perform any sort of bounds
// * checking and it is the callers responsibility to ensure they are passing
// * valid input to the function.
// *
// static BSON_INLINE void
// bson_oid_init_from_string_unsafe(bson_oid_t * oid, const char * str)

// * *
// * bson_oid_get_time_t_unsafe:
// * @oid: A bson_oid_t.
// *
// * Fetches the time @oid was generated.
// *
// * Returns: A time_t containing the UNIX timestamp of generation.
// *
// static BSON_INLINE time_t
// bson_oid_get_time_t_unsafe(const bson_oid_t * oid)

///////////////
// bson-iter //
///////////////

// #define BSON_ITER_HOLDS_DOUBLE(iter) (bson_iter_type((iter)) == BSON_TYPE_DOUBLE)

// #define BSON_ITER_HOLDS_UTF8(iter) (bson_iter_type((iter)) == BSON_TYPE_UTF8)

// #define BSON_ITER_HOLDS_DOCUMENT(iter) (bson_iter_type((iter)) == BSON_TYPE_DOCUMENT)

// #define BSON_ITER_HOLDS_ARRAY(iter) (bson_iter_type((iter)) == BSON_TYPE_ARRAY)

// #define BSON_ITER_HOLDS_BINARY(iter) (bson_iter_type((iter)) == BSON_TYPE_BINARY)

// #define BSON_ITER_HOLDS_VECTOR(iter) (BSON_ITER_HOLDS_BINARY(iter) && bson_iter_binary_subtype(iter) == BSON_SUBTYPE_VECTOR)

// #define BSON_ITER_HOLDS_VECTOR_INT8(iter) (bson_vector_int8_const_view_from_iter(NULL, iter))

// #define BSON_ITER_HOLDS_VECTOR_FLOAT32(iter) (bson_vector_float32_const_view_from_iter(NULL, iter))

// #define BSON_ITER_HOLDS_VECTOR_PACKED_BIT(iter) (bson_vector_packed_bit_const_view_from_iter(NULL, iter))

// #define BSON_ITER_HOLDS_UNDEFINED(iter) (bson_iter_type((iter)) == BSON_TYPE_UNDEFINED)

// #define BSON_ITER_HOLDS_OID(iter) (bson_iter_type((iter)) == BSON_TYPE_OID)

// #define BSON_ITER_HOLDS_BOOL(iter) (bson_iter_type((iter)) == BSON_TYPE_BOOL)

// #define BSON_ITER_HOLDS_DATE_TIME(iter) (bson_iter_type((iter)) == BSON_TYPE_DATE_TIME)

// #define BSON_ITER_HOLDS_NULL(iter) (bson_iter_type((iter)) == BSON_TYPE_NULL)

// #define BSON_ITER_HOLDS_REGEX(iter) (bson_iter_type((iter)) == BSON_TYPE_REGEX)

// #define BSON_ITER_HOLDS_DBPOINTER(iter) (bson_iter_type((iter)) == BSON_TYPE_DBPOINTER)

// #define BSON_ITER_HOLDS_CODE(iter) (bson_iter_type((iter)) == BSON_TYPE_CODE)

// #define BSON_ITER_HOLDS_SYMBOL(iter) (bson_iter_type((iter)) == BSON_TYPE_SYMBOL)

// #define BSON_ITER_HOLDS_CODEWSCOPE(iter) (bson_iter_type((iter)) == BSON_TYPE_CODEWSCOPE)

// #define BSON_ITER_HOLDS_INT32(iter) (bson_iter_type((iter)) == BSON_TYPE_INT32)

// #define BSON_ITER_HOLDS_TIMESTAMP(iter) (bson_iter_type((iter)) == BSON_TYPE_TIMESTAMP)

// #define BSON_ITER_HOLDS_INT64(iter) (bson_iter_type((iter)) == BSON_TYPE_INT64)

// #define BSON_ITER_HOLDS_DECIMAL128(iter) (bson_iter_type((iter)) == BSON_TYPE_DECIMAL128)

// #define BSON_ITER_HOLDS_MAXKEY(iter) (bson_iter_type((iter)) == BSON_TYPE_MAXKEY)

// #define BSON_ITER_HOLDS_MINKEY(iter) (bson_iter_type((iter)) == BSON_TYPE_MINKEY)

// #define BSON_ITER_HOLDS_INT(iter) (BSON_ITER_HOLDS_INT32(iter) || BSON_ITER_HOLDS_INT64(iter))

// #define BSON_ITER_HOLDS_NUMBER(iter) (BSON_ITER_HOLDS_INT(iter) || BSON_ITER_HOLDS_DOUBLE(iter))

// #define BSON_ITER_IS_KEY(iter, key) (0 == strcmp((key), bson_iter_key((iter))))

function bson_iter_value(
           iter: Pbson_iter_t): Pbson_value_t; inline;

// * *
// * bson_iter_utf8_len_unsafe:
// * @iter: a bson_iter_t.
// *
// * Returns the length of a string currently pointed to by @iter. This performs
// * no validation so the is responsible for knowing the BSON is valid. Calling
// * bson_validate() is one way to do this ahead of time.
// *
// static BSON_INLINE uint32_t
// bson_iter_utf8_len_unsafe(const bson_iter_t * iter)

procedure bson_iter_array(
            iter: Pbson_iter_t;
            array_len: Puint32_t;
            &array: PPuint8_t); inline;

procedure bson_iter_binary(
            iter: Pbson_iter_t;
            subtype: Pbson_subtype_t;
            binary_len: Puint32_t;
            binary: PPuint8_t); inline;

procedure bson_iter_overwrite_binary(
            iter: Pbson_iter_t;
            subtype: bson_subtype_t;
            binary_len: Puint32_t;
            binary: PPuint8_t); inline;

function bson_iter_binary_subtype(
           iter: Pbson_iter_t): bson_subtype_t; inline;

function bson_iter_binary_equal(
           iter_a: Pbson_iter_t;
           iter_b: Pbson_iter_t): ByteBool; inline;

function bson_iter_code(
           iter: Pbson_iter_t;
           length: Puint32_t): PAnsiChar; inline;

// * *
// * bson_iter_code_unsafe:
// * @iter: A bson_iter_t.
// * @length: A location for the length of the resulting string.
// *
// * Like bson_iter_code() but performs no integrity checks.
// *
// * Returns: A string that should not be modified or freed.
// *
// static BSON_INLINE const char *
// bson_iter_code_unsafe(const bson_iter_t * iter, uint32_t * length)

function bson_iter_codewscope(
           iter: Pbson_iter_t;
           length: Puint32_t;
           scope_len: Puint32_t;
           scope: PPuint8_t): PAnsiChar; inline;

procedure bson_iter_dbpointer(
            iter: Pbson_iter_t;
            collection_len: Puint32_t;
            collection: PPAnsiChar;
            oid: PPbson_oid_t); inline;

procedure bson_iter_document(
            iter: Pbson_iter_t;
            document_len: Puint32_t;
            document: PPuint8_t); inline;

function bson_iter_double(
           iter: Pbson_iter_t): double; inline;

function bson_iter_as_double(
           iter: Pbson_iter_t): double; inline;

// * *
// * bson_iter_double_unsafe:
// * @iter: A bson_iter_t.
// *
// * Similar to bson_iter_double() but does not perform an integrity checking.
// *
// * Returns: A double.
// *
// static BSON_INLINE double
// bson_iter_double_unsafe(const bson_iter_t * iter)

function bson_iter_init(
           iter: Pbson_iter_t;
           bson: Pbson_t): ByteBool; inline;

function bson_iter_init_from_data(
           iter: Pbson_iter_t;
           data: Puint8_t;
           length: size_t): ByteBool; inline;

function bson_iter_init_find(
           iter: Pbson_iter_t;
           bson: Pbson_t;
           key: PAnsiChar): ByteBool; inline;

function bson_iter_init_find_w_len(
           iter: Pbson_iter_t;
           bson: Pbson_t;
           key: PAnsiChar;
           keylen: Integer): ByteBool; inline;

function bson_iter_init_find_case(
           iter: Pbson_iter_t;
           bson: Pbson_t;
           key: PAnsiChar): ByteBool; inline;

function bson_iter_init_from_data_at_offset(
           iter: Pbson_iter_t;
           data: Puint8_t;
           length: size_t;
           offset: uint32_t;
           keylen: uint32_t): ByteBool; inline;

function bson_iter_int32(
           iter: Pbson_iter_t): int32_t; inline;

// * *
// * bson_iter_int32_unsafe:
// * @iter: A bson_iter_t.
// *
// * Similar to bson_iter_int32() but with no integrity checking.
// *
// * Returns: A 32-bit signed_integer.
// *
// static BSON_INLINE int32_t
// bson_iter_int32_unsafe(const bson_iter_t * iter)

function bson_iter_int64(
           iter: Pbson_iter_t): int64_t; inline;

function bson_iter_as_int64(
           iter: Pbson_iter_t): int64_t; inline;

// * *
// * bson_iter_int64_unsafe:
// * @iter: a bson_iter_t.
// *
// * Similar to bson_iter_int64() but without integrity checking.
// *
// * Returns: A 64-bit signed_integer.
// *
// static BSON_INLINE int64_t
// bson_iter_int64_unsafe(const bson_iter_t * iter)

function bson_iter_find(
           iter: Pbson_iter_t;
           key: PAnsiChar): ByteBool; inline;

function bson_iter_find_w_len(
           iter: Pbson_iter_t;
           key: PAnsiChar;
           keylen: Integer): ByteBool; inline;

function bson_iter_find_case(
           iter: Pbson_iter_t;
           key: PAnsiChar): ByteBool; inline;

function bson_iter_find_descendant(
           iter: Pbson_iter_t;
           dotkey: PAnsiChar;
           descendant: Pbson_iter_t): ByteBool; inline;

function bson_iter_next(
           iter: Pbson_iter_t): ByteBool; inline;

function bson_iter_oid(
           iter: Pbson_iter_t): Pbson_oid_t; inline;

// * *
// * bson_iter_oid_unsafe:
// * @iter: A #bson_iter_t.
// *
// * Similar to bson_iter_oid() but performs no integrity checks.
// *
// * Returns: A #bson_oid_t that should not be modified or freed.
// *
// static BSON_INLINE const bson_oid_t *
// bson_iter_oid_unsafe(const bson_iter_t * iter)

function bson_iter_decimal128(
           iter: Pbson_iter_t;
           dec: Pbson_decimal128_t): ByteBool; inline;

// * *
// * bson_iter_decimal128_unsafe:
// * @iter: A #bson_iter_t.
// *
// * Similar to bson_iter_decimal128() but performs no integrity checks.
// *
// * Returns: A #bson_decimal128_t.
// *
// static BSON_INLINE void
// bson_iter_decimal128_unsafe(const bson_iter_t * iter, bson_decimal128_t * dec)

function bson_iter_key(
           iter: Pbson_iter_t): PAnsiChar; inline;

function bson_iter_key_len(
           iter: Pbson_iter_t): uint32_t; inline;

// * *
// * bson_iter_key_unsafe:
// * @iter: A bson_iter_t.
// *
// * Similar to bson_iter_key() but performs no integrity checking.
// *
// * Returns: A string that should not be modified or freed.
// *
// static BSON_INLINE const char *
// bson_iter_key_unsafe(const bson_iter_t * iter)

function bson_iter_utf8(
           iter: Pbson_iter_t;
           length: Puint32_t): PAnsiChar; inline;

// * *
// * bson_iter_utf8_unsafe:
// *
// * Similar to bson_iter_utf8() but performs no integrity checking.
// *
// * Returns: A string that should not be modified or freed.
// *
// static BSON_INLINE const char *
// bson_iter_utf8_unsafe(const bson_iter_t * iter, size_t * length)

function bson_iter_dup_utf8(
           iter: Pbson_iter_t;
           length: Puint32_t): PAnsiChar; inline;

function bson_iter_date_time(
           iter: Pbson_iter_t): int64_t; inline;

function bson_iter_time_t(
           iter: Pbson_iter_t): time_t; inline;

// * *
// * bson_iter_time_t_unsafe:
// * @iter: A bson_iter_t.
// *
// * Similar to bson_iter_time_t() but performs no integrity checking.
// *
// * Returns: A time_t containing the number of seconds since UNIX epoch
// * in UTC.
// *
// static BSON_INLINE time_t
// bson_iter_time_t_unsafe(const bson_iter_t * iter)

procedure bson_iter_timeval(
            iter: Pbson_iter_t;
            tv: Ptimeval); inline;

// * *
// * bson_iter_timeval_unsafe:
// * @iter: A bson_iter_t.
// * @tv: A struct timeval.
// *
// * Similar to bson_iter_timeval() but performs no integrity checking.
// *
// static BSON_INLINE void
// bson_iter_timeval_unsafe(const bson_iter_t * iter, struct timeval * tv)

procedure bson_iter_timestamp(
            iter: Pbson_iter_t;
            timestamp: Puint32_t;
            increment: Puint32_t); inline;

function bson_iter_bool(
           iter: Pbson_iter_t): ByteBool; inline;

// * *
// * bson_iter_bool_unsafe:
// * @iter: A bson_iter_t.
// *
// * Similar to bson_iter_bool() but performs no integrity checking.
// *
// * Returns: true or false.
// *
// static BSON_INLINE bool
// bson_iter_bool_unsafe(const bson_iter_t * iter)

function bson_iter_as_bool(
           iter: Pbson_iter_t): ByteBool; inline;

function bson_iter_regex(
           iter: Pbson_iter_t;
           options: PPAnsiChar): PAnsiChar; inline;

function bson_iter_symbol(
           iter: Pbson_iter_t;
           length: Puint32_t): PAnsiChar; inline;

function bson_iter_type(
           iter: Pbson_iter_t): bson_type_t; inline;

// * *
// * bson_iter_type_unsafe:
// * @iter: A bson_iter_t.
// *
// * Similar to bson_iter_type() but performs no integrity checking.
// *
// * Returns: A bson_type_t.
// *
// static BSON_INLINE bson_type_t
// bson_iter_type_unsafe(const bson_iter_t * iter)

function bson_iter_recurse(
           iter: Pbson_iter_t;
           child: Pbson_iter_t): ByteBool; inline;

procedure bson_iter_overwrite_int32(
            iter: Pbson_iter_t;
            value: int32_t); inline;

procedure bson_iter_overwrite_int64(
            iter: Pbson_iter_t;
            value: int64_t); inline;

procedure bson_iter_overwrite_double(
            iter: Pbson_iter_t;
            value: double); inline;

procedure bson_iter_overwrite_decimal128(
            iter: Pbson_iter_t;
            value: Pbson_decimal128_t); inline;

procedure bson_iter_overwrite_bool(
            iter: Pbson_iter_t;
            value: ByteBool); inline;

procedure bson_iter_overwrite_oid(
            iter: Pbson_iter_t;
            value: Pbson_oid_t); inline;

procedure bson_iter_overwrite_timestamp(
            iter: Pbson_iter_t;
            timestamp: uint32_t;
            increment: uint32_t); inline;

procedure bson_iter_overwrite_date_time(
            iter: Pbson_iter_t;
            value: int64_t); inline;

function bson_iter_visit_all(
           iter: Pbson_iter_t;
           visitor: Pbson_visitor_t;
           data: Pvoid): ByteBool; inline;

function bson_iter_offset(
           iter: Pbson_iter_t): uint32_t; inline;

/////////////////
// bson-vector //
/////////////////

// Length of the required header for BSON_SUBTYPE_VECTOR, in bytes
const BSON_VECTOR_HEADER_LEN = 2;

// Forward declaration (typedef bson_array_builder_t in bson.h)
// struct _bson_array_builder_t;

// * * @brief Error codes for domain BSON_ERROR_VECTOR
type
  bson_vector_error_code_t = (
    BSON_VECTOR_ERROR_ARRAY_ELEMENT_TYPE = 1,
    BSON_VECTOR_ERROR_ARRAY_ELEMENT_VALUE,
    BSON_VECTOR_ERROR_ARRAY_KEY,
    BSON_VECTOR_ERROR_MAX_SIZE);

// * * @brief Implementation detail. A copy of the BSON_SUBTYPE_VECTOR header, suitable for pass-by-value.
type
  bson_vector_binary_header_impl_t = record
    bytes: array[0..BSON_VECTOR_HEADER_LEN-1] of uint8_t;
  end;

// * * @brief Implementation detail. A reference to non-owned const BSON Binary data of subtype BSON_SUBTYPE_VECTOR
type
  bson_vector_binary_const_view_impl_t = record
    data: Puint8_t;
    data_len: uint32_t;
    header_copy: bson_vector_binary_header_impl_t;
  end;

// * * @brief Implementation detail. A reference to non-owned BSON Binary data of subtype BSON_SUBTYPE_VECTOR
type
  bson_vector_binary_view_impl_t = record
    data: Puint8_t;
    data_len: uint32_t;
    header_copy: bson_vector_binary_header_impl_t;
  end;

// * * @brief Implementation detail. Obtain a const reference from a non-const reference without re-validating.
// static BSON_INLINE bson_vector_binary_const_view_impl_t
// bson_vector_binary_view_impl_as_const(bson_vector_binary_view_impl_t view)

// * * @brief A reference to non-owned BSON Binary data holding a valid Vector of int8 element type
type
  bson_vector_int8_view_t = record
    binary: bson_vector_binary_view_impl_t;
  end;
  Pbson_vector_int8_view_t = ^bson_vector_int8_view_t;

// * * @brief A reference to non-owned const BSON Binary data holding a valid Vector of int8 element type
type
  bson_vector_int8_const_view_t = record
    binary: bson_vector_binary_const_view_impl_t;
  end;
  Pbson_vector_int8_const_view_t = ^bson_vector_int8_const_view_t;

// * * @brief A reference to non-owned BSON Binary data holding a valid Vector of float32 element type
type
  bson_vector_float32_view_t = record
    binary: bson_vector_binary_view_impl_t;
  end;
  Pbson_vector_float32_view_t = ^bson_vector_float32_view_t;

// * * @brief A reference to non-owned const BSON Binary data holding a valid Vector of float32 element type
type
  bson_vector_float32_const_view_t = record
    binary: bson_vector_binary_const_view_impl_t;
  end;
  Pbson_vector_float32_const_view_t = ^bson_vector_float32_const_view_t;

// * * @brief A reference to non-owned BSON Binary data holding a valid Vector of packed_bit
type
  bson_vector_packed_bit_view_t = record
    binary: bson_vector_binary_view_impl_t;
  end;
  Pbson_vector_packed_bit_view_t = ^bson_vector_packed_bit_view_t;

// * * @brief A reference to non-owned const BSON Binary data holding a valid Vector of packed_bit
type
  bson_vector_packed_bit_const_view_t = record
    binary: bson_vector_binary_const_view_impl_t;
  end;
  Pbson_vector_packed_bit_const_view_t = ^bson_vector_packed_bit_const_view_t;

// static BSON_INLINE bson_vector_int8_const_view_t
// bson_vector_int8_view_as_const(bson_vector_int8_view_t view)

// static BSON_INLINE bson_vector_float32_const_view_t
// bson_vector_float32_view_as_const(bson_vector_float32_view_t view)

// static BSON_INLINE bson_vector_packed_bit_const_view_t
// bson_vector_packed_bit_view_as_const(bson_vector_packed_bit_view_t view)

function bson_vector_int8_view_init(
           view_out: Pbson_vector_int8_view_t;
           binary_data: Puint8_t;
           binary_data_len: uint32_t): ByteBool; inline;

function bson_vector_int8_const_view_init(
           view_out: Pbson_vector_int8_const_view_t;
           binary_data: Puint8_t;
           binary_data_len: uint32_t): ByteBool; inline;

function bson_vector_float32_view_init(
           view_out: Pbson_vector_float32_view_t;
           binary_data: Puint8_t;
           binary_data_len: uint32_t): ByteBool; inline;

function bson_vector_float32_const_view_init(
           view_out: Pbson_vector_float32_const_view_t;
           binary_data: Puint8_t;
           binary_data_len: uint32_t): ByteBool; inline;

function bson_vector_packed_bit_view_init(
           view_out: Pbson_vector_packed_bit_view_t;
           binary_data: Puint8_t;
           binary_data_len: uint32_t): ByteBool; inline;

function bson_vector_packed_bit_const_view_init(
           view_out: Pbson_vector_packed_bit_const_view_t;
           binary_data: Puint8_t;
           binary_data_len: uint32_t): ByteBool; inline;

function bson_vector_int8_view_from_iter(
           view_out: Pbson_vector_int8_view_t;
           iter: Pbson_iter_t): ByteBool; inline;

function bson_vector_int8_const_view_from_iter(
           view_out: Pbson_vector_int8_const_view_t;
           iter: Pbson_iter_t): ByteBool; inline;

function bson_vector_float32_view_from_iter(
           view_out: Pbson_vector_float32_view_t;
           iter: Pbson_iter_t): ByteBool; inline;

function bson_vector_float32_const_view_from_iter(
           view_out: Pbson_vector_float32_const_view_t;
           iter: Pbson_iter_t): ByteBool; inline;

function bson_vector_packed_bit_view_from_iter(
           view_out: Pbson_vector_packed_bit_view_t;
           iter: Pbson_iter_t): ByteBool; inline;

function bson_vector_packed_bit_const_view_from_iter(
           view_out: Pbson_vector_packed_bit_const_view_t;
           iter: Pbson_iter_t): ByteBool; inline;

function bson_array_builder_append_vector_int8_elements(
           builder: P_bson_array_builder_t;
           view: bson_vector_int8_const_view_t): ByteBool; inline;

function bson_array_builder_append_vector_float32_elements(
           builder: P_bson_array_builder_t;
           view: bson_vector_float32_const_view_t): ByteBool; inline;

function bson_array_builder_append_vector_packed_bit_elements(
           builder: P_bson_array_builder_t;
           view: bson_vector_packed_bit_const_view_t): ByteBool; inline;

function bson_array_builder_append_vector_elements(
           builder: P_bson_array_builder_t;
           iter: Pbson_iter_t): ByteBool; inline;

function bson_append_vector_int8_uninit(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           element_count: size_t;
           view_out: Pbson_vector_int8_view_t): ByteBool; inline;

// #define BSON_APPEND_VECTOR_INT8_UNINIT(b, key, count, view) bson_append_vector_int8_uninit(b, key, (int)strlen(key), count, view)

function bson_append_vector_float32_uninit(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           element_count: size_t;
           view_out: Pbson_vector_float32_view_t): ByteBool; inline;

// #define BSON_APPEND_VECTOR_FLOAT32_UNINIT(b, key, count, view) bson_append_vector_float32_uninit(b, key, (int)strlen(key), count, view)

function bson_append_vector_packed_bit_uninit(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           element_count: size_t;
           view_out: Pbson_vector_packed_bit_view_t): ByteBool; inline;

// #define BSON_APPEND_VECTOR_PACKED_BIT_UNINIT(b, key, count, view) bson_append_vector_packed_bit_uninit(b, key, (int)strlen(key), count, view)

function bson_append_vector_int8_from_array(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           iter: Pbson_iter_t;
           error: Pbson_error_t): ByteBool; inline;

// #define BSON_APPEND_VECTOR_INT8_FROM_ARRAY(b, key, iter, err) bson_append_vector_int8_from_array(b, key, (int)strlen(key), iter, err)

function bson_append_vector_float32_from_array(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           iter: Pbson_iter_t;
           error: Pbson_error_t): ByteBool; inline;

// #define BSON_APPEND_VECTOR_FLOAT32_FROM_ARRAY(b, key, iter, err) bson_append_vector_float32_from_array(b, key, (int)strlen(key), iter, err)

function bson_append_vector_packed_bit_from_array(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           iter: Pbson_iter_t;
           error: Pbson_error_t): ByteBool; inline;

// #define BSON_APPEND_VECTOR_PACKED_BIT_FROM_ARRAY(b, key, iter, err) bson_append_vector_packed_bit_from_array(b, key, (int)strlen(key), iter, err)

function bson_append_array_from_vector_int8(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           view: bson_vector_int8_const_view_t): ByteBool; inline;

// #define BSON_APPEND_ARRAY_FROM_VECTOR_INT8(b, key, view) bson_append_array_from_vector_int8(b, key, (int)strlen(key), view)

function bson_append_array_from_vector_float32(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           view: bson_vector_float32_const_view_t): ByteBool; inline;

// #define BSON_APPEND_ARRAY_FROM_VECTOR_FLOAT32(b, key, view) bson_append_array_from_vector_float32(b, key, (int)strlen(key), view)

function bson_append_array_from_vector_packed_bit(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           view: bson_vector_packed_bit_const_view_t): ByteBool; inline;

// #define BSON_APPEND_ARRAY_FROM_VECTOR_PACKED_BIT(b, key, view) bson_append_array_from_vector_packed_bit(b, key, (int)strlen(key), view)

// static BSON_INLINE const int8_t *
// bson_vector_int8_const_view_pointer(bson_vector_int8_const_view_t view)

// static BSON_INLINE int8_t *
// bson_vector_int8_view_pointer(bson_vector_int8_view_t view)

// static BSON_INLINE uint32_t
// bson_vector_int8_binary_data_length(size_t element_count)

// static BSON_INLINE uint32_t
// bson_vector_float32_binary_data_length(size_t element_count)

// static BSON_INLINE uint32_t
// bson_vector_packed_bit_binary_data_length(size_t element_count)

// static BSON_INLINE size_t
// bson_vector_int8_const_view_length(bson_vector_int8_const_view_t view)

// static BSON_INLINE size_t
// bson_vector_int8_view_length(bson_vector_int8_view_t view)

// static BSON_INLINE size_t
// bson_vector_float32_const_view_length(bson_vector_float32_const_view_t view)

// static BSON_INLINE size_t
// bson_vector_float32_view_length(bson_vector_float32_view_t view)

// static BSON_INLINE size_t
// bson_vector_packed_bit_const_view_length_bytes(bson_vector_packed_bit_const_view_t view)

// static BSON_INLINE size_t
// bson_vector_packed_bit_view_length_bytes(bson_vector_packed_bit_view_t view)

// Implementation detail, not part of documented API.
// static BSON_INLINE size_t
// bson_vector_padding_from_header_byte_1(uint8_t byte_1)

// static BSON_INLINE size_t
// bson_vector_packed_bit_const_view_padding(bson_vector_packed_bit_const_view_t view)

// static BSON_INLINE size_t
// bson_vector_packed_bit_view_padding(bson_vector_packed_bit_view_t view)

// static BSON_INLINE size_t
// bson_vector_packed_bit_const_view_length(bson_vector_packed_bit_const_view_t view)

// static BSON_INLINE size_t
// bson_vector_packed_bit_view_length(bson_vector_packed_bit_view_t view)

// static BSON_INLINE bool
// bson_vector_int8_const_view_read(bson_vector_int8_const_view_t view,
// int8_t * BSON_RESTRICT values_out,
// size_t element_count,
// size_t vector_offset_elements)

// static BSON_INLINE bool
// bson_vector_int8_view_read(bson_vector_int8_view_t view,
// int8_t * BSON_RESTRICT values_out,
// size_t element_count,
// uint32_t vector_offset_elements)

// static BSON_INLINE bool
// bson_vector_int8_view_write(bson_vector_int8_view_t view,
// const int8_t * BSON_RESTRICT values,
// size_t element_count,
// size_t vector_offset_elements)

// BSON_STATIC_ASSERT2(float_is_float32, sizeof(float) == 4);

// static BSON_INLINE bool
// bson_vector_float32_const_view_read(bson_vector_float32_const_view_t view,
// float * BSON_RESTRICT values_out,
// size_t element_count,
// size_t vector_offset_elements)

// static BSON_INLINE bool
// bson_vector_float32_view_read(bson_vector_float32_view_t view,
// float * BSON_RESTRICT values_out,
// size_t element_count,
// size_t vector_offset_elements)

// static BSON_INLINE bool
// bson_vector_float32_view_write(bson_vector_float32_view_t view,
// const float * BSON_RESTRICT values,
// size_t element_count,
// size_t vector_offset_elements)

// static BSON_INLINE bool
// bson_vector_packed_bit_const_view_read_packed(bson_vector_packed_bit_const_view_t view,
// uint8_t * BSON_RESTRICT packed_values_out,
// size_t byte_count,
// size_t vector_offset_bytes)

// static BSON_INLINE bool
// bson_vector_packed_bit_view_read_packed(bson_vector_packed_bit_view_t view,
// uint8_t * BSON_RESTRICT packed_values_out,
// size_t byte_count,
// size_t vector_offset_bytes)

// static BSON_INLINE bool
// bson_vector_packed_bit_view_write_packed(bson_vector_packed_bit_view_t view,
// const uint8_t * BSON_RESTRICT packed_values,
// size_t byte_count,
// size_t vector_offset_bytes)

// static BSON_INLINE bool
// bson_vector_packed_bit_const_view_unpack_bool(bson_vector_packed_bit_const_view_t view,
// bool * BSON_RESTRICT unpacked_values_out,
// size_t element_count,
// size_t vector_offset_elements)

// static BSON_INLINE bool
// bson_vector_packed_bit_view_unpack_bool(bson_vector_packed_bit_view_t view,
// bool * BSON_RESTRICT unpacked_values_out,
// size_t element_count,
// size_t vector_offset_elements)

// static BSON_INLINE bool
// bson_vector_packed_bit_view_pack_bool(bson_vector_packed_bit_view_t view,
// const bool * BSON_RESTRICT unpacked_values,
// size_t element_count,
// size_t vector_offset_elements)

//////////
// bson //
//////////

// #define BSON_INSIDE

// * *
// * bson_empty:
// * @b: a bson_t.
// *
// * Checks to see if @b is an empty BSON document. An empty BSON document is
// * a 5 byte document which contains the length (4 bytes) and a single NUL
// * byte indicating end of fields.
// *
// #define bson_empty(b) (((b)->len == 5) || !bson_get_data((b))[4])

// * *
// * bson_empty0:
// *
// * Like bson_empty() but treats NULL the same as an empty bson_t document.
// *
// #define bson_empty0(b) (!(b) || bson_empty(b))

// * *
// * bson_clear:
// *
// * Easily free a bson document and set it to NULL. Use like:
// *
// * bson_t * doc = bson_new();
// * bson_clear (&doc);
// * BSON_ASSERT (doc == NULL);
// *
// #define bson_clear(bptr) do { if ( * (bptr)) { bson_destroy( * (bptr)); * (bptr) = NULL; } } while (0)

// * *
// * BSON_MAX_SIZE:
// *
// * The maximum size in bytes of a BSON document.
// *
const BSON_MAX_SIZE: size_t = size_t(((NativeUInt(1) shl 31) - 1));

// #define BSON_APPEND_ARRAY(b, key, val) bson_append_array(b, key, (int)strlen(key), val)

// #define BSON_APPEND_ARRAY_BEGIN(b, key, child) bson_append_array_begin(b, key, (int)strlen(key), child)

// #define BSON_APPEND_BINARY(b, key, subtype, val, len) bson_append_binary(b, key, (int)strlen(key), subtype, val, len)

// #define BSON_APPEND_BOOL(b, key, val) bson_append_bool(b, key, (int)strlen(key), val)

// #define BSON_APPEND_CODE(b, key, val) bson_append_code(b, key, (int)strlen(key), val)

// #define BSON_APPEND_CODE_WITH_SCOPE(b, key, val, scope) bson_append_code_with_scope(b, key, (int)strlen(key), val, scope)

// #define BSON_APPEND_DBPOINTER(b, key, coll, oid) bson_append_dbpointer(b, key, (int)strlen(key), coll, oid)

// #define BSON_APPEND_DOCUMENT_BEGIN(b, key, child) bson_append_document_begin(b, key, (int)strlen(key), child)

// #define BSON_APPEND_DOUBLE(b, key, val) bson_append_double(b, key, (int)strlen(key), val)

// #define BSON_APPEND_DOCUMENT(b, key, val) bson_append_document(b, key, (int)strlen(key), val)

// #define BSON_APPEND_INT32(b, key, val) bson_append_int32(b, key, (int)strlen(key), val)

// #define BSON_APPEND_INT64(b, key, val) bson_append_int64(b, key, (int)strlen(key), val)

// #define BSON_APPEND_MINKEY(b, key) bson_append_minkey(b, key, (int)strlen(key))

// #define BSON_APPEND_DECIMAL128(b, key, val) bson_append_decimal128(b, key, (int)strlen(key), val)

// #define BSON_APPEND_MAXKEY(b, key) bson_append_maxkey(b, key, (int)strlen(key))

// #define BSON_APPEND_NULL(b, key) bson_append_null(b, key, (int)strlen(key))

// #define BSON_APPEND_OID(b, key, val) bson_append_oid(b, key, (int)strlen(key), val)

// #define BSON_APPEND_REGEX(b, key, val, opt) bson_append_regex(b, key, (int)strlen(key), val, opt)

// #define BSON_APPEND_UTF8(b, key, val) bson_append_utf8(b, key, (int)strlen(key), val, (int)strlen(val))

// #define BSON_APPEND_SYMBOL(b, key, val) bson_append_symbol(b, key, (int)strlen(key), val, (int)strlen(val))

// #define BSON_APPEND_TIME_T(b, key, val) bson_append_time_t(b, key, (int)strlen(key), val)

// #define BSON_APPEND_TIMEVAL(b, key, val) bson_append_timeval(b, key, (int)strlen(key), val)

// #define BSON_APPEND_DATE_TIME(b, key, val) bson_append_date_time(b, key, (int)strlen(key), val)

// #define BSON_APPEND_TIMESTAMP(b, key, val, inc) bson_append_timestamp(b, key, (int)strlen(key), val, inc)

// #define BSON_APPEND_UNDEFINED(b, key) bson_append_undefined(b, key, (int)strlen(key))

// #define BSON_APPEND_VALUE(b, key, val) bson_append_value(b, key, (int)strlen(key), (val))

// * *
// * bson_new:
// *
// * Allocates a new bson_t structure. Call the various bson_append_ * ()
// * functions to add fields to the bson. You can iterate the bson_t at any
// * time using a bson_iter_t and bson_iter_init().
// *
// * Returns: A newly allocated bson_t that should be freed with bson_destroy().
// *
function bson_new(): Pbson_t; inline;

function bson_new_from_json(
           data: Puint8_t;
           len: ssize_t;
           error: Pbson_error_t): Pbson_t; inline;

function bson_init_from_json(
           bson: Pbson_t;
           data: PAnsiChar;
           len: ssize_t;
           error: Pbson_error_t): ByteBool; inline;

// * *
// * bson_init_static:
// * @b: A pointer to a bson_t.
// * @data: The data buffer to use.
// * @length: The length of @data.
// *
// * Initializes a bson_t using @data and @length. This is ideal if you would
// * like to use a stack allocation for your bson and do not need to grow the
// * buffer. @data must be valid for the life of @b.
// *
// * Returns: true if initialized successfully; otherwise false.
// *
function bson_init_static(
           b: Pbson_t;
           data: Puint8_t;
           length: size_t): ByteBool; inline;

// * *
// * bson_init:
// * @b: A pointer to a bson_t.
// *
// * Initializes a bson_t for use. This function is useful to those that want a
// * stack allocated bson_t. The usefulness of a stack allocated bson_t is
// * marginal as the target buffer for content will still require heap
// * allocations. It can help reduce heap fragmentation on allocators that do
// * not employ SLAB/magazine semantics.
// *
// * You must call bson_destroy() with @b to release resources when you are done
// * using @b.
// *
procedure bson_init(
            b: Pbson_t); inline;

// * *
// * bson_reinit:
// * @b: (inout): A bson_t.
// *
// * This is equivalent to calling bson_destroy() and bson_init() on a #bson_t.
// * However, it will try to persist the existing malloc'd buffer if one exists.
// * This is useful in cases where you want to reduce malloc overhead while
// * building many documents.
// *
procedure bson_reinit(
            b: Pbson_t); inline;

// * *
// * bson_new_from_data:
// * @data: A buffer containing a serialized bson document.
// * @length: The length of the document in bytes.
// *
// * Creates a new bson_t structure using the data provided. @data should contain
// * at least @length bytes that can be copied into the new bson_t structure.
// *
// * Returns: A newly allocated bson_t that should be freed with bson_destroy().
// * If the first four bytes (little-endian) of data do not match @length,
// * then NULL will be returned.
// *
function bson_new_from_data(
           data: Puint8_t;
           length: size_t): Pbson_t; inline;

// * *
// * bson_new_from_buffer:
// * @buf: A pointer to a buffer containing a serialized bson document.
// * @buf_len: The length of the buffer in bytes.
// * @realloc_fun: a realloc like function
// * @realloc_fun_ctx: a context for the realloc function
// *
// * Creates a new bson_t structure using the data provided. @buf should contain
// * a bson document, or null pointer should be passed for new allocations.
// *
// * Returns: A newly allocated bson_t that should be freed with bson_destroy().
// * The underlying buffer will be used and not be freed in destroy.
// *
function bson_new_from_buffer(
           buf: PPuint8_t;
           buf_len: Psize_t;
           realloc_func: bson_realloc_func;
           realloc_func_ctx: Pvoid): Pbson_t; inline;

// * *
// * bson_sized_new:
// * @size: A size_t containing the number of bytes to allocate.
// *
// * This will allocate a new bson_t with enough bytes to hold a buffer
// * sized @size. @size must be smaller than INT_MAX bytes.
// *
// * Returns: A newly allocated bson_t that should be freed with bson_destroy().
// *
function bson_sized_new(
           size: size_t): Pbson_t; inline;

// * *
// * bson_copy:
// * @bson: A bson_t.
// *
// * Copies @bson into a newly allocated bson_t. You must call bson_destroy()
// * when you are done with the resulting value to free its resources.
// *
// * Returns: A newly allocated bson_t that should be free'd with bson_destroy()
// *
function bson_copy(
           bson: Pbson_t): Pbson_t; inline;

// * *
// * bson_copy_to:
// * @src: The source bson_t.
// * @dst: The destination bson_t.
// *
// * Initializes @dst and copies the content from @src into @dst.
// *
procedure bson_copy_to(
            src: Pbson_t;
            dst: Pbson_t); inline;

// * *
// * bson_copy_to_excluding_noinit:
// * @src: A bson_t.
// * @dst: A bson_t to initialize and copy into.
// * @first_exclude: First field name to exclude.
// *
// * Does not call bson_init() on the dst.
// *
procedure bson_copy_to_excluding_noinit(
            src: Pbson_t;
            dst: Pbson_t;
            first_exclude: PAnsiChar); inline;

procedure bson_copy_to_excluding_noinit_va(
            src: Pbson_t;
            dst: Pbson_t;
            first_exclude: PAnsiChar;
            args: va_list); inline;

// * *
// * bson_destroy:
// * @bson: A bson_t.
// *
// * Frees the resources associated with @bson.
// *
procedure bson_destroy(
            bson: Pbson_t); inline;

function bson_reserve_buffer(
           bson: Pbson_t;
           total_size: uint32_t): Puint8_t; inline;

function bson_steal(
           dst: Pbson_t;
           src: Pbson_t): ByteBool; inline;

// * *
// * bson_destroy_with_steal:
// * @bson: A #bson_t.
// * @steal: If ownership of the data buffer should be transferred to caller.
// * @length: (out): location for the length of the buffer.
// *
// * Destroys @bson similar to calling bson_destroy() except that the underlying
// * buffer will be returned and ownership transferred to the caller if @steal
// * is non-zero.
// *
// * If length is non-NULL, the length of @bson will be stored in @length.
// *
// * It is a programming error to call this function with any bson that has
// * been initialized static, or is being used to create a subdocument with
// * functions such as bson_append_document_begin() or bson_append_array_begin().
// *
// * Returns: a buffer owned by the caller if @steal is true. Otherwise NULL.
// * If there was an error, NULL is returned.
// *
function bson_destroy_with_steal(
           bson: Pbson_t;
           steal: ByteBool;
           length: Puint32_t): Puint8_t; inline;

// * *
// * bson_get_data:
// * @bson: A bson_t.
// *
// * Fetched the data buffer for @bson of @bson->len bytes in length.
// *
// * Returns: A buffer that should not be modified or freed.
// *
function bson_get_data(
           bson: Pbson_t): Puint8_t; inline;

// * *
// * bson_count_keys:
// * @bson: A bson_t.
// *
// * Counts the number of elements found in @bson.
// *
function bson_count_keys(
           bson: Pbson_t): uint32_t; inline;

// * *
// * bson_has_field:
// * @bson: A bson_t.
// * @key: The key to lookup.
// *
// * Checks to see if @bson contains a field named @key.
// *
// * This function is case-sensitive.
// *
// * Returns: true if @key exists in @bson; otherwise false.
// *
function bson_has_field(
           bson: Pbson_t;
           key: PAnsiChar): ByteBool; inline;

// * *
// * bson_compare:
// * @bson: A bson_t.
// * @other: A bson_t.
// *
// * Compares @bson to @other in a qsort() style comparison.
// * See qsort() for information on how this function works.
// *
// * Returns: Less than zero, zero, or greater than zero.
// *
function bson_compare(
           bson: Pbson_t;
           other: Pbson_t): Integer; inline;

// *
// * bson_equal:
// * @bson: A bson_t.
// * @other: A bson_t.
// *
// * Checks to see if @bson and @other are equal.
// *
// * Returns: true if equal; otherwise false.
// *
function bson_equal(
           bson: Pbson_t;
           other: Pbson_t): ByteBool; inline;

// * *
// * bson_validate:
// * @bson: A bson_t.
// * @offset: A location for the error offset.
// *
// * Validates a BSON document by walking through the document and inspecting
// * the fields for valid content.
// *
// * Returns: true if @bson is valid; otherwise false and @offset is set.
// *
function bson_validate(
           bson: Pbson_t;
           flags: bson_validate_flags_t;
           offset: Psize_t): ByteBool; inline;

// * *
// * bson_validate_with_error:
// * @bson: A bson_t.
// * @error: A location for the error info.
// *
// * Validates a BSON document by walking through the document and inspecting
// * the fields for valid content.
// *
// * Returns: true if @bson is valid; otherwise false and @error is filled out.
// *
function bson_validate_with_error(
           bson: Pbson_t;
           flags: bson_validate_flags_t;
           error: Pbson_error_t): ByteBool; inline;

// * *
// * bson_validate_with_error_and_offset:
// * @bson: A bson_t.
// * @offset: A location for the error offset.
// * @error: A location for the error info.
// *
// * Validates a BSON document by walking through the document and inspecting
// * the fields for valid content.
// *
// * Returns: true if @bson is valid; otherwise false, @offset is set
// * and @error is filled out.
// *
function bson_validate_with_error_and_offset(
           bson: Pbson_t;
           flags: bson_validate_flags_t;
           offset: Psize_t;
           error: Pbson_error_t): ByteBool; inline;

// * *
// * bson_as_json_with_opts:
// * @bson: A bson_t.
// * @length: A location for the string length, or NULL.
// * @opts: A bson_t_json_opts_t defining options for the conversion
// *
// * Creates a new string containing @bson in the selected JSON format,
// * conforming to the MongoDB Extended JSON Spec:
// *
// * github.com/mongodb/specifications/blob/master/source/extended-json.rst
// *
// * The caller is responsible for freeing the resulting string. If @length is
// * non-NULL, then the length of the resulting string will be placed in @length.
// *
// * See https: // www.mongodb.com/docs/manual/reference/mongodb-extended-json/ for
// * more information on extended JSON.
// *
// * Returns: A newly allocated string that should be freed with bson_free().
// *
function bson_as_json_with_opts(
           bson: Pbson_t;
           length: Psize_t;
           opts: Pbson_json_opts_t): PAnsiChar; inline;

// * *
// * bson_as_canonical_extended_json:
// * @bson: A bson_t.
// * @length: A location for the string length, or NULL.
// *
// * Creates a new string containing @bson in canonical extended JSON format,
// * conforming to the MongoDB Extended JSON Spec:
// *
// * github.com/mongodb/specifications/blob/master/source/extended-json.rst
// *
// * The caller is responsible for freeing the resulting string. If @length is
// * non-NULL, then the length of the resulting string will be placed in @length.
// *
// * See https: // www.mongodb.com/docs/manual/reference/mongodb-extended-json/ for
// * more information on extended JSON.
// *
// * Returns: A newly allocated string that should be freed with bson_free().
// *
function bson_as_canonical_extended_json(
           bson: Pbson_t;
           length: Psize_t): PAnsiChar; inline;

// * *
// * bson_as_legacy_extended_json:
// * @bson: A bson_t.
// * @length: A location for the string length, or NULL.
// *
// * Creates a new string containing @bson in libbson's legacy JSON format.
// * Superseded by bson_as_canonical_extended_json and
// * bson_as_relaxed_extended_json. The caller is
// * responsible for freeing the resulting string. If @length is non-NULL, then
// * the length of the resulting string will be placed in @length.
// *
// * Returns: A newly allocated string that should be freed with bson_free().
// *

function bson_as_legacy_extended_json(
           bson: Pbson_t;
           length: Psize_t): PAnsiChar; inline;

// * *
// * bson_as_relaxed_extended_json:
// * @bson: A bson_t.
// * @length: A location for the string length, or NULL.
// *
// * Creates a new string containing @bson in relaxed extended JSON format,
// * conforming to the MongoDB Extended JSON Spec:
// *
// * github.com/mongodb/specifications/blob/master/source/extended-json.rst
// *
// * The caller is responsible for freeing the resulting string. If @length is
// * non-NULL, then the length of the resulting string will be placed in @length.
// *
// * See https: // www.mongodb.com/docs/manual/reference/mongodb-extended-json/ for
// * more information on extended JSON.
// *
// * Returns: A newly allocated string that should be freed with bson_free().
// *
function bson_as_relaxed_extended_json(
           bson: Pbson_t;
           length: Psize_t): PAnsiChar; inline;

// * like bson_as_legacy_extended_json() but for outermost arrays.
function bson_array_as_legacy_extended_json(
           bson: Pbson_t;
           length: Psize_t): PAnsiChar; inline;

// * like bson_as_relaxed_extended_json() but for outermost arrays.
function bson_array_as_relaxed_extended_json(
           bson: Pbson_t;
           length: Psize_t): PAnsiChar; inline;

// * like bson_as_canonical_extended_json() but for outermost arrays.
function bson_array_as_canonical_extended_json(
           bson: Pbson_t;
           length: Psize_t): PAnsiChar; inline;

// bson_array_builder_t defines an API for building arrays.
// BSON arrays require sequential numeric keys "0", "1", "2", ...
type
  _bson_array_builder_t = record
  end;
  bson_array_builder_t = _bson_array_builder_t;
  Pbson_array_builder_t = ^bson_array_builder_t;
  PPbson_array_builder_t = ^Pbson_array_builder_t;

// bson_array_builder_new may be used to build a top-level BSON array. Example:
// `[1,2,3]`.
// To append an array field to a document (Example: `{ "field":[1,2,3] }`), use
// `bson_append_array_builder_begin`.
function bson_array_builder_new(): Pbson_array_builder_t; inline;

// bson_array_builder_build initializes and moves BSON data to `out`.
// `bab` may be reused and will start appending a new array at index "0".
function bson_array_builder_build(
           bab: Pbson_array_builder_t;
           param1: Pbson_t): ByteBool; inline;

procedure bson_array_builder_destroy(
            bab: Pbson_array_builder_t); inline;

function bson_append_value(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           value: Pbson_value_t): ByteBool; inline;

// #define BSON_APPEND_VALUE(b, key, val) bson_append_value(b, key, (int)strlen(key), (val))

function bson_array_builder_append_value(
           bab: Pbson_array_builder_t;
           value: Pbson_value_t): ByteBool; inline;

// * *
// * bson_append_array:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @array: A bson_t containing the array.
// *
// * Appends a BSON array to @bson. BSON arrays are like documents where the
// * key is the string version of the index. For example, the first item of the
// * array would have the key "0". The second item would have the index "1".
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_array(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           &array: Pbson_t): ByteBool; inline;

// #define BSON_APPEND_ARRAY(b, key, val) bson_append_array(b, key, (int)strlen(key), val)

function bson_array_builder_append_array(
           bab: Pbson_array_builder_t;
           &array: Pbson_t): ByteBool; inline;

// * *
// * bson_append_array_from_vector:
// * @bson: A bson_t that will be modified.
// * @key: The key for the field.
// * @iter: A bson_iter_t pointing to any supported vector in another bson_t.
// *
// * If @iter points to a supported vector type, converts the vector to a BSON array appended to @bson.
// *
// * Returns: true if successful; false if append would overflow max size or @iter does not point to a vector in a
// * supported format.
// *
function bson_append_array_from_vector(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           iter: Pbson_iter_t): ByteBool; inline;

// #define BSON_APPEND_ARRAY_FROM_VECTOR(b, key, iter) bson_append_array_from_vector(b, key, (int)strlen(key), iter)

function bson_array_builder_append_array_from_vector(
           bab: Pbson_array_builder_t;
           iter: Pbson_iter_t): ByteBool; inline;

// * *
// * bson_append_binary:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @key_length: Optional length of 'key' in bytes, or -1 to use strlen(key).
// * @subtype: The bson_subtype_t of the binary item.
// * @binary: The binary buffer to append.
// * @length: The length of @binary.
// *
// * Appends a binary buffer to the BSON document.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_binary(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           subtype: bson_subtype_t;
           binary: Puint8_t;
           length: uint32_t): ByteBool; inline;

// #define BSON_APPEND_BINARY(b, key, subtype, val, len) bson_append_binary(b, key, (int)strlen(key), subtype, val, len)

function bson_array_builder_append_binary(
           bab: Pbson_array_builder_t;
           subtype: bson_subtype_t;
           binary: Puint8_t;
           length: uint32_t): ByteBool; inline;

// * *
// * bson_append_binary_uninit:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @key_length: Optional length of 'key' in bytes, or -1 to use strlen(key).
// * @binary: Output parameter, pointer for the binary data within bson_t to be written.
// * @length: Length of the binary field to allocate, in bytes.
// *
// * Returns: true if successful; false if append would overflow max size.
// *

function bson_append_binary_uninit(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           subtype: bson_subtype_t;
           binary: PPuint8_t;
           length: uint32_t): ByteBool; inline;

// #define BSON_APPEND_BINARY_UNINIT(b, key, subtype, val, len) bson_append_binary_uninit(b, key, (int)strlen(key), subtype, val, len)

function bson_array_builder_append_binary_uninit(
           bab: Pbson_array_builder_t;
           subtype: bson_subtype_t;
           binary: PPuint8_t;
           length: uint32_t): ByteBool; inline;

// * *
// * bson_append_bool:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @value: The boolean value.
// *
// * Appends a new field to @bson of type BSON_TYPE_BOOL.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_bool(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           value: ByteBool): ByteBool; inline;

// #define BSON_APPEND_BOOL(b, key, val) bson_append_bool(b, key, (int)strlen(key), val)

function bson_array_builder_append_bool(
           bab: Pbson_array_builder_t;
           value: ByteBool): ByteBool; inline;

// * *
// * bson_append_code:
// * @bson: A bson_t.
// * @key: The key for the document.
// * @javascript: JavaScript code to be executed.
// *
// * Appends a field of type BSON_TYPE_CODE to the BSON document. @javascript
// * should contain a script in javascript to be executed.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_code(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           javascript: PAnsiChar): ByteBool; inline;

// #define BSON_APPEND_CODE(b, key, val) bson_append_code(b, key, (int)strlen(key), val)

function bson_array_builder_append_code(
           bab: Pbson_array_builder_t;
           javascript: PAnsiChar): ByteBool; inline;

// * *
// * bson_append_code_with_scope:
// * @bson: A bson_t.
// * @key: The key for the document.
// * @javascript: JavaScript code to be executed.
// * @scope: A bson_t containing the scope for @javascript.
// *
// * Appends a field of type BSON_TYPE_CODEWSCOPE to the BSON document.
// * @javascript should contain a script in javascript to be executed.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_code_with_scope(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           javascript: PAnsiChar;
           scope: Pbson_t): ByteBool; inline;

// #define BSON_APPEND_CODE_WITH_SCOPE(b, key, val, scope) bson_append_code_with_scope(b, key, (int)strlen(key), val, scope)

function bson_array_builder_append_code_with_scope(
           bab: Pbson_array_builder_t;
           javascript: PAnsiChar;
           scope: Pbson_t): ByteBool; inline;

// * *
// * bson_append_dbpointer:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @collection: The collection name.
// * @oid: The oid to the reference.
// *
// * Appends a new field of type BSON_TYPE_DBPOINTER. This datum type is
// * deprecated in the BSON spec and should not be used in new code.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_dbpointer(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           collection: PAnsiChar;
           oid: Pbson_oid_t): ByteBool; inline;

// #define BSON_APPEND_DBPOINTER(b, key, coll, oid) bson_append_dbpointer(b, key, (int)strlen(key), coll, oid)

function bson_array_builder_append_dbpointer(
           bab: Pbson_array_builder_t;
           collection: PAnsiChar;
           oid: Pbson_oid_t): ByteBool; inline;

// * *
// * bson_append_double:
// * @bson: A bson_t.
// * @key: The key for the field.
// *
// * Appends a new field to @bson of the type BSON_TYPE_DOUBLE.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_double(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           value: double): ByteBool; inline;

// #define BSON_APPEND_DOUBLE(b, key, val) bson_append_double(b, key, (int)strlen(key), val)

function bson_array_builder_append_double(
           bab: Pbson_array_builder_t;
           value: double): ByteBool; inline;

// * *
// * bson_append_document:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @value: A bson_t containing the subdocument.
// *
// * Appends a new field to @bson of the type BSON_TYPE_DOCUMENT.
// * The documents contents will be copied into @bson.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_document(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           value: Pbson_t): ByteBool; inline;

// #define BSON_APPEND_DOCUMENT(b, key, val) bson_append_document(b, key, (int)strlen(key), val)

function bson_array_builder_append_document(
           bab: Pbson_array_builder_t;
           value: Pbson_t): ByteBool; inline;

// * *
// * bson_append_document_begin:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @key_length: The length of @key in bytes not including NUL or -1
// * if @key_length is NUL terminated.
// * @child: A location to an uninitialized bson_t.
// *
// * Appends a new field named @key to @bson. The field is, however,
// * incomplete. @child will be initialized so that you may add fields to the
// * child document. Child will use a memory buffer owned by @bson and
// * therefore grow the parent buffer as additional space is used. This allows
// * a single malloc'd buffer to be used when building documents which can help
// * reduce memory fragmentation.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_document_begin(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           child: Pbson_t): ByteBool; inline;

// #define BSON_APPEND_DOCUMENT_BEGIN(b, key, child) bson_append_document_begin(b, key, (int)strlen(key), child)

function bson_array_builder_append_document_begin(
           bab: Pbson_array_builder_t;
           child: Pbson_t): ByteBool; inline;

// * *
// * bson_append_document_end:
// * @bson: A bson_t.
// * @child: A bson_t supplied to bson_append_document_begin().
// *
// * Finishes the appending of a document to a @bson. @child is considered
// * disposed after this call and should not be used any further.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_document_end(
           bson: Pbson_t;
           child: Pbson_t): ByteBool; inline;

function bson_array_builder_append_document_end(
           bab: Pbson_array_builder_t;
           child: Pbson_t): ByteBool; inline;

// * *
// * bson_append_array_begin:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @key_length: The length of @key in bytes not including NUL or -1
// * if @key_length is NUL terminated.
// * @child: A location to an uninitialized bson_t.
// *
// * Appends a new field named @key to @bson. The field is, however,
// * incomplete. @child will be initialized so that you may add fields to the
// * child array. Child will use a memory buffer owned by @bson and
// * therefore grow the parent buffer as additional space is used. This allows
// * a single malloc'd buffer to be used when building arrays which can help
// * reduce memory fragmentation.
// *
// * The type of @child will be BSON_TYPE_ARRAY and therefore the keys inside
// * of it MUST be "0", "1", etc.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_array_begin(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           child: Pbson_t): ByteBool; inline;

// #define BSON_APPEND_ARRAY_BEGIN(b, key, child) bson_append_array_begin(b, key, (int)strlen(key), child)

// * *
// * bson_append_array_end:
// * @bson: A bson_t.
// * @child: A bson_t supplied to bson_append_array_begin().
// *
// * Finishes the appending of a array to a @bson. @child is considered
// * disposed after this call and should not be used any further.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_array_end(
           bson: Pbson_t;
           child: Pbson_t): ByteBool; inline;

// * *
// * bson_append_int32:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @value: The int32_t 32-bit integer value.
// *
// * Appends a new field of type BSON_TYPE_INT32 to @bson.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_int32(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           value: int32_t): ByteBool; inline;

// #define BSON_APPEND_INT32(b, key, val) bson_append_int32(b, key, (int)strlen(key), val)

function bson_array_builder_append_int32(
           bab: Pbson_array_builder_t;
           value: int32_t): ByteBool; inline;

// * *
// * bson_append_int64:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @value: The int64_t 64-bit integer value.
// *
// * Appends a new field of type BSON_TYPE_INT64 to @bson.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_int64(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           value: int64_t): ByteBool; inline;

// #define BSON_APPEND_INT64(b, key, val) bson_append_int64(b, key, (int)strlen(key), val)

function bson_array_builder_append_int64(
           bab: Pbson_array_builder_t;
           value: int64_t): ByteBool; inline;

// * *
// * bson_append_decimal128:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @value: The bson_decimal128_t decimal128 value.
// *
// * Appends a new field of type BSON_TYPE_DECIMAL128 to @bson.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_decimal128(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           value: Pbson_decimal128_t): ByteBool; inline;

// #define BSON_APPEND_DECIMAL128(b, key, val) bson_append_decimal128(b, key, (int)strlen(key), val)

function bson_array_builder_append_decimal128(
           bab: Pbson_array_builder_t;
           value: Pbson_decimal128_t): ByteBool; inline;

// * *
// * bson_append_iter:
// * @bson: A bson_t to append to.
// * @key: The key name or %NULL to take current key from @iter.
// * @key_length: The key length or -1 to use strlen().
// * @iter: The iter located on the position of the element to append.
// *
// * Appends a new field to @bson that is equivalent to the field currently
// * pointed to by @iter.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_iter(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           iter: Pbson_iter_t): ByteBool; inline;

// #define BSON_APPEND_ITER(b, key, val) bson_append_iter(b, key, (int)strlen(key), val)

function bson_array_builder_append_iter(
           bab: Pbson_array_builder_t;
           iter: Pbson_iter_t): ByteBool; inline;

// * *
// * bson_append_minkey:
// * @bson: A bson_t.
// * @key: The key for the field.
// *
// * Appends a new field of type BSON_TYPE_MINKEY to @bson. This is a special
// * type that compares lower than all other possible BSON element values.
// *
// * See http: // bsonspec.org for more information on this type.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_minkey(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer): ByteBool; inline;

// #define BSON_APPEND_MINKEY(b, key) bson_append_minkey(b, key, (int)strlen(key))

function bson_array_builder_append_minkey(
           bab: Pbson_array_builder_t): ByteBool; inline;

// * *
// * bson_append_maxkey:
// * @bson: A bson_t.
// * @key: The key for the field.
// *
// * Appends a new field of type BSON_TYPE_MAXKEY to @bson. This is a special
// * type that compares higher than all other possible BSON element values.
// *
// * See http: // bsonspec.org for more information on this type.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_maxkey(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer): ByteBool; inline;

// #define BSON_APPEND_MAXKEY(b, key) bson_append_maxkey(b, key, (int)strlen(key))

function bson_array_builder_append_maxkey(
           bab: Pbson_array_builder_t): ByteBool; inline;

// * *
// * bson_append_null:
// * @bson: A bson_t.
// * @key: The key for the field.
// *
// * Appends a new field to @bson with NULL for the value.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_null(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer): ByteBool; inline;

// #define BSON_APPEND_NULL(b, key) bson_append_null(b, key, (int)strlen(key))

function bson_array_builder_append_null(
           bab: Pbson_array_builder_t): ByteBool; inline;

// * *
// * bson_append_oid:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @oid: bson_oid_t.
// *
// * Appends a new field to the @bson of type BSON_TYPE_OID using the contents of
// * @oid.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_oid(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           oid: Pbson_oid_t): ByteBool; inline;

// #define BSON_APPEND_OID(b, key, val) bson_append_oid(b, key, (int)strlen(key), val)

function bson_array_builder_append_oid(
           bab: Pbson_array_builder_t;
           oid: Pbson_oid_t): ByteBool; inline;

// * *
// * bson_append_regex:
// * @bson: A bson_t.
// * @key: The key of the field.
// * @regex: The regex to append to the bson.
// * @options: Options for @regex.
// *
// * Appends a new field to @bson of type BSON_TYPE_REGEX. @regex should
// * be the regex string. @options should contain the options for the regex.
// *
// * Valid options for @options are:
// *
// * 'i' for case-insensitive.
// * 'm' for multiple matching.
// * 'x' for verbose mode.
// * 'l' to make \w and \W locale dependent.
// * 's' for dotall mode ('.' matches everything)
// * 'u' to make \w and \W match unicode.
// *
// * For more detailed information about BSON regex elements, see bsonspec.org.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_regex(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           regex: PAnsiChar;
           options: PAnsiChar): ByteBool; inline;

// #define BSON_APPEND_REGEX(b, key, val, opt) bson_append_regex(b, key, (int)strlen(key), val, opt)

function bson_array_builder_append_regex(
           bab: Pbson_array_builder_t;
           regex: PAnsiChar;
           options: PAnsiChar): ByteBool; inline;

// * *
// * bson_append_regex:
// * @bson: A bson_t.
// * @key: The key of the field.
// * @key_length: The length of the key string.
// * @regex: The regex to append to the bson.
// * @regex_length: The length of the regex string.
// * @options: Options for @regex.
// *
// * Appends a new field to @bson of type BSON_TYPE_REGEX. @regex should
// * be the regex string. @options should contain the options for the regex.
// *
// * Valid options for @options are:
// *
// * 'i' for case-insensitive.
// * 'm' for multiple matching.
// * 'x' for verbose mode.
// * 'l' to make \w and \W locale dependent.
// * 's' for dotall mode ('.' matches everything)
// * 'u' to make \w and \W match unicode.
// *
// * For more detailed information about BSON regex elements, see bsonspec.org.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_regex_w_len(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           regex: PAnsiChar;
           regex_length: Integer;
           options: PAnsiChar): ByteBool; inline;

function bson_array_builder_append_regex_w_len(
           bab: Pbson_array_builder_t;
           regex: PAnsiChar;
           regex_length: Integer;
           options: PAnsiChar): ByteBool; inline;

// * *
// * bson_append_utf8:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @value: A UTF-8 encoded string.
// * @length: The length of @value or -1 if it is NUL terminated.
// *
// * Appends a new field to @bson using @key as the key and @value as the UTF-8
// * encoded value.
// *
// * It is the callers responsibility to ensure @value is valid UTF-8. You can
// * use bson_utf8_validate() to perform this check.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_utf8(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           value: PAnsiChar;
           length: Integer): ByteBool; inline;

// #define BSON_APPEND_UTF8(b, key, val) bson_append_utf8(b, key, (int)strlen(key), val, (int)strlen(val))

function bson_array_builder_append_utf8(
           bab: Pbson_array_builder_t;
           value: PAnsiChar;
           length: Integer): ByteBool; inline;

// * *
// * bson_append_symbol:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @value: The symbol as a string.
// * @length: The length of @value or -1 if NUL-terminated.
// *
// * Appends a new field to @bson of type BSON_TYPE_SYMBOL. This BSON type is
// * deprecated and should not be used in new code.
// *
// * See http: // bsonspec.org for more information on this type.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_symbol(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           value: PAnsiChar;
           length: Integer): ByteBool; inline;

// #define BSON_APPEND_SYMBOL(b, key, val) bson_append_symbol(b, key, (int)strlen(key), val, (int)strlen(val))

function bson_array_builder_append_symbol(
           bab: Pbson_array_builder_t;
           value: PAnsiChar;
           length: Integer): ByteBool; inline;

// * *
// * bson_append_time_t:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @value: A time_t.
// *
// * Appends a BSON_TYPE_DATE_TIME field to @bson using the time_t @value for the
// * number of seconds since UNIX epoch in UTC.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_time_t(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           value: time_t): ByteBool; inline;

// #define BSON_APPEND_TIME_T(b, key, val) bson_append_time_t(b, key, (int)strlen(key), val)

function bson_array_builder_append_time_t(
           bab: Pbson_array_builder_t;
           value: time_t): ByteBool; inline;

// * *
// * bson_append_timeval:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @value: A struct timeval containing the date and time.
// *
// * Appends a BSON_TYPE_DATE_TIME field to @bson using the struct timeval
// * provided. The time is persisted in milliseconds since the UNIX epoch in UTC.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_timeval(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           value: Ptimeval): ByteBool; inline;

// #define BSON_APPEND_TIMEVAL(b, key, val) bson_append_timeval(b, key, (int)strlen(key), val)

function bson_array_builder_append_timeval(
           bab: Pbson_array_builder_t;
           value: Ptimeval): ByteBool; inline;

// * *
// * bson_append_date_time:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @key_length: The length of @key in bytes or -1 if \0 terminated.
// * @value: The number of milliseconds elapsed since UNIX epoch.
// *
// * Appends a new field to @bson of type BSON_TYPE_DATE_TIME.
// *
// * Returns: true if successful; otherwise false.
// *
function bson_append_date_time(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           value: int64_t): ByteBool; inline;

// #define BSON_APPEND_DATE_TIME(b, key, val) bson_append_date_time(b, key, (int)strlen(key), val)

function bson_array_builder_append_date_time(
           bab: Pbson_array_builder_t;
           value: int64_t): ByteBool; inline;

// * *
// * bson_append_now_utc:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @key_length: The length of @key or -1 if it is NULL terminated.
// *
// * Appends a BSON_TYPE_DATE_TIME field to @bson using the current time in UTC
// * as the field value.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_now_utc(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer): ByteBool; inline;

// #define BSON_APPEND_NOW_UTC(b, key) bson_append_now_utc(b, key, (int)strlen(key))

function bson_array_builder_append_now_utc(
           bab: Pbson_array_builder_t): ByteBool; inline;

// * *
// * bson_append_timestamp:
// * @bson: A bson_t.
// * @key: The key for the field.
// * @timestamp: 4 byte timestamp.
// * @increment: 4 byte increment for timestamp.
// *
// * Appends a field of type BSON_TYPE_TIMESTAMP to @bson. This is a special type
// * used by MongoDB replication and sharding. If you need generic time and date
// * fields use bson_append_time_t() or bson_append_timeval().
// *
// * Setting @increment and @timestamp to zero has special semantics. See
// * http: // bsonspec.org for more information on this field type.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_timestamp(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           timestamp: uint32_t;
           increment: uint32_t): ByteBool; inline;

// #define BSON_APPEND_TIMESTAMP(b, key, val, inc) bson_append_timestamp(b, key, (int)strlen(key), val, inc)

function bson_array_builder_append_timestamp(
           bab: Pbson_array_builder_t;
           timestamp: uint32_t;
           increment: uint32_t): ByteBool; inline;

// * *
// * bson_append_undefined:
// * @bson: A bson_t.
// * @key: The key for the field.
// *
// * Appends a field of type BSON_TYPE_UNDEFINED. This type is deprecated in the
// * spec and should not be used for new code. However, it is provided for those
// * needing to interact with legacy systems.
// *
// * Returns: true if successful; false if append would overflow max size.
// *
function bson_append_undefined(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer): ByteBool; inline;

// #define BSON_APPEND_UNDEFINED(b, key) bson_append_undefined(b, key, (int)strlen(key))

function bson_array_builder_append_undefined(
           bab: Pbson_array_builder_t): ByteBool; inline;

function bson_concat(
           dst: Pbson_t;
           src: Pbson_t): ByteBool; inline;

function bson_append_array_builder_begin(
           bson: Pbson_t;
           key: PAnsiChar;
           key_length: Integer;
           child: PPbson_array_builder_t): ByteBool; inline;

// #define BSON_APPEND_ARRAY_BUILDER_BEGIN(b, key, child) bson_append_array_builder_begin(b, key, (int)strlen(key), child)

function bson_array_builder_append_array_builder_begin(
           bab: Pbson_array_builder_t;
           child: PPbson_array_builder_t): ByteBool; inline;

function bson_append_array_builder_end(
           bson: Pbson_t;
           child: Pbson_array_builder_t): ByteBool; inline;

function bson_array_builder_append_array_builder_end(
           bab: Pbson_array_builder_t;
           child: Pbson_array_builder_t): ByteBool; inline;

////////////////////
// mongoc-prelude //
////////////////////

///////////////////
// mongoc-macros //
///////////////////

// * Decorate public functions:
// * - if MONGOC_STATIC, we're compiling a static libmongoc or a program
// * that uses libmongoc as a static library. Don't decorate functions
// * - else if MONGOC_COMPILATION, we're compiling a shared libmongoc,
// * mark public functions for export from the shared lib.
// * - else, we're compiling a program that uses libmongoc as a shared library,
// * mark public functions as DLL imports for Microsoft Visual C.
// *

// *
// * Microsoft Visual C
// *
// #define MONGOC_API __declspec(dllimport)
// #define MONGOC_CALL __cdecl

// *
// * Other compilers
// *

///////////////////
// mongoc-config //
///////////////////

// * clang-format off

// *
// * NOTICE:
// * If you're about to update this file and add a config flag, make sure to
// * update:
// * o The bitfield in mongoc-handshake-private.h
// * o _mongoc_handshake_get_config_hex_string() in mongoc-handshake.c
// * o examples/parse_handshake_cfg.py
// * o test_handshake_platform_config in test-mongoc-handshake.c
// *

// * MONGOC_USER_SET_CFLAGS is set from config based on what compiler flags were
// * used to compile mongoc
const MONGOC_USER_SET_CFLAGS = '/DWIN32 /D_WINDOWS';

const MONGOC_USER_SET_LDFLAGS = '/machine:x64';

// * MONGOC_CC is used to determine what C compiler was used to compile mongoc
const MONGOC_CC = 'C:/Program Files/Microsoft Visual Studio/18/Community/VC/Tools/MSVC/14.50.35717/bin/Hostx64/x64/cl.exe';

// *
// * MONGOC_ENABLE_SSL_SECURE_CHANNEL is set from configure to determine if we are
// * compiled with Native SSL support on Windows
// *
const MONGOC_ENABLE_SSL_SECURE_CHANNEL = 1;

// *
// * MONGOC_ENABLE_CRYPTO_CNG is set from configure to determine if we are
// * compiled with Native Crypto support on Windows
// *
const MONGOC_ENABLE_CRYPTO_CNG = 1;

// *
// * MONGOC_HAVE_BCRYPT_PBKDF2 is set from configure to determine if
// * our Bcrypt Windows library supports PBKDF2
// *
const MONGOC_HAVE_BCRYPT_PBKDF2 = 1;

// *
// * MONGOC_ENABLE_SSL_SECURE_TRANSPORT is set from configure to determine if we are
// * compiled with Native SSL support on Darwin
// *
const MONGOC_ENABLE_SSL_SECURE_TRANSPORT = 0;

// *
// * MONGOC_ENABLE_CRYPTO_COMMON_CRYPTO is set from configure to determine if we are
// * compiled with Native Crypto support on Darwin
// *
const MONGOC_ENABLE_CRYPTO_COMMON_CRYPTO = 0;

// *
// * MONGOC_ENABLE_SSL_OPENSSL is set from configure to determine if we are
// * compiled with OpenSSL support.
// *
const MONGOC_ENABLE_SSL_OPENSSL = 0;

// *
// * MONGOC_ENABLE_CRYPTO_LIBCRYPTO is set from configure to determine if we are
// * compiled with OpenSSL support.
// *
const MONGOC_ENABLE_CRYPTO_LIBCRYPTO = 0;

// *
// * MONGOC_ENABLE_SSL is set from configure to determine if we are
// * compiled with any SSL support.
// *
const MONGOC_ENABLE_SSL = 1;

// *
// * MONGOC_ENABLE_CRYPTO is set from configure to determine if we are
// * compiled with any crypto support.
// *
const MONGOC_ENABLE_CRYPTO = 1;

// *
// * Use system crypto profile
// *
const MONGOC_ENABLE_CRYPTO_SYSTEM_PROFILE = 0;

// *
// * Use ASN1_STRING_get0_data () rather than the deprecated ASN1_STRING_data
// *
const MONGOC_HAVE_ASN1_STRING_GET0_DATA = 0;

// *
// * MONGOC_ENABLE_SASL is set from configure to determine if we are
// * compiled with SASL support.
// *
const MONGOC_ENABLE_SASL = 1;

// *
// * MONGOC_ENABLE_SASL_CYRUS is set from configure to determine if we are
// * compiled with Cyrus SASL support.
// *
const MONGOC_ENABLE_SASL_CYRUS = 0;

// *
// * MONGOC_ENABLE_SASL_SSPI is set from configure to determine if we are
// * compiled with SSPI support.
// *
const MONGOC_ENABLE_SASL_SSPI = 1;

// *
// * MONGOC_HAVE_SASL_CLIENT_DONE is set from configure to determine if we
// * have SASL and its version is new enough to use sasl_client_done (),
// * which supersedes sasl_done ().
// *
const MONGOC_HAVE_SASL_CLIENT_DONE = 0;

// *
// * MONGOC_HAVE_SOCKLEN is set from configure to determine if we
// * need to emulate the type.
// *
const MONGOC_HAVE_SOCKLEN = 1;

// * *
// * @brief Defined to 0/1 for whether we were configured with ENABLE_SRV
// *
const MONGOC_ENABLE_SRV = 1;

// *
// * MONGOC_HAVE_DNSAPI is set from configure to determine if we should use the
// * Windows dnsapi for SRV record lookups.
// *
const MONGOC_HAVE_DNSAPI = 1;

// *
// * MONGOC_HAVE_RES_NSEARCH is set from configure to determine if we
// * have thread-safe res_nsearch().
// *
const MONGOC_HAVE_RES_NSEARCH = 0;

// *
// * MONGOC_HAVE_RES_NDESTROY is set from configure to determine if we
// * have BSD / Darwin's res_ndestroy().
// *
const MONGOC_HAVE_RES_NDESTROY = 0;

// *
// * MONGOC_HAVE_RES_NCLOSE is set from configure to determine if we
// * have Linux's res_nclose().
// *
const MONGOC_HAVE_RES_NCLOSE = 0;

// *
// * MONGOC_HAVE_RES_SEARCH is set from configure to determine if we
// * have thread-unsafe res_search(). It's unset if we have the preferred
// * res_nsearch().
// *
const MONGOC_HAVE_RES_SEARCH = 0;

// *
// * Set from configure, see
// * https: // curl.haxx.se/mail/lib-2009-04/0287.html
// *
// #define MONGOC_SOCKET_ARG2 struct sockaddr
type MONGOC_SOCKET_ARG3 = socklen_t;

// *
// * Enable wire protocol compression negotiation
// *
// *
const MONGOC_ENABLE_COMPRESSION = 1;

// *
// * Set if we have snappy compression support
// *
// *
const MONGOC_ENABLE_COMPRESSION_SNAPPY = 0;

// *
// * Set if we have zlib compression support
// *
// *
const MONGOC_ENABLE_COMPRESSION_ZLIB = 1;

// *
// * Set if we have zstd compression support
// *
// *
const MONGOC_ENABLE_COMPRESSION_ZSTD = 0;

// *
// * Set if performance counters are available and not disabled.
// *
// *
const MONGOC_ENABLE_SHM_COUNTERS = 0;

// *
// * Set if we have enabled fast counters on Intel using the RDTSCP instruction
// *
// *
const MONGOC_ENABLE_RDTSCP = 0;

// *
// * Set if we have the sched_getcpu() function for use with counters
// *
// *
const MONGOC_HAVE_SCHED_GETCPU = 0;

// *
// * Set if tracing is enabled. Logs things like network communication and
// * entry/exit of certain functions.
// *
const MONGOC_TRACE = 0;

// *
// * Set if we have Client Side Encryption support.
// *

const MONGOC_ENABLE_CLIENT_SIDE_ENCRYPTION = 0;

// *
// * Set if struct sockaddr_storage has __ss_family (instead of ss_family)
// *

const MONGOC_HAVE_SS_FAMILY = 0;

// *
// * Set if building with AWS IAM support.
// *
const MONGOC_ENABLE_MONGODB_AWS_AUTH = 1;

// enum {
// * *
// * @brief Compile-time constant determining whether the mongoc library was
// * compiled with tracing enabled.
// *
// * Can be controlled with the ENABLE_TRACING configure-time boolean option
// *
// MONGOC_TRACE_ENABLED = MONGOC_TRACE,
// * *
// * @brief Compile-time constant indicating whether the mongoc library was
// * compiled with SRV server discovery support.
// *
// * Can be controled with the ENABLE_SRV configure-time boolean option.
// *
// MONGOC_SRV_ENABLED = MONGOC_ENABLE_SRV,
// };

// * clang-format on

//////////////////////
// mongoc-host-list //
//////////////////////

const BSON_HOST_NAME_MAX = 255;

type
  _mongoc_host_list_t = record
  end;
  mongoc_host_list_t = _mongoc_host_list_t;
  Pmongoc_host_list_t = ^mongoc_host_list_t;

// struct _mongoc_host_list_t {
// mongoc_host_list_t * next;
// char host[BSON_HOST_NAME_MAX + 1];
// char host_and_port[BSON_HOST_NAME_MAX + 7];
// uint16_t port;
// int family;
// void * padding[4];
// };

//////////////////
// mongoc-flags //
//////////////////

// * *
// * mongoc_remove_flags_t:
// * @MONGOC_REMOVE_NONE: Specify no delete flags.
// * @MONGOC_REMOVE_SINGLE_REMOVE: Only remove the first document matching the
// * document selector.
// *
// * #mongoc_remove_flags_t are used when performing a remove operation.
// *
type
  mongoc_remove_flags_t = (
    MONGOC_REMOVE_NONE = 0,
    MONGOC_REMOVE_SINGLE_REMOVE = 1 shl 0);

// * *
// * mongoc_insert_flags_t:
// * @MONGOC_INSERT_NONE: Specify no insert flags.
// * @MONGOC_INSERT_CONTINUE_ON_ERROR: Continue inserting documents from
// * the insertion set even if one fails.
// *
// * #mongoc_insert_flags_t are used when performing an insert operation.
// *
type
  mongoc_insert_flags_t = (
    MONGOC_INSERT_NONE = 0,
    MONGOC_INSERT_CONTINUE_ON_ERROR = 1 shl 0);

const MONGOC_INSERT_NO_VALIDATE = (NativeUInt(1) shl 31);

// * *
// * mongoc_query_flags_t:
// * @MONGOC_QUERY_NONE: No query flags supplied.
// * @MONGOC_QUERY_TAILABLE_CURSOR: Cursor will not be closed when the last
// * data is retrieved. You can resume this cursor later.
// * @MONGOC_QUERY_SECONDARY_OK: Allow query of secondaries in a replica set.
// * @MONGOC_QUERY_OPLOG_REPLAY: Used internally by Mongo.
// * @MONGOC_QUERY_NO_CURSOR_TIMEOUT: The server normally times out idle
// * cursors after an inactivity period (10 minutes). This prevents that.
// * @MONGOC_QUERY_AWAIT_DATA: Use with %MONGOC_QUERY_TAILABLE_CURSOR. Block
// * rather than returning no data. After a period, time out.
// * @MONGOC_QUERY_EXHAUST: Stream the data down full blast in multiple
// * "more" packages. Faster when you are pulling a lot of data and
// * know you want to pull it all down.
// * @MONGOC_QUERY_PARTIAL: Get partial results from mongos if some shards
// * are down (instead of throwing an error).
// *
// * #mongoc_query_flags_t is used for querying a Mongo instance.
// *
type
  mongoc_query_flags_t = (
    MONGOC_QUERY_NONE = 0,
    MONGOC_QUERY_TAILABLE_CURSOR = 1 shl 1,
    MONGOC_QUERY_SECONDARY_OK = 1 shl 2,
    MONGOC_QUERY_OPLOG_REPLAY = 1 shl 3,
    MONGOC_QUERY_NO_CURSOR_TIMEOUT = 1 shl 4,
    MONGOC_QUERY_AWAIT_DATA = 1 shl 5,
    MONGOC_QUERY_EXHAUST = 1 shl 6,
    MONGOC_QUERY_PARTIAL = 1 shl 7);

// * *
// * mongoc_update_flags_t:
// * @MONGOC_UPDATE_NONE: No update flags specified.
// * @MONGOC_UPDATE_UPSERT: Perform an upsert.
// * @MONGOC_UPDATE_MULTI_UPDATE: Continue updating after first match.
// *
// * #mongoc_update_flags_t is used when updating documents found in Mongo.
// *
type
  mongoc_update_flags_t = (
    MONGOC_UPDATE_NONE = 0,
    MONGOC_UPDATE_UPSERT = 1 shl 0,
    MONGOC_UPDATE_MULTI_UPDATE = 1 shl 1);

const MONGOC_UPDATE_NO_VALIDATE = (NativeUInt(1) shl 31);

//////////////////
// mongoc-iovec //
//////////////////

{$if defined(Win32)}
type
  mongoc_iovec_t = record
    iov_len: size_t;
    iov_base: PAnsiChar;
  end;
  Pmongoc_iovec_t = ^mongoc_iovec_t;

// BSON_STATIC_ASSERT2(sizeof_iovect_t, sizeof(mongoc_iovec_t) == sizeof(WSABUF));
// BSON_STATIC_ASSERT2(offsetof_iovec_base, offsetof(mongoc_iovec_t, iov_base) == offsetof(WSABUF, buf));
// BSON_STATIC_ASSERT2(offsetof_iovec_len, offsetof(mongoc_iovec_t, iov_len) == offsetof(WSABUF, len));

{$else}
type
  iovec = record
  end;
  mongoc_iovec_t = iovec;
  Pmongoc_iovec_t = ^mongoc_iovec_t;
{$endif}

///////////////////
// mongoc-opcode //
///////////////////

type
  mongoc_opcode_t = (
    MONGOC_OPCODE_REPLY = 1,
    MONGOC_OPCODE_UPDATE = 2001,
    MONGOC_OPCODE_INSERT = 2002,
    MONGOC_OPCODE_QUERY = 2004,
    MONGOC_OPCODE_GET_MORE = 2005,
    MONGOC_OPCODE_DELETE = 2006,
    MONGOC_OPCODE_KILL_CURSORS = 2007,
    MONGOC_OPCODE_COMPRESSED = 2012,
    MONGOC_OPCODE_MSG = 2013);

////////////////////
// mongoc-version //
////////////////////

// clang-format off

// * *
// * MONGOC_MAJOR_VERSION:
// *
// * MONGOC major version component (e.g. 1 if %MONGOC_VERSION is 1.2.3)
// *
const MONGOC_MAJOR_VERSION = (2);

// * *
// * MONGOC_MINOR_VERSION:
// *
// * MONGOC minor version component (e.g. 2 if %MONGOC_VERSION is 1.2.3)
// *
const MONGOC_MINOR_VERSION = (2);

// * *
// * MONGOC_MICRO_VERSION:
// *
// * MONGOC micro version component (e.g. 3 if %MONGOC_VERSION is 1.2.3)
// *
const MONGOC_MICRO_VERSION = (1);

// * *
// * MONGOC_PRERELEASE_VERSION:
// *
// * MONGOC prerelease version component (e.g. pre if %MONGOC_VERSION is 1.2.3-pre)
// *
// #define MONGOC_PRERELEASE_VERSION ()

// * *
// * MONGOC_VERSION:
// *
// * MONGOC version.
// *
// #define MONGOC_VERSION (2.2.1)

// * *
// * MONGOC_VERSION_S:
// *
// * MONGOC version, encoded as a string, useful for printing and
// * concatenation.
// *
const MONGOC_VERSION_S = '2.2.1';

// * *
// * MONGOC_VERSION_HEX:
// *
// * MONGOC version, encoded as an hexadecimal number, useful for
// * integer comparisons.
// *
const MONGOC_VERSION_HEX = (MONGOC_MAJOR_VERSION shl 24 or MONGOC_MINOR_VERSION shl 16 or MONGOC_MICRO_VERSION shl 8);

// * *
// * MONGOC_CHECK_VERSION:
// * @major: required major version
// * @minor: required minor version
// * @micro: required micro version
// *
// * Compile-time version checking. Evaluates to %TRUE if the version
// * of MONGOC is greater than or equal to the required one.
// *
// #define MONGOC_CHECK_VERSION(major,minor,micro) (MONGOC_MAJOR_VERSION > (major) || (MONGOC_MAJOR_VERSION == (major) && MONGOC_MINOR_VERSION > (minor)) || (MONGOC_MAJOR_VERSION == (major) && MONGOC_MINOR_VERSION == (minor) && MONGOC_MICRO_VERSION >= (micro)))

//////////////////////////
// mongoc-write-concern //
//////////////////////////

const MONGOC_WRITE_CONCERN_W_UNACKNOWLEDGED = 0;
const MONGOC_WRITE_CONCERN_W_DEFAULT = -2;
const MONGOC_WRITE_CONCERN_W_MAJORITY = -3;
const MONGOC_WRITE_CONCERN_W_TAG = -4;

type
  _mongoc_write_concern_t = record
  end;
  mongoc_write_concern_t = _mongoc_write_concern_t;
  Pmongoc_write_concern_t = ^mongoc_write_concern_t;

function mongoc_write_concern_new(): Pmongoc_write_concern_t; inline;

function mongoc_write_concern_copy(
           write_concern: Pmongoc_write_concern_t): Pmongoc_write_concern_t; inline;

procedure mongoc_write_concern_destroy(
            write_concern: Pmongoc_write_concern_t); inline;

function mongoc_write_concern_get_journal(
           write_concern: Pmongoc_write_concern_t): ByteBool; inline;

function mongoc_write_concern_journal_is_set(
           write_concern: Pmongoc_write_concern_t): ByteBool; inline;

procedure mongoc_write_concern_set_journal(
            write_concern: Pmongoc_write_concern_t;
            journal: ByteBool); inline;

function mongoc_write_concern_get_w(
           write_concern: Pmongoc_write_concern_t): int32_t; inline;

procedure mongoc_write_concern_set_w(
            write_concern: Pmongoc_write_concern_t;
            w: int32_t); inline;

function mongoc_write_concern_get_wtag(
           write_concern: Pmongoc_write_concern_t): PAnsiChar; inline;

procedure mongoc_write_concern_set_wtag(
            write_concern: Pmongoc_write_concern_t;
            tag: PAnsiChar); inline;

function mongoc_write_concern_get_wtimeout(
           write_concern: Pmongoc_write_concern_t): int32_t; inline;

function mongoc_write_concern_get_wtimeout_int64(
           write_concern: Pmongoc_write_concern_t): int64_t; inline;

procedure mongoc_write_concern_set_wtimeout(
            write_concern: Pmongoc_write_concern_t;
            wtimeout_msec: int32_t); inline;

procedure mongoc_write_concern_set_wtimeout_int64(
            write_concern: Pmongoc_write_concern_t;
            wtimeout_msec: int64_t); inline;

function mongoc_write_concern_get_wmajority(
           write_concern: Pmongoc_write_concern_t): ByteBool; inline;

procedure mongoc_write_concern_set_wmajority(
            write_concern: Pmongoc_write_concern_t;
            wtimeout_msec: int32_t); inline;

function mongoc_write_concern_is_acknowledged(
           write_concern: Pmongoc_write_concern_t): ByteBool; inline;

function mongoc_write_concern_is_valid(
           write_concern: Pmongoc_write_concern_t): ByteBool; inline;

function mongoc_write_concern_append(
           write_concern: Pmongoc_write_concern_t;
           doc: Pbson_t): ByteBool; inline;

function mongoc_write_concern_is_default(
           write_concern: Pmongoc_write_concern_t): ByteBool; inline;

/////////////////////////
// mongoc-read-concern //
/////////////////////////

const MONGOC_READ_CONCERN_LEVEL_AVAILABLE = 'available';
const MONGOC_READ_CONCERN_LEVEL_LOCAL = 'local';
const MONGOC_READ_CONCERN_LEVEL_MAJORITY = 'majority';
const MONGOC_READ_CONCERN_LEVEL_LINEARIZABLE = 'linearizable';
const MONGOC_READ_CONCERN_LEVEL_SNAPSHOT = 'snapshot';

type
  _mongoc_read_concern_t = record
  end;
  mongoc_read_concern_t = _mongoc_read_concern_t;
  Pmongoc_read_concern_t = ^mongoc_read_concern_t;

function mongoc_read_concern_new(): Pmongoc_read_concern_t; inline;
function mongoc_read_concern_copy(
           read_concern: Pmongoc_read_concern_t): Pmongoc_read_concern_t; inline;
procedure mongoc_read_concern_destroy(
            read_concern: Pmongoc_read_concern_t); inline;
function mongoc_read_concern_get_level(
           read_concern: Pmongoc_read_concern_t): PAnsiChar; inline;
function mongoc_read_concern_set_level(
           read_concern: Pmongoc_read_concern_t;
           level: PAnsiChar): ByteBool; inline;
function mongoc_read_concern_append(
           read_concern: Pmongoc_read_concern_t;
           doc: Pbson_t): ByteBool; inline;
function mongoc_read_concern_is_default(
           read_concern: Pmongoc_read_concern_t): ByteBool; inline;

/////////////////////
// mongoc-optional //
/////////////////////

type
  mongoc_optional_t = record
    value: ByteBool;
    is_set: ByteBool;
  end;
  Pmongoc_optional_t = ^mongoc_optional_t;

procedure mongoc_optional_init(
            opt: Pmongoc_optional_t); inline;

function mongoc_optional_is_set(
           opt: Pmongoc_optional_t): ByteBool; inline;

function mongoc_optional_value(
           opt: Pmongoc_optional_t): ByteBool; inline;

procedure mongoc_optional_set_value(
            opt: Pmongoc_optional_t;
            val: ByteBool); inline;

procedure mongoc_optional_copy(
            source: Pmongoc_optional_t;
            copy: Pmongoc_optional_t); inline;

//////////////////
// mongoc-error //
//////////////////

const MONGOC_ERROR_API_VERSION_LEGACY = 1;
const MONGOC_ERROR_API_VERSION_2 = 2;

type
  mongoc_error_domain_t = (
    MONGOC_ERROR_CLIENT = 1,
    MONGOC_ERROR_STREAM,
    MONGOC_ERROR_PROTOCOL,
    MONGOC_ERROR_CURSOR,
    MONGOC_ERROR_QUERY,
    MONGOC_ERROR_INSERT,
    MONGOC_ERROR_SASL,
    MONGOC_ERROR_BSON,
    MONGOC_ERROR_MATCHER,
    MONGOC_ERROR_NAMESPACE,
    MONGOC_ERROR_COMMAND,
    MONGOC_ERROR_COLLECTION,
    MONGOC_ERROR_GRIDFS,
    MONGOC_ERROR_SCRAM,
    MONGOC_ERROR_SERVER_SELECTION,
    MONGOC_ERROR_WRITE_CONCERN,
    MONGOC_ERROR_SERVER, (* Error API Version 2 only *)
    MONGOC_ERROR_TRANSACTION,
    MONGOC_ERROR_CLIENT_SIDE_ENCRYPTION, (* An error coming from libmongocrypt *)
    MONGOC_ERROR_POOL,
    MONGOC_ERROR_AZURE,
    MONGOC_ERROR_GCP);

type
  mongoc_error_code_t = (
    MONGOC_ERROR_STREAM_INVALID_TYPE = 1,
    MONGOC_ERROR_STREAM_INVALID_STATE,
    MONGOC_ERROR_STREAM_NAME_RESOLUTION,
    MONGOC_ERROR_STREAM_SOCKET,
    MONGOC_ERROR_STREAM_CONNECT,
    MONGOC_ERROR_STREAM_NOT_ESTABLISHED,
    MONGOC_ERROR_CLIENT_NOT_READY,
    MONGOC_ERROR_CLIENT_TOO_BIG,
    MONGOC_ERROR_CLIENT_TOO_SMALL,
    MONGOC_ERROR_CLIENT_GETNONCE,
    MONGOC_ERROR_CLIENT_AUTHENTICATE,
    MONGOC_ERROR_CLIENT_NO_ACCEPTABLE_PEER,
    MONGOC_ERROR_CLIENT_IN_EXHAUST,
    MONGOC_ERROR_PROTOCOL_INVALID_REPLY,
    MONGOC_ERROR_PROTOCOL_BAD_WIRE_VERSION,
    MONGOC_ERROR_CURSOR_INVALID_CURSOR,
    MONGOC_ERROR_QUERY_FAILURE,
    MONGOC_ERROR_BSON_INVALID,
    MONGOC_ERROR_MATCHER_INVALID,
    MONGOC_ERROR_NAMESPACE_INVALID,
    MONGOC_ERROR_NAMESPACE_INVALID_FILTER_TYPE,
    MONGOC_ERROR_COMMAND_INVALID_ARG,
    MONGOC_ERROR_COLLECTION_INSERT_FAILED,
    MONGOC_ERROR_COLLECTION_UPDATE_FAILED,
    MONGOC_ERROR_COLLECTION_DELETE_FAILED,
    MONGOC_ERROR_COLLECTION_DOES_NOT_EXIST = 26,
    MONGOC_ERROR_GRIDFS_INVALID_FILENAME,
    MONGOC_ERROR_SCRAM_NOT_DONE,
    MONGOC_ERROR_SCRAM_PROTOCOL_ERROR,
    MONGOC_ERROR_QUERY_COMMAND_NOT_FOUND = 59,
    MONGOC_ERROR_QUERY_NOT_TAILABLE = 13051,
    MONGOC_ERROR_SERVER_SELECTION_BAD_WIRE_VERSION,
    MONGOC_ERROR_SERVER_SELECTION_FAILURE,
    MONGOC_ERROR_SERVER_SELECTION_INVALID_ID,
    MONGOC_ERROR_GRIDFS_CHUNK_MISSING,
    MONGOC_ERROR_GRIDFS_PROTOCOL_ERROR,
    (* Dup with query failure. *)
    MONGOC_ERROR_PROTOCOL_ERROR = 17,
    MONGOC_ERROR_WRITE_CONCERN_ERROR = 64,
    MONGOC_ERROR_DUPLICATE_KEY = 11000,
    MONGOC_ERROR_MAX_TIME_MS_EXPIRED = 50,
    MONGOC_ERROR_CHANGE_STREAM_NO_RESUME_TOKEN,
    MONGOC_ERROR_CLIENT_SESSION_FAILURE,
    MONGOC_ERROR_TRANSACTION_INVALID_STATE,
    MONGOC_ERROR_GRIDFS_CORRUPT,
    MONGOC_ERROR_GRIDFS_BUCKET_FILE_NOT_FOUND,
    MONGOC_ERROR_GRIDFS_BUCKET_STREAM,
    (* An error related to initializing client side encryption. *)
    MONGOC_ERROR_CLIENT_INVALID_ENCRYPTION_STATE,
    MONGOC_ERROR_CLIENT_INVALID_ENCRYPTION_ARG,
    (* An error related to server version api *)
    MONGOC_ERROR_CLIENT_API_ALREADY_SET,
    MONGOC_ERROR_CLIENT_API_FROM_POOL,
    MONGOC_ERROR_POOL_API_ALREADY_SET,
    MONGOC_ERROR_POOL_API_TOO_LATE,
    MONGOC_ERROR_CLIENT_INVALID_LOAD_BALANCER,
    (* An error related to either GCP metadata or Azure IMDS server *)
    MONGOC_ERROR_KMS_SERVER_HTTP,
    MONGOC_ERROR_KMS_SERVER_BAD_JSON);

function mongoc_error_has_label(
           reply: Pbson_t;
           &label: PAnsiChar): ByteBool; inline;

////////////////////////////
// mongoc-find-and-modify //
////////////////////////////

type
  mongoc_find_and_modify_flags_t = (
    MONGOC_FIND_AND_MODIFY_NONE = 0,
    MONGOC_FIND_AND_MODIFY_REMOVE = 1 shl 0,
    MONGOC_FIND_AND_MODIFY_UPSERT = 1 shl 1,
    MONGOC_FIND_AND_MODIFY_RETURN_NEW = 1 shl 2);

type
  _mongoc_find_and_modify_opts_t = record
  end;
  mongoc_find_and_modify_opts_t = _mongoc_find_and_modify_opts_t;
  Pmongoc_find_and_modify_opts_t = ^mongoc_find_and_modify_opts_t;

function mongoc_find_and_modify_opts_new(): Pmongoc_find_and_modify_opts_t; inline;

function mongoc_find_and_modify_opts_set_sort(
           opts: Pmongoc_find_and_modify_opts_t;
           sort: Pbson_t): ByteBool; inline;

procedure mongoc_find_and_modify_opts_get_sort(
            opts: Pmongoc_find_and_modify_opts_t;
            sort: Pbson_t); inline;

function mongoc_find_and_modify_opts_set_update(
           opts: Pmongoc_find_and_modify_opts_t;
           update: Pbson_t): ByteBool; inline;

procedure mongoc_find_and_modify_opts_get_update(
            opts: Pmongoc_find_and_modify_opts_t;
            update: Pbson_t); inline;

function mongoc_find_and_modify_opts_set_fields(
           opts: Pmongoc_find_and_modify_opts_t;
           fields: Pbson_t): ByteBool; inline;

procedure mongoc_find_and_modify_opts_get_fields(
            opts: Pmongoc_find_and_modify_opts_t;
            fields: Pbson_t); inline;

function mongoc_find_and_modify_opts_set_flags(
           opts: Pmongoc_find_and_modify_opts_t;
           flags: UInt32): ByteBool; inline;

function mongoc_find_and_modify_opts_get_flags(
           opts: Pmongoc_find_and_modify_opts_t): mongoc_find_and_modify_flags_t; inline;

function mongoc_find_and_modify_opts_set_bypass_document_validation(
           opts: Pmongoc_find_and_modify_opts_t;
           bypass: ByteBool): ByteBool; inline;

function mongoc_find_and_modify_opts_get_bypass_document_validation(
           opts: Pmongoc_find_and_modify_opts_t): ByteBool; inline;

function mongoc_find_and_modify_opts_set_max_time_ms(
           opts: Pmongoc_find_and_modify_opts_t;
           max_time_ms: uint32_t): ByteBool; inline;

function mongoc_find_and_modify_opts_get_max_time_ms(
           opts: Pmongoc_find_and_modify_opts_t): uint32_t; inline;

function mongoc_find_and_modify_opts_append(
           opts: Pmongoc_find_and_modify_opts_t;
           extra: Pbson_t): ByteBool; inline;

procedure mongoc_find_and_modify_opts_get_extra(
            opts: Pmongoc_find_and_modify_opts_t;
            extra: Pbson_t); inline;

procedure mongoc_find_and_modify_opts_destroy(
            opts: Pmongoc_find_and_modify_opts_t); inline;

//////////////////////
// mongoc-handshake //
//////////////////////

const MONGOC_HANDSHAKE_APPNAME_MAX = 128;

function mongoc_handshake_data_append(
           driver_name: PAnsiChar;
           driver_version: PAnsiChar;
           platform: PAnsiChar): ByteBool; inline;

/////////////////
// mongoc-init //
/////////////////

procedure mongoc_init(); inline;
procedure mongoc_cleanup(); inline;

////////////////
// mongoc-log //
////////////////

const MONGOC_LOG_DOMAIN = 'mongoc';

// #define MONGOC_ERROR(...) mongoc_log(MONGOC_LOG_LEVEL_ERROR, MONGOC_LOG_DOMAIN, __VA_ARGS__)
// #define MONGOC_CRITICAL(...) mongoc_log(MONGOC_LOG_LEVEL_CRITICAL, MONGOC_LOG_DOMAIN, __VA_ARGS__)
// #define MONGOC_WARNING(...) mongoc_log(MONGOC_LOG_LEVEL_WARNING, MONGOC_LOG_DOMAIN, __VA_ARGS__)
// #define MONGOC_MESSAGE(...) mongoc_log(MONGOC_LOG_LEVEL_MESSAGE, MONGOC_LOG_DOMAIN, __VA_ARGS__)
// #define MONGOC_INFO(...) mongoc_log(MONGOC_LOG_LEVEL_INFO, MONGOC_LOG_DOMAIN, __VA_ARGS__)
// #define MONGOC_DEBUG(...) mongoc_log(MONGOC_LOG_LEVEL_DEBUG, MONGOC_LOG_DOMAIN, __VA_ARGS__)

type
  mongoc_log_level_t = (
    MONGOC_LOG_LEVEL_ERROR,
    MONGOC_LOG_LEVEL_CRITICAL,
    MONGOC_LOG_LEVEL_WARNING,
    MONGOC_LOG_LEVEL_MESSAGE,
    MONGOC_LOG_LEVEL_INFO,
    MONGOC_LOG_LEVEL_DEBUG,
    MONGOC_LOG_LEVEL_TRACE);

// * *
// * mongoc_log_func_t:
// * @log_level: The level of the log message.
// * @log_domain: The domain of the log message, such as "client".
// * @message: The message generated.
// * @user_data: User data provided to mongoc_log_set_handler().
// *
// * This function prototype can be used to set a custom log handler for the
// * libmongoc library. This is useful if you would like to show them in a
// * user interface or alternate storage.
// *
type
  mongoc_log_func_t = procedure (
    log_level: mongoc_log_level_t;
    log_domain: PAnsiChar;
    message: PAnsiChar;
    user_data: Pvoid); cdecl;

// * *
// * mongoc_log_set_handler:
// * @log_func: A function to handle log messages.
// * @user_data: User data for @log_func.
// *
// * Sets the function to be called to handle logging.
// *
procedure mongoc_log_set_handler(
            log_func: mongoc_log_func_t;
            user_data: Pvoid); inline;

// * *
// * mongoc_log:
// * @log_level: The log level.
// * @log_domain: The log domain (such as "client").
// * @format: The format string for the log message.
// *
// * Logs a message using the currently configured logger.
// *
// * This method will hold a logging lock to prevent concurrent calls to the
// * logging infrastructure. It is important that your configured log function
// * does not re-enter the logging system or deadlock will occur.
// *
// *
procedure mongoc_log(
            log_level: mongoc_log_level_t;
            log_domain: PAnsiChar;
            format: PAnsiChar); inline;

procedure mongoc_log_default_handler(
            log_level: mongoc_log_level_t;
            log_domain: PAnsiChar;
            message: PAnsiChar;
            user_data: Pvoid); inline;

// * *
// * mongoc_log_level_str:
// * @log_level: The log level.
// *
// * Returns: The string representation of log_level
// *
function mongoc_log_level_str(
           log_level: mongoc_log_level_t): PAnsiChar; inline;

// * *
// * mongoc_log_trace_enable:
// *
// * Enables tracing at runtime (if it has been enabled at compile time).
// *
procedure mongoc_log_trace_enable(); inline;

// * *
// * mongoc_log_trace_disable:
// *
// * Disables tracing at runtime (if it has been enabled at compile time).
// *
procedure mongoc_log_trace_disable(); inline;

//////////////////////////
// mongoc-oidc-callback //
//////////////////////////

type
  _mongoc_oidc_callback_t = record
  end;
  mongoc_oidc_callback_t = _mongoc_oidc_callback_t;
  Pmongoc_oidc_callback_t = ^mongoc_oidc_callback_t;
type
  _mongoc_oidc_callback_params_t = record
  end;
  mongoc_oidc_callback_params_t = _mongoc_oidc_callback_params_t;
  Pmongoc_oidc_callback_params_t = ^mongoc_oidc_callback_params_t;
type
  _mongoc_oidc_credential_t = record
  end;
  mongoc_oidc_credential_t = _mongoc_oidc_credential_t;
  Pmongoc_oidc_credential_t = ^mongoc_oidc_credential_t;

type
  mongoc_oidc_callback_fn_t = function (
    params: Pmongoc_oidc_callback_params_t): Pmongoc_oidc_credential_t; cdecl;

function mongoc_oidc_callback_new(
           fn: mongoc_oidc_callback_fn_t): Pmongoc_oidc_callback_t; inline;

function mongoc_oidc_callback_new_with_user_data(
           fn: mongoc_oidc_callback_fn_t;
           user_data: Pvoid): Pmongoc_oidc_callback_t; inline;

procedure mongoc_oidc_callback_destroy(
            callback: Pmongoc_oidc_callback_t); inline;

function mongoc_oidc_callback_get_fn(
           callback: Pmongoc_oidc_callback_t): mongoc_oidc_callback_fn_t; inline;

function mongoc_oidc_callback_get_user_data(
           callback: Pmongoc_oidc_callback_t): Pvoid; inline;

procedure mongoc_oidc_callback_set_user_data(
            callback: Pmongoc_oidc_callback_t;
            user_data: Pvoid); inline;

function mongoc_oidc_callback_params_get_version(
           params: Pmongoc_oidc_callback_params_t): int32_t; inline;

function mongoc_oidc_callback_params_get_user_data(
           params: Pmongoc_oidc_callback_params_t): Pvoid; inline;

function mongoc_oidc_callback_params_get_timeout(
           params: Pmongoc_oidc_callback_params_t): Pint64_t; inline;

function mongoc_oidc_callback_params_get_username(
           params: Pmongoc_oidc_callback_params_t): PAnsiChar; inline;

function mongoc_oidc_callback_params_cancel_with_timeout(
           params: Pmongoc_oidc_callback_params_t): Pmongoc_oidc_credential_t; inline;

function mongoc_oidc_credential_new(
           access_token: PAnsiChar): Pmongoc_oidc_credential_t; inline;

function mongoc_oidc_credential_new_with_expires_in(
           access_token: PAnsiChar;
           expires_in: int64_t): Pmongoc_oidc_credential_t; inline;

procedure mongoc_oidc_credential_destroy(
            cred: Pmongoc_oidc_credential_t); inline;

function mongoc_oidc_credential_get_access_token(
           cred: Pmongoc_oidc_credential_t): PAnsiChar; inline;

function mongoc_oidc_credential_get_expires_in(
           cred: Pmongoc_oidc_credential_t): Pint64_t; inline;

/////////////////
// mongoc-rand //
/////////////////

procedure mongoc_rand_seed(
            buf: Pvoid;
            num: Integer); inline;
procedure mongoc_rand_add(
            buf: Pvoid;
            num: Integer;
            entropy: double); inline;
function mongoc_rand_status(): Integer; inline;

///////////////////////
// mongoc-read-prefs //
///////////////////////

const MONGOC_NO_MAX_STALENESS = -1;
const MONGOC_SMALLEST_MAX_STALENESS_SECONDS = 90;

type
  _mongoc_read_prefs_t = record
  end;
  mongoc_read_prefs_t = _mongoc_read_prefs_t;
  Pmongoc_read_prefs_t = ^mongoc_read_prefs_t;

type
  mongoc_read_mode_t = (
    (* * Represents $readPreference.mode of 'primary' *)
    MONGOC_READ_PRIMARY = (1 shl 0),
    (* * Represents $readPreference.mode of 'secondary' *)
    MONGOC_READ_SECONDARY = (1 shl 1),
    (* * Represents $readPreference.mode of 'primaryPreferred' *)
    MONGOC_READ_PRIMARY_PREFERRED = (1 shl 2) or MONGOC_READ_PRIMARY,
    (* * Represents $readPreference.mode of 'secondaryPreferred' *)
    MONGOC_READ_SECONDARY_PREFERRED = (1 shl 2) or MONGOC_READ_SECONDARY,
    (* * Represents $readPreference.mode of 'nearest' *)
    MONGOC_READ_NEAREST = (1 shl 3) or MONGOC_READ_SECONDARY);

function mongoc_read_prefs_new(
           read_mode: mongoc_read_mode_t): Pmongoc_read_prefs_t; inline;

function mongoc_read_prefs_copy(
           read_prefs: Pmongoc_read_prefs_t): Pmongoc_read_prefs_t; inline;

procedure mongoc_read_prefs_destroy(
            read_prefs: Pmongoc_read_prefs_t); inline;

function mongoc_read_prefs_get_mode(
           read_prefs: Pmongoc_read_prefs_t): mongoc_read_mode_t; inline;

procedure mongoc_read_prefs_set_mode(
            read_prefs: Pmongoc_read_prefs_t;
            mode: mongoc_read_mode_t); inline;

function mongoc_read_prefs_get_tags(
           read_prefs: Pmongoc_read_prefs_t): Pbson_t; inline;

procedure mongoc_read_prefs_set_tags(
            read_prefs: Pmongoc_read_prefs_t;
            tags: Pbson_t); inline;

procedure mongoc_read_prefs_add_tag(
            read_prefs: Pmongoc_read_prefs_t;
            tag: Pbson_t); inline;

function mongoc_read_prefs_get_max_staleness_seconds(
           read_prefs: Pmongoc_read_prefs_t): int64_t; inline;

procedure mongoc_read_prefs_set_max_staleness_seconds(
            read_prefs: Pmongoc_read_prefs_t;
            max_staleness_seconds: int64_t); inline;

// BSON_DEPRECATED("Hedged reads are deprecated in MongoDB 8.0 and will be removed in a future release")
function mongoc_read_prefs_get_hedge(
           read_prefs: Pmongoc_read_prefs_t): Pbson_t; inline;

// BSON_DEPRECATED("Hedged reads are deprecated in MongoDB 8.0 and will be removed in a future release")
procedure mongoc_read_prefs_set_hedge(
            read_prefs: Pmongoc_read_prefs_t;
            hedge: Pbson_t); inline;

function mongoc_read_prefs_is_valid(
           read_prefs: Pmongoc_read_prefs_t): ByteBool; inline;

///////////////////////
// mongoc-server-api //
///////////////////////

type
  mongoc_server_api_version_t = (
    MONGOC_SERVER_API_V1);
  Pmongoc_server_api_version_t = ^mongoc_server_api_version_t;

type
  _mongoc_server_api_t = record
  end;
  mongoc_server_api_t = _mongoc_server_api_t;
  Pmongoc_server_api_t = ^mongoc_server_api_t;

function mongoc_server_api_version_to_string(
           version: mongoc_server_api_version_t): PAnsiChar; inline;

function mongoc_server_api_version_from_string(
           version: PAnsiChar;
           param1: Pmongoc_server_api_version_t): ByteBool; inline;

function mongoc_server_api_new(
           version: mongoc_server_api_version_t): Pmongoc_server_api_t; inline;

function mongoc_server_api_copy(
           api: Pmongoc_server_api_t): Pmongoc_server_api_t; inline;

procedure mongoc_server_api_destroy(
            api: Pmongoc_server_api_t); inline;

procedure mongoc_server_api_strict(
            api: Pmongoc_server_api_t;
            strict: ByteBool); inline;

procedure mongoc_server_api_deprecation_errors(
            api: Pmongoc_server_api_t;
            deprecation_errors: ByteBool); inline;

function mongoc_server_api_get_deprecation_errors(
           api: Pmongoc_server_api_t): Pmongoc_optional_t; inline;

function mongoc_server_api_get_strict(
           api: Pmongoc_server_api_t): Pmongoc_optional_t; inline;

function mongoc_server_api_get_version(
           api: Pmongoc_server_api_t): mongoc_server_api_version_t; inline;

///////////////////////////////
// mongoc-server-description //
///////////////////////////////

type
  _mongoc_server_description_t = record
  end;
  mongoc_server_description_t = _mongoc_server_description_t;
  Pmongoc_server_description_t = ^mongoc_server_description_t;
  PPmongoc_server_description_t = ^Pmongoc_server_description_t;

procedure mongoc_server_description_destroy(
            description: Pmongoc_server_description_t); inline;

function mongoc_server_description_new_copy(
           description: Pmongoc_server_description_t): Pmongoc_server_description_t; inline;

function mongoc_server_description_id(
           description: Pmongoc_server_description_t): uint32_t; inline;

function mongoc_server_description_host(
           description: Pmongoc_server_description_t): Pmongoc_host_list_t; inline;

function mongoc_server_description_last_update_time(
           description: Pmongoc_server_description_t): int64_t; inline;

function mongoc_server_description_round_trip_time(
           description: Pmongoc_server_description_t): int64_t; inline;

function mongoc_server_description_type(
           description: Pmongoc_server_description_t): PAnsiChar; inline;

function mongoc_server_description_hello_response(
           description: Pmongoc_server_description_t): Pbson_t; inline;

function mongoc_server_description_compressor_id(
           description: Pmongoc_server_description_t): int32_t; inline;

////////////////
// mongoc-ssl //
////////////////

type
  _mongoc_ssl_opt_t = record
  end;
  mongoc_ssl_opt_t = _mongoc_ssl_opt_t;
  Pmongoc_ssl_opt_t = ^mongoc_ssl_opt_t;

// struct _mongoc_ssl_opt_t {
// const char * pem_file;
// const char * pem_pwd;
// const char * ca_file;
// const char * ca_dir;
// const char * crl_file;
// bool weak_cert_validation;
// bool allow_invalid_hostname;
// void * internal;
// void * padding[6];
// };

function mongoc_ssl_opt_get_default(): Pmongoc_ssl_opt_t; inline;

///////////////////
// mongoc-socket //
///////////////////

type mongoc_socklen_t = MONGOC_SOCKET_ARG3;
type Pmongoc_socklen_t = ^mongoc_socklen_t;

type
  _mongoc_socket_t = record
  end;
  mongoc_socket_t = _mongoc_socket_t;
  Pmongoc_socket_t = ^mongoc_socket_t;

type
  mongoc_socket_poll_t = record
    socket: Pmongoc_socket_t;
    events: Integer;
    revents: Integer;
  end;
  Pmongoc_socket_poll_t = ^mongoc_socket_poll_t;

function mongoc_socket_accept(
           sock: Pmongoc_socket_t;
           expire_at: int64_t): Pmongoc_socket_t; inline;
function mongoc_socket_bind(
           sock: Pmongoc_socket_t;
           addr: Psockaddr;
           addrlen: mongoc_socklen_t): Integer; inline;
function mongoc_socket_close(
           socket: Pmongoc_socket_t): Integer; inline;
function mongoc_socket_connect(
           sock: Pmongoc_socket_t;
           addr: Psockaddr;
           addrlen: mongoc_socklen_t;
           expire_at: int64_t): Integer; inline;
function mongoc_socket_getnameinfo(
           sock: Pmongoc_socket_t): PAnsiChar; inline;
procedure mongoc_socket_destroy(
            sock: Pmongoc_socket_t); inline;
function mongoc_socket_errno(
           sock: Pmongoc_socket_t): Integer; inline;
function mongoc_socket_getsockname(
           sock: Pmongoc_socket_t;
           addr: Psockaddr;
           addrlen: Pmongoc_socklen_t): Integer; inline;
function mongoc_socket_listen(
           sock: Pmongoc_socket_t;
           backlog: UINT): Integer; inline;
function mongoc_socket_new(
           domain: Integer;
           &type: Integer;
           protocol: Integer): Pmongoc_socket_t; inline;
function mongoc_socket_recv(
           sock: Pmongoc_socket_t;
           buf: Pvoid;
           buflen: size_t;
           flags: Integer;
           expire_at: int64_t): ssize_t; inline;
function mongoc_socket_setsockopt(
           sock: Pmongoc_socket_t;
           level: Integer;
           optname: Integer;
           optval: Pvoid;
           optlen: mongoc_socklen_t): Integer; inline;
function mongoc_socket_send(
           sock: Pmongoc_socket_t;
           buf: Pvoid;
           buflen: size_t;
           expire_at: int64_t): ssize_t; inline;
function mongoc_socket_sendv(
           sock: Pmongoc_socket_t;
           iov: Pmongoc_iovec_t;
           iovcnt: size_t;
           expire_at: int64_t): ssize_t; inline;
function mongoc_socket_check_closed(
           sock: Pmongoc_socket_t): ByteBool; inline;
procedure mongoc_socket_inet_ntop(
            rp: Paddrinfo;
            buf: PAnsiChar;
            buflen: size_t); inline;
function mongoc_socket_poll(
           sds: Pmongoc_socket_poll_t;
           nsds: size_t;
           timeout: int32_t): ssize_t; inline;

///////////////////
// mongoc-stream //
///////////////////

type
  _mongoc_stream_t = record
  end;
  mongoc_stream_t = _mongoc_stream_t;
  Pmongoc_stream_t = ^mongoc_stream_t;

type
  _mongoc_stream_poll_t = record
    stream: Pmongoc_stream_t;
    events: Integer;
    revents: Integer;
  end;
  mongoc_stream_poll_t = _mongoc_stream_poll_t;
  Pmongoc_stream_poll_t = ^mongoc_stream_poll_t;

// struct _mongoc_stream_t {
// int type;
// void
// (__CALLCONV__ * destroy)(mongoc_stream_t * stream);
// int
// (__CALLCONV__ * close)(mongoc_stream_t * stream);
// int
// (__CALLCONV__ * flush)(mongoc_stream_t * stream);
// ssize_t
// (__CALLCONV__ * writev)(mongoc_stream_t * stream, mongoc_iovec_t * iov, size_t iovcnt, int32_t timeout_msec);
// ssize_t
// (__CALLCONV__ * readv)(
// mongoc_stream_t * stream, mongoc_iovec_t * iov, size_t iovcnt, size_t min_bytes, int32_t timeout_msec);
// int
// (__CALLCONV__ * setsockopt)(mongoc_stream_t * stream, int level, int optname, void * optval, mongoc_socklen_t optlen);
// mongoc_stream_t *
// (__CALLCONV__ * get_base_stream)(mongoc_stream_t * stream);
// bool
// (__CALLCONV__ * check_closed)(mongoc_stream_t * stream);
// ssize_t
// (__CALLCONV__ * poll)(mongoc_stream_poll_t * streams, size_t nstreams, int32_t timeout);
// void
// (__CALLCONV__ * failed)(mongoc_stream_t * stream);
// bool
// (__CALLCONV__ * timed_out)(mongoc_stream_t * stream);
// bool
// (__CALLCONV__ * should_retry)(mongoc_stream_t * stream);
// void * padding[3];
// };

function mongoc_stream_get_base_stream(
           stream: Pmongoc_stream_t): Pmongoc_stream_t; inline;
function mongoc_stream_get_tls_stream(
           stream: Pmongoc_stream_t): Pmongoc_stream_t; inline;
function mongoc_stream_close(
           stream: Pmongoc_stream_t): Integer; inline;
procedure mongoc_stream_destroy(
            stream: Pmongoc_stream_t); inline;
procedure mongoc_stream_failed(
            stream: Pmongoc_stream_t); inline;
function mongoc_stream_flush(
           stream: Pmongoc_stream_t): Integer; inline;
function mongoc_stream_writev(
           stream: Pmongoc_stream_t;
           iov: Pmongoc_iovec_t;
           iovcnt: size_t;
           timeout_msec: int32_t): ssize_t; inline;
function mongoc_stream_write(
           stream: Pmongoc_stream_t;
           buf: Pvoid;
           count: size_t;
           timeout_msec: int32_t): ssize_t; inline;
function mongoc_stream_readv(
           stream: Pmongoc_stream_t;
           iov: Pmongoc_iovec_t;
           iovcnt: size_t;
           min_bytes: size_t;
           timeout_msec: int32_t): ssize_t; inline;
function mongoc_stream_read(
           stream: Pmongoc_stream_t;
           buf: Pvoid;
           count: size_t;
           min_bytes: size_t;
           timeout_msec: int32_t): ssize_t; inline;
function mongoc_stream_setsockopt(
           stream: Pmongoc_stream_t;
           level: Integer;
           optname: Integer;
           optval: Pvoid;
           optlen: mongoc_socklen_t): Integer; inline;
function mongoc_stream_check_closed(
           stream: Pmongoc_stream_t): ByteBool; inline;
function mongoc_stream_timed_out(
           stream: Pmongoc_stream_t): ByteBool; inline;
function mongoc_stream_should_retry(
           stream: Pmongoc_stream_t): ByteBool; inline;

// * *
// * @brief Poll a set of streams
// *
// * @param streams Pointer to an array of streams to be polled
// * @param nstreams The number of streams in the array pointed-to by `streams`
// * @param timeout_ms The maximum number of milliseconds to poll
// *
// *
function mongoc_stream_poll(
           streams: Pmongoc_stream_poll_t;
           nstreams: size_t;
           timeout_ms: int32_t): ssize_t; inline;

////////////////////////////
// mongoc-stream-buffered //
////////////////////////////

function mongoc_stream_buffered_new(
           base_stream: Pmongoc_stream_t;
           buffer_size: size_t): Pmongoc_stream_t; inline;

////////////////////////
// mongoc-stream-file //
////////////////////////

type
  _mongoc_stream_file_t = record
  end;
  mongoc_stream_file_t = _mongoc_stream_file_t;
  Pmongoc_stream_file_t = ^mongoc_stream_file_t;

function mongoc_stream_file_new(
           fd: Integer): Pmongoc_stream_t; inline;
function mongoc_stream_file_new_for_path(
           path: PAnsiChar;
           flags: Integer;
           mode: Integer): Pmongoc_stream_t; inline;
function mongoc_stream_file_get_fd(
           stream: Pmongoc_stream_file_t): Integer; inline;

//////////////////////////
// mongoc-stream-socket //
//////////////////////////

type
  _mongoc_stream_socket_t = record
  end;
  mongoc_stream_socket_t = _mongoc_stream_socket_t;
  Pmongoc_stream_socket_t = ^mongoc_stream_socket_t;

function mongoc_stream_socket_new(
           socket: Pmongoc_socket_t): Pmongoc_stream_t; inline;
function mongoc_stream_socket_get_socket(
           stream: Pmongoc_stream_socket_t): Pmongoc_socket_t; inline;

///////////////////////////
// mongoc-structured-log //
///////////////////////////

type
  mongoc_structured_log_level_t = (
    MONGOC_STRUCTURED_LOG_LEVEL_EMERGENCY = 0,
    MONGOC_STRUCTURED_LOG_LEVEL_ALERT = 1,
    MONGOC_STRUCTURED_LOG_LEVEL_CRITICAL = 2,
    MONGOC_STRUCTURED_LOG_LEVEL_ERROR = 3,
    MONGOC_STRUCTURED_LOG_LEVEL_WARNING = 4,
    MONGOC_STRUCTURED_LOG_LEVEL_NOTICE = 5,
    MONGOC_STRUCTURED_LOG_LEVEL_INFO = 6,
    MONGOC_STRUCTURED_LOG_LEVEL_DEBUG = 7,
    MONGOC_STRUCTURED_LOG_LEVEL_TRACE = 8);
  Pmongoc_structured_log_level_t = ^mongoc_structured_log_level_t;

type
  mongoc_structured_log_component_t = (
    MONGOC_STRUCTURED_LOG_COMPONENT_COMMAND = 0,
    MONGOC_STRUCTURED_LOG_COMPONENT_TOPOLOGY = 1,
    MONGOC_STRUCTURED_LOG_COMPONENT_SERVER_SELECTION = 2,
    MONGOC_STRUCTURED_LOG_COMPONENT_CONNECTION = 3);
  Pmongoc_structured_log_component_t = ^mongoc_structured_log_component_t;

type
  mongoc_structured_log_entry_t = record
  end;
  Pmongoc_structured_log_entry_t = ^mongoc_structured_log_entry_t;

type
  mongoc_structured_log_opts_t = record
  end;
  Pmongoc_structured_log_opts_t = ^mongoc_structured_log_opts_t;

type
  mongoc_structured_log_func_t = procedure (
    entry: Pmongoc_structured_log_entry_t;
    user_data: Pvoid); cdecl;

function mongoc_structured_log_opts_new(): Pmongoc_structured_log_opts_t; inline;

procedure mongoc_structured_log_opts_destroy(
            opts: Pmongoc_structured_log_opts_t); inline;

procedure mongoc_structured_log_opts_set_handler(
            opts: Pmongoc_structured_log_opts_t;
            log_func: mongoc_structured_log_func_t;
            user_data: Pvoid); inline;

function mongoc_structured_log_opts_set_max_level_for_component(
           opts: Pmongoc_structured_log_opts_t;
           component: mongoc_structured_log_component_t;
           level: mongoc_structured_log_level_t): ByteBool; inline;

function mongoc_structured_log_opts_set_max_level_for_all_components(
           opts: Pmongoc_structured_log_opts_t;
           level: mongoc_structured_log_level_t): ByteBool; inline;

function mongoc_structured_log_opts_set_max_levels_from_env(
           opts: Pmongoc_structured_log_opts_t): ByteBool; inline;

function mongoc_structured_log_opts_get_max_level_for_component(
           opts: Pmongoc_structured_log_opts_t;
           component: mongoc_structured_log_component_t): mongoc_structured_log_level_t; inline;

function mongoc_structured_log_opts_get_max_document_length(
           opts: Pmongoc_structured_log_opts_t): size_t; inline;

function mongoc_structured_log_opts_set_max_document_length_from_env(
           opts: Pmongoc_structured_log_opts_t): ByteBool; inline;

function mongoc_structured_log_opts_set_max_document_length(
           opts: Pmongoc_structured_log_opts_t;
           max_document_length: size_t): ByteBool; inline;

function mongoc_structured_log_entry_message_as_bson(
           entry: Pmongoc_structured_log_entry_t): Pbson_t; inline;

function mongoc_structured_log_entry_get_level(
           entry: Pmongoc_structured_log_entry_t): mongoc_structured_log_level_t; inline;

function mongoc_structured_log_entry_get_component(
           entry: Pmongoc_structured_log_entry_t): mongoc_structured_log_component_t; inline;

function mongoc_structured_log_entry_get_message_string(
           entry: Pmongoc_structured_log_entry_t): PAnsiChar; inline;

function mongoc_structured_log_get_level_name(
           level: mongoc_structured_log_level_t): PAnsiChar; inline;

function mongoc_structured_log_get_named_level(
           name: PAnsiChar;
           param1: Pmongoc_structured_log_level_t): ByteBool; inline;

function mongoc_structured_log_get_component_name(
           component: mongoc_structured_log_component_t): PAnsiChar; inline;

function mongoc_structured_log_get_named_component(
           name: PAnsiChar;
           param1: Pmongoc_structured_log_component_t): ByteBool; inline;

//////////////////////////////
// mongoc-version-functions //
//////////////////////////////

function mongoc_get_major_version(): Integer; inline;
function mongoc_get_minor_version(): Integer; inline;
function mongoc_get_micro_version(): Integer; inline;
function mongoc_get_version(): PAnsiChar; inline;
function mongoc_check_version(
           required_major: Integer;
           required_minor: Integer;
           required_micro: Integer): ByteBool; inline;

///////////////////
// mongoc-cursor //
///////////////////

type
  _mongoc_cursor_t = record
  end;
  mongoc_cursor_t = _mongoc_cursor_t;
  Pmongoc_cursor_t = ^mongoc_cursor_t;

// * forward decl
// struct _mongoc_client_t;

function mongoc_cursor_clone(
           cursor: Pmongoc_cursor_t): Pmongoc_cursor_t; inline;

procedure mongoc_cursor_destroy(
            cursor: Pmongoc_cursor_t); inline;

function mongoc_cursor_more(
           cursor: Pmongoc_cursor_t): ByteBool; inline;

function mongoc_cursor_next(
           cursor: Pmongoc_cursor_t;
           bson: PPbson_t): ByteBool; inline;

function mongoc_cursor_error(
           cursor: Pmongoc_cursor_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_cursor_error_document(
           cursor: Pmongoc_cursor_t;
           error: Pbson_error_t;
           doc: PPbson_t): ByteBool; inline;

procedure mongoc_cursor_get_host(
            cursor: Pmongoc_cursor_t;
            host: Pmongoc_host_list_t); inline;

function mongoc_cursor_current(
           cursor: Pmongoc_cursor_t): Pbson_t; inline;

procedure mongoc_cursor_set_batch_size(
            cursor: Pmongoc_cursor_t;
            batch_size: uint32_t); inline;

function mongoc_cursor_get_batch_size(
           cursor: Pmongoc_cursor_t): uint32_t; inline;

function mongoc_cursor_set_limit(
           cursor: Pmongoc_cursor_t;
           limit: int64_t): ByteBool; inline;

function mongoc_cursor_get_limit(
           cursor: Pmongoc_cursor_t): int64_t; inline;

// `mongoc_cursor_set_hint` is deprecated for more aptly named `mongoc_cursor_set_server_id`.
// BSON_DEPRECATED_FOR(mongoc_cursor_set_server_id)
// bool __CALLCONV__ mongoc_cursor_set_hint(mongoc_cursor_t * cursor, uint32_t server_id);

function mongoc_cursor_set_server_id(
           cursor: Pmongoc_cursor_t;
           server_id: uint32_t): ByteBool; inline;

// `mongoc_cursor_get_hint` is deprecated for more aptly named `mongoc_cursor_get_server_id`.
// BSON_DEPRECATED_FOR(mongoc_cursor_get_server_id)
// uint32_t __CALLCONV__ mongoc_cursor_get_hint(const mongoc_cursor_t * cursor);

function mongoc_cursor_get_server_id(
           cursor: Pmongoc_cursor_t): uint32_t; inline;

function mongoc_cursor_get_id(
           cursor: Pmongoc_cursor_t): int64_t; inline;

procedure mongoc_cursor_set_max_await_time_ms(
            cursor: Pmongoc_cursor_t;
            max_await_time_ms: uint32_t); inline;

function mongoc_cursor_get_max_await_time_ms(
           cursor: Pmongoc_cursor_t): uint32_t; inline;

function mongoc_cursor_new_from_command_reply_with_opts(
           client: P_mongoc_client_t;
           reply: Pbson_t;
           opts: Pbson_t): Pmongoc_cursor_t; inline;

//////////////////////////
// mongoc-change-stream //
//////////////////////////

type
  _mongoc_change_stream_t = record
  end;
  mongoc_change_stream_t = _mongoc_change_stream_t;
  Pmongoc_change_stream_t = ^mongoc_change_stream_t;

procedure mongoc_change_stream_destroy(
            stream: Pmongoc_change_stream_t); inline;

function mongoc_change_stream_get_resume_token(
           stream: Pmongoc_change_stream_t): Pbson_t; inline;

function mongoc_change_stream_next(
           stream: Pmongoc_change_stream_t;
           bson: PPbson_t): ByteBool; inline;

function mongoc_change_stream_error_document(
           stream: Pmongoc_change_stream_t;
           err: Pbson_error_t;
           bson: PPbson_t): ByteBool; inline;

///////////////////////////
// mongoc-bulk-operation //
///////////////////////////

// * ordered, bypass_document_validation, has_collation, multi
// #define MONGOC_BULK_WRITE_FLAGS_INIT {true, false, 0}

// * forward decl
// struct _mongoc_client_session_t;

type
  _mongoc_bulk_operation_t = record
  end;
  mongoc_bulk_operation_t = _mongoc_bulk_operation_t;
  Pmongoc_bulk_operation_t = ^mongoc_bulk_operation_t;
type
  _mongoc_bulk_write_flags_t = record
  end;
  mongoc_bulk_write_flags_t = _mongoc_bulk_write_flags_t;

procedure mongoc_bulk_operation_destroy(
            bulk: Pmongoc_bulk_operation_t); inline;

function mongoc_bulk_operation_execute(
           bulk: Pmongoc_bulk_operation_t;
           reply: Pbson_t;
           error: Pbson_error_t): uint32_t; inline;

procedure mongoc_bulk_operation_insert(
            bulk: Pmongoc_bulk_operation_t;
            document: Pbson_t); inline;

function mongoc_bulk_operation_insert_with_opts(
           bulk: Pmongoc_bulk_operation_t;
           document: Pbson_t;
           opts: Pbson_t;
           error: Pbson_error_t): ByteBool; inline; (* OUT *)

procedure mongoc_bulk_operation_remove(
            bulk: Pmongoc_bulk_operation_t;
            selector: Pbson_t); inline;

function mongoc_bulk_operation_remove_many_with_opts(
           bulk: Pmongoc_bulk_operation_t;
           selector: Pbson_t;
           opts: Pbson_t;
           error: Pbson_error_t): ByteBool; inline; (* OUT *)

procedure mongoc_bulk_operation_remove_one(
            bulk: Pmongoc_bulk_operation_t;
            selector: Pbson_t); inline;

function mongoc_bulk_operation_remove_one_with_opts(
           bulk: Pmongoc_bulk_operation_t;
           selector: Pbson_t;
           opts: Pbson_t;
           error: Pbson_error_t): ByteBool; inline; (* OUT *)

procedure mongoc_bulk_operation_replace_one(
            bulk: Pmongoc_bulk_operation_t;
            selector: Pbson_t;
            document: Pbson_t;
            upsert: ByteBool); inline;

function mongoc_bulk_operation_replace_one_with_opts(
           bulk: Pmongoc_bulk_operation_t;
           selector: Pbson_t;
           document: Pbson_t;
           opts: Pbson_t;
           error: Pbson_error_t): ByteBool; inline; (* OUT *)

procedure mongoc_bulk_operation_update(
            bulk: Pmongoc_bulk_operation_t;
            selector: Pbson_t;
            document: Pbson_t;
            upsert: ByteBool); inline;

function mongoc_bulk_operation_update_many_with_opts(
           bulk: Pmongoc_bulk_operation_t;
           selector: Pbson_t;
           document: Pbson_t;
           opts: Pbson_t;
           error: Pbson_error_t): ByteBool; inline; (* OUT *)

procedure mongoc_bulk_operation_update_one(
            bulk: Pmongoc_bulk_operation_t;
            selector: Pbson_t;
            document: Pbson_t;
            upsert: ByteBool); inline;

function mongoc_bulk_operation_update_one_with_opts(
           bulk: Pmongoc_bulk_operation_t;
           selector: Pbson_t;
           document: Pbson_t;
           opts: Pbson_t;
           error: Pbson_error_t): ByteBool; inline; (* OUT *)

procedure mongoc_bulk_operation_set_bypass_document_validation(
            bulk: Pmongoc_bulk_operation_t;
            bypass: ByteBool); inline;

procedure mongoc_bulk_operation_set_comment(
            bulk: Pmongoc_bulk_operation_t;
            comment: Pbson_value_t); inline;

procedure mongoc_bulk_operation_set_let(
            bulk: Pmongoc_bulk_operation_t;
            let: Pbson_t); inline;

// *
// * The following functions are really only useful by language bindings and
// * those wanting to replay a bulk operation to a number of clients or
// * collections.
// *

function mongoc_bulk_operation_new(
           ordered: ByteBool): Pmongoc_bulk_operation_t; inline;

procedure mongoc_bulk_operation_set_write_concern(
            bulk: Pmongoc_bulk_operation_t;
            write_concern: Pmongoc_write_concern_t); inline;

procedure mongoc_bulk_operation_set_database(
            bulk: Pmongoc_bulk_operation_t;
            database: PAnsiChar); inline;

procedure mongoc_bulk_operation_set_collection(
            bulk: Pmongoc_bulk_operation_t;
            collection: PAnsiChar); inline;

procedure mongoc_bulk_operation_set_client(
            bulk: Pmongoc_bulk_operation_t;
            client: Pvoid); inline;

procedure mongoc_bulk_operation_set_client_session(
            bulk: Pmongoc_bulk_operation_t;
            client_session: P_mongoc_client_session_t); inline;

procedure mongoc_bulk_operation_set_server_id(
            bulk: Pmongoc_bulk_operation_t;
            server_id: uint32_t); inline;

function mongoc_bulk_operation_get_server_id(
           bulk: Pmongoc_bulk_operation_t): uint32_t; inline;

function mongoc_bulk_operation_get_write_concern(
           bulk: Pmongoc_bulk_operation_t): Pmongoc_write_concern_t; inline;

///////////////////////////////////
// mongoc-client-side-encryption //
///////////////////////////////////

// * Forward declare
// struct _mongoc_client_t;
// struct _mongoc_client_pool_t;
// struct _mongoc_cursor_t;

// struct _mongoc_collection_t;
// struct _mongoc_database_t;

const MONGOC_AEAD_AES_256_CBC_HMAC_SHA_512_RANDOM = 'AEAD_AES_256_CBC_HMAC_SHA_512-Random';
const MONGOC_AEAD_AES_256_CBC_HMAC_SHA_512_DETERMINISTIC = 'AEAD_AES_256_CBC_HMAC_SHA_512-Deterministic';
const MONGOC_ENCRYPT_ALGORITHM_INDEXED = 'Indexed';
const MONGOC_ENCRYPT_ALGORITHM_UNINDEXED = 'Unindexed';
const MONGOC_ENCRYPT_ALGORITHM_RANGE = 'Range';
const MONGOC_ENCRYPT_ALGORITHM_RANGEPREVIEW = 'RangePreview';
const MONGOC_ENCRYPT_ALGORITHM_TEXTPREVIEW = 'TextPreview';

const MONGOC_ENCRYPT_QUERY_TYPE_EQUALITY = 'equality';
const MONGOC_ENCRYPT_QUERY_TYPE_RANGE = 'range';
const MONGOC_ENCRYPT_QUERY_TYPE_RANGEPREVIEW = 'rangePreview';
const MONGOC_ENCRYPT_QUERY_TYPE_SUBSTRINGPREVIEW = 'substringPreview';
const MONGOC_ENCRYPT_QUERY_TYPE_PREFIXPREVIEW = 'prefixPreview';
const MONGOC_ENCRYPT_QUERY_TYPE_SUFFIXPREVIEW = 'suffixPreview';

type
  _mongoc_auto_encryption_opts_t = record
  end;
  mongoc_auto_encryption_opts_t = _mongoc_auto_encryption_opts_t;
  Pmongoc_auto_encryption_opts_t = ^mongoc_auto_encryption_opts_t;

type
  mongoc_kms_credentials_provider_callback_fn = function (
    userdata: Pvoid;
    params: Pbson_t;
    param2: Pbson_t;
    error: Pbson_error_t): ByteBool; cdecl;

function mongoc_auto_encryption_opts_new(): Pmongoc_auto_encryption_opts_t; inline;

procedure mongoc_auto_encryption_opts_destroy(
            opts: Pmongoc_auto_encryption_opts_t); inline;

procedure mongoc_auto_encryption_opts_set_keyvault_client(
            opts: Pmongoc_auto_encryption_opts_t;
            client: P_mongoc_client_t); inline;

procedure mongoc_auto_encryption_opts_set_keyvault_client_pool(
            opts: Pmongoc_auto_encryption_opts_t;
            pool: P_mongoc_client_pool_t); inline;

procedure mongoc_auto_encryption_opts_set_keyvault_namespace(
            opts: Pmongoc_auto_encryption_opts_t;
            db: PAnsiChar;
            coll: PAnsiChar); inline;

procedure mongoc_auto_encryption_opts_set_kms_providers(
            opts: Pmongoc_auto_encryption_opts_t;
            kms_providers: Pbson_t); inline;

procedure mongoc_auto_encryption_opts_set_key_expiration(
            opts: Pmongoc_auto_encryption_opts_t;
            expiration: uint64_t); inline;

procedure mongoc_auto_encryption_opts_set_tls_opts(
            opts: Pmongoc_auto_encryption_opts_t;
            tls_opts: Pbson_t); inline;

procedure mongoc_auto_encryption_opts_set_schema_map(
            opts: Pmongoc_auto_encryption_opts_t;
            schema_map: Pbson_t); inline;

procedure mongoc_auto_encryption_opts_set_encrypted_fields_map(
            opts: Pmongoc_auto_encryption_opts_t;
            encrypted_fields_map: Pbson_t); inline;

procedure mongoc_auto_encryption_opts_set_bypass_auto_encryption(
            opts: Pmongoc_auto_encryption_opts_t;
            bypass_auto_encryption: ByteBool); inline;

procedure mongoc_auto_encryption_opts_set_bypass_query_analysis(
            opts: Pmongoc_auto_encryption_opts_t;
            bypass_query_analysis: ByteBool); inline;

procedure mongoc_auto_encryption_opts_set_extra(
            opts: Pmongoc_auto_encryption_opts_t;
            extra: Pbson_t); inline;

procedure mongoc_auto_encryption_opts_set_kms_credential_provider_callback(
            opts: Pmongoc_auto_encryption_opts_t;
            fn: mongoc_kms_credentials_provider_callback_fn;
            userdata: Pvoid); inline;

type
  _mongoc_client_encryption_opts_t = record
  end;
  mongoc_client_encryption_opts_t = _mongoc_client_encryption_opts_t;
  Pmongoc_client_encryption_opts_t = ^mongoc_client_encryption_opts_t;
type
  _mongoc_client_encryption_t = record
  end;
  mongoc_client_encryption_t = _mongoc_client_encryption_t;
  Pmongoc_client_encryption_t = ^mongoc_client_encryption_t;
type
  _mongoc_client_encryption_encrypt_range_opts_t = record
  end;
  mongoc_client_encryption_encrypt_range_opts_t = _mongoc_client_encryption_encrypt_range_opts_t;
  Pmongoc_client_encryption_encrypt_range_opts_t = ^mongoc_client_encryption_encrypt_range_opts_t;
type
  _encrypt_text_prefix_opts_t = record
  end;
  mongoc_client_encryption_encrypt_text_prefix_opts_t = _encrypt_text_prefix_opts_t;
  Pmongoc_client_encryption_encrypt_text_prefix_opts_t = ^mongoc_client_encryption_encrypt_text_prefix_opts_t;
type
  _encrypt_text_suffix_opts_t = record
  end;
  mongoc_client_encryption_encrypt_text_suffix_opts_t = _encrypt_text_suffix_opts_t;
  Pmongoc_client_encryption_encrypt_text_suffix_opts_t = ^mongoc_client_encryption_encrypt_text_suffix_opts_t;
type
  _encrypt_text_substring_opts_t = record
  end;
  mongoc_client_encryption_encrypt_text_substring_opts_t = _encrypt_text_substring_opts_t;
  Pmongoc_client_encryption_encrypt_text_substring_opts_t = ^mongoc_client_encryption_encrypt_text_substring_opts_t;
type
  _mongoc_client_encryption_encrypt_text_opts_t = record
  end;
  mongoc_client_encryption_encrypt_text_opts_t = _mongoc_client_encryption_encrypt_text_opts_t;
  Pmongoc_client_encryption_encrypt_text_opts_t = ^mongoc_client_encryption_encrypt_text_opts_t;
type
  _mongoc_client_encryption_encrypt_opts_t = record
  end;
  mongoc_client_encryption_encrypt_opts_t = _mongoc_client_encryption_encrypt_opts_t;
  Pmongoc_client_encryption_encrypt_opts_t = ^mongoc_client_encryption_encrypt_opts_t;
type
  _mongoc_client_encryption_datakey_opts_t = record
  end;
  mongoc_client_encryption_datakey_opts_t = _mongoc_client_encryption_datakey_opts_t;
  Pmongoc_client_encryption_datakey_opts_t = ^mongoc_client_encryption_datakey_opts_t;
type
  _mongoc_client_encryption_rewrap_many_datakey_result_t = record
  end;
  mongoc_client_encryption_rewrap_many_datakey_result_t = _mongoc_client_encryption_rewrap_many_datakey_result_t;
  Pmongoc_client_encryption_rewrap_many_datakey_result_t = ^mongoc_client_encryption_rewrap_many_datakey_result_t;

function mongoc_client_encryption_opts_new(): Pmongoc_client_encryption_opts_t; inline;

procedure mongoc_client_encryption_opts_destroy(
            opts: Pmongoc_client_encryption_opts_t); inline;

procedure mongoc_client_encryption_opts_set_keyvault_client(
            opts: Pmongoc_client_encryption_opts_t;
            keyvault_client: P_mongoc_client_t); inline;

procedure mongoc_client_encryption_opts_set_keyvault_namespace(
            opts: Pmongoc_client_encryption_opts_t;
            db: PAnsiChar;
            coll: PAnsiChar); inline;

procedure mongoc_client_encryption_opts_set_kms_providers(
            opts: Pmongoc_client_encryption_opts_t;
            kms_providers: Pbson_t); inline;

procedure mongoc_client_encryption_opts_set_tls_opts(
            opts: Pmongoc_client_encryption_opts_t;
            tls_opts: Pbson_t); inline;

procedure mongoc_client_encryption_opts_set_kms_credential_provider_callback(
            opts: Pmongoc_client_encryption_opts_t;
            fn: mongoc_kms_credentials_provider_callback_fn;
            userdata: Pvoid); inline;

procedure mongoc_client_encryption_opts_set_key_expiration(
            opts: Pmongoc_client_encryption_opts_t;
            cache_expiration_ms: uint64_t); inline;

function mongoc_client_encryption_rewrap_many_datakey_result_new(): Pmongoc_client_encryption_rewrap_many_datakey_result_t; inline;

procedure mongoc_client_encryption_rewrap_many_datakey_result_destroy(
            _result: Pmongoc_client_encryption_rewrap_many_datakey_result_t); inline;

function mongoc_client_encryption_rewrap_many_datakey_result_get_bulk_write_result(
           _result: Pmongoc_client_encryption_rewrap_many_datakey_result_t): Pbson_t; inline;

function mongoc_client_encryption_new(
           opts: Pmongoc_client_encryption_opts_t;
           error: Pbson_error_t): Pmongoc_client_encryption_t; inline;

procedure mongoc_client_encryption_destroy(
            client_encryption: Pmongoc_client_encryption_t); inline;

function mongoc_client_encryption_create_datakey(
           client_encryption: Pmongoc_client_encryption_t;
           kms_provider: PAnsiChar;
           opts: Pmongoc_client_encryption_datakey_opts_t;
           keyid: Pbson_value_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_encryption_rewrap_many_datakey(
           client_encryption: Pmongoc_client_encryption_t;
           filter: Pbson_t;
           provider: PAnsiChar;
           master_key: Pbson_t;
           _result: Pmongoc_client_encryption_rewrap_many_datakey_result_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_encryption_delete_key(
           client_encryption: Pmongoc_client_encryption_t;
           keyid: Pbson_value_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_encryption_get_key(
           client_encryption: Pmongoc_client_encryption_t;
           keyid: Pbson_value_t;
           key_doc: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_encryption_encrypt_text_prefix_opts_new(): Pmongoc_client_encryption_encrypt_text_prefix_opts_t; inline;

function mongoc_client_encryption_encrypt_text_suffix_opts_new(): Pmongoc_client_encryption_encrypt_text_suffix_opts_t; inline;

function mongoc_client_encryption_encrypt_text_substring_opts_new(): Pmongoc_client_encryption_encrypt_text_substring_opts_t; inline;

procedure mongoc_client_encryption_encrypt_text_prefix_opts_destroy(
            opts: Pmongoc_client_encryption_encrypt_text_prefix_opts_t); inline;

procedure mongoc_client_encryption_encrypt_text_suffix_opts_destroy(
            opts: Pmongoc_client_encryption_encrypt_text_suffix_opts_t); inline;

procedure mongoc_client_encryption_encrypt_text_substring_opts_destroy(
            opts: Pmongoc_client_encryption_encrypt_text_substring_opts_t); inline;

procedure mongoc_client_encryption_encrypt_text_prefix_opts_set_str_max_query_length(
            opts: Pmongoc_client_encryption_encrypt_text_prefix_opts_t;
            str_max_query_length: int32_t); inline;

procedure mongoc_client_encryption_encrypt_text_prefix_opts_set_str_min_query_length(
            opts: Pmongoc_client_encryption_encrypt_text_prefix_opts_t;
            str_min_query_length: int32_t); inline;

procedure mongoc_client_encryption_encrypt_text_suffix_opts_set_str_max_query_length(
            opts: Pmongoc_client_encryption_encrypt_text_suffix_opts_t;
            str_max_query_length: int32_t); inline;

procedure mongoc_client_encryption_encrypt_text_suffix_opts_set_str_min_query_length(
            opts: Pmongoc_client_encryption_encrypt_text_suffix_opts_t;
            str_min_query_length: int32_t); inline;

procedure mongoc_client_encryption_encrypt_text_substring_opts_set_str_max_length(
            opts: Pmongoc_client_encryption_encrypt_text_substring_opts_t;
            str_max_length: int32_t); inline;

procedure mongoc_client_encryption_encrypt_text_substring_opts_set_str_max_query_length(
            opts: Pmongoc_client_encryption_encrypt_text_substring_opts_t;
            str_max_query_length: int32_t); inline;

procedure mongoc_client_encryption_encrypt_text_substring_opts_set_str_min_query_length(
            opts: Pmongoc_client_encryption_encrypt_text_substring_opts_t;
            str_min_query_length: int32_t); inline;

procedure mongoc_client_encryption_encrypt_text_opts_set_prefix(
            opts: Pmongoc_client_encryption_encrypt_text_opts_t;
            popts: Pmongoc_client_encryption_encrypt_text_prefix_opts_t); inline;

procedure mongoc_client_encryption_encrypt_text_opts_set_suffix(
            opts: Pmongoc_client_encryption_encrypt_text_opts_t;
            sopts: Pmongoc_client_encryption_encrypt_text_suffix_opts_t); inline;

procedure mongoc_client_encryption_encrypt_text_opts_set_substring(
            opts: Pmongoc_client_encryption_encrypt_text_opts_t;
            ssopts: Pmongoc_client_encryption_encrypt_text_substring_opts_t); inline;

function mongoc_client_encryption_encrypt_text_opts_new(): Pmongoc_client_encryption_encrypt_text_opts_t; inline;

procedure mongoc_client_encryption_encrypt_text_opts_destroy(
            topts: Pmongoc_client_encryption_encrypt_text_opts_t); inline;

function mongoc_client_encryption_get_keys(
           client_encryption: Pmongoc_client_encryption_t;
           error: Pbson_error_t): P_mongoc_cursor_t; inline;

function mongoc_client_encryption_add_key_alt_name(
           client_encryption: Pmongoc_client_encryption_t;
           keyid: Pbson_value_t;
           keyaltname: PAnsiChar;
           key_doc: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_encryption_remove_key_alt_name(
           client_encryption: Pmongoc_client_encryption_t;
           keyid: Pbson_value_t;
           keyaltname: PAnsiChar;
           key_doc: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_encryption_get_key_by_alt_name(
           client_encryption: Pmongoc_client_encryption_t;
           keyaltname: PAnsiChar;
           key_doc: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_encryption_encrypt(
           client_encryption: Pmongoc_client_encryption_t;
           value: Pbson_value_t;
           opts: Pmongoc_client_encryption_encrypt_opts_t;
           ciphertext: Pbson_value_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_encryption_encrypt_expression(
           client_encryption: Pmongoc_client_encryption_t;
           expr: Pbson_t;
           opts: Pmongoc_client_encryption_encrypt_opts_t;
           expr_out: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_encryption_decrypt(
           client_encryption: Pmongoc_client_encryption_t;
           ciphertext: Pbson_value_t;
           value: Pbson_value_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_encryption_encrypt_opts_new(): Pmongoc_client_encryption_encrypt_opts_t; inline;

procedure mongoc_client_encryption_encrypt_opts_destroy(
            opts: Pmongoc_client_encryption_encrypt_opts_t); inline;

procedure mongoc_client_encryption_encrypt_opts_set_keyid(
            opts: Pmongoc_client_encryption_encrypt_opts_t;
            keyid: Pbson_value_t); inline;

procedure mongoc_client_encryption_encrypt_opts_set_keyaltname(
            opts: Pmongoc_client_encryption_encrypt_opts_t;
            keyaltname: PAnsiChar); inline;

procedure mongoc_client_encryption_encrypt_opts_set_algorithm(
            opts: Pmongoc_client_encryption_encrypt_opts_t;
            algorithm: PAnsiChar); inline;

procedure mongoc_client_encryption_encrypt_opts_set_contention_factor(
            opts: Pmongoc_client_encryption_encrypt_opts_t;
            contention_factor: int64_t); inline;

procedure mongoc_client_encryption_encrypt_opts_set_text_opts(
            opts: Pmongoc_client_encryption_encrypt_opts_t;
            text_opts: Pmongoc_client_encryption_encrypt_text_opts_t); inline;

procedure mongoc_client_encryption_encrypt_text_opts_set_case_sensitive(
            opts: Pmongoc_client_encryption_encrypt_text_opts_t;
            case_sensitive: ByteBool); inline;

procedure mongoc_client_encryption_encrypt_text_opts_set_diacritic_sensitive(
            opts: Pmongoc_client_encryption_encrypt_text_opts_t;
            diacritic_sensitive: ByteBool); inline;

procedure mongoc_client_encryption_encrypt_opts_set_query_type(
            opts: Pmongoc_client_encryption_encrypt_opts_t;
            query_type: PAnsiChar); inline;

function mongoc_client_encryption_encrypt_range_opts_new(): Pmongoc_client_encryption_encrypt_range_opts_t; inline;

procedure mongoc_client_encryption_encrypt_range_opts_destroy(
            range_opts: Pmongoc_client_encryption_encrypt_range_opts_t); inline;

procedure mongoc_client_encryption_encrypt_range_opts_set_trim_factor(
            range_opts: Pmongoc_client_encryption_encrypt_range_opts_t;
            trim_factor: int32_t); inline;

procedure mongoc_client_encryption_encrypt_range_opts_set_sparsity(
            range_opts: Pmongoc_client_encryption_encrypt_range_opts_t;
            sparsity: int64_t); inline;

procedure mongoc_client_encryption_encrypt_range_opts_set_min(
            range_opts: Pmongoc_client_encryption_encrypt_range_opts_t;
            min: Pbson_value_t); inline;

procedure mongoc_client_encryption_encrypt_range_opts_set_max(
            range_opts: Pmongoc_client_encryption_encrypt_range_opts_t;
            max: Pbson_value_t); inline;

procedure mongoc_client_encryption_encrypt_range_opts_set_precision(
            range_opts: Pmongoc_client_encryption_encrypt_range_opts_t;
            precision: int32_t); inline;

procedure mongoc_client_encryption_encrypt_opts_set_range_opts(
            opts: Pmongoc_client_encryption_encrypt_opts_t;
            range_opts: Pmongoc_client_encryption_encrypt_range_opts_t); inline;

function mongoc_client_encryption_datakey_opts_new(): Pmongoc_client_encryption_datakey_opts_t; inline;

procedure mongoc_client_encryption_datakey_opts_destroy(
            opts: Pmongoc_client_encryption_datakey_opts_t); inline;

procedure mongoc_client_encryption_datakey_opts_set_masterkey(
            opts: Pmongoc_client_encryption_datakey_opts_t;
            masterkey: Pbson_t); inline;

procedure mongoc_client_encryption_datakey_opts_set_keyaltnames(
            opts: Pmongoc_client_encryption_datakey_opts_t;
            keyaltnames: PPAnsiChar;
            keyaltnames_count: uint32_t); inline;

procedure mongoc_client_encryption_datakey_opts_set_keymaterial(
            opts: Pmongoc_client_encryption_datakey_opts_t;
            data: Puint8_t;
            len: uint32_t); inline;

function mongoc_client_encryption_get_crypt_shared_version(
           enc: Pmongoc_client_encryption_t): PAnsiChar; inline;

function mongoc_client_encryption_create_encrypted_collection(
           enc: Pmongoc_client_encryption_t;
           database: P_mongoc_database_t;
           name: PAnsiChar;
           in_options: Pbson_t;
           opt_out_options: Pbson_t;
           kms_provider: PAnsiChar;
           opt_masterkey: Pbson_t;
           error: Pbson_error_t): P_mongoc_collection_t; inline;

///////////////////////
// mongoc-stream-tls //
///////////////////////

type
  _mongoc_stream_tls_t = record
  end;
  mongoc_stream_tls_t = _mongoc_stream_tls_t;

function mongoc_stream_tls_handshake(
           stream: Pmongoc_stream_t;
           host: PAnsiChar;
           timeout_msec: int32_t;
           events: PInteger;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_stream_tls_handshake_block(
           stream: Pmongoc_stream_t;
           host: PAnsiChar;
           timeout_msec: int32_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_stream_tls_new_with_hostname(
           base_stream: Pmongoc_stream_t;
           host: PAnsiChar;
           opt: Pmongoc_ssl_opt_t;
           client: Integer): Pmongoc_stream_t; inline;

///////////////////////////////
// mongoc-stream-tls-openssl //
///////////////////////////////

// mongoc_stream_t * __CALLCONV__
// mongoc_stream_tls_openssl_new(mongoc_stream_t * base_stream, const char * host, mongoc_ssl_opt_t * opt, int client);

/////////////////////////////////
// mongoc-topology-description //
/////////////////////////////////

type
  _mongoc_topology_description_t = record
  end;
  mongoc_topology_description_t = _mongoc_topology_description_t;
  Pmongoc_topology_description_t = ^mongoc_topology_description_t;

procedure mongoc_topology_description_destroy(
            description: Pmongoc_topology_description_t); inline;

function mongoc_topology_description_new_copy(
           description: Pmongoc_topology_description_t): Pmongoc_topology_description_t; inline;

function mongoc_topology_description_has_readable_server(
           td: Pmongoc_topology_description_t;
           prefs: Pmongoc_read_prefs_t): ByteBool; inline;

function mongoc_topology_description_has_writable_server(
           td: Pmongoc_topology_description_t): ByteBool; inline;

function mongoc_topology_description_type(
           td: Pmongoc_topology_description_t): PAnsiChar; inline;

function mongoc_topology_description_get_servers(
           td: Pmongoc_topology_description_t;
           n: Psize_t): PPmongoc_server_description_t; inline;

////////////////
// mongoc-apm //
////////////////

// *
// * Application Performance Management (APM) interface, complies with two specs.
// * MongoDB's Command Logging and Monitoring Spec:
// *
// * https: // github.com/mongodb/specifications/tree/master/source/command-logging-and-monitoring
// *
// * MongoDB's Spec for Monitoring Server Discovery and Monitoring (SDAM) events:
// *
// * https: // github.com/mongodb/specifications/tree/master/source/server-discovery-and-monitoring
// *
// *

// *
// * callbacks to receive APM events
// *

type
  _mongoc_apm_callbacks_t = record
  end;
  mongoc_apm_callbacks_t = _mongoc_apm_callbacks_t;
  Pmongoc_apm_callbacks_t = ^mongoc_apm_callbacks_t;

// *
// * command monitoring events
// *

type
  _mongoc_apm_command_started_t = record
  end;
  mongoc_apm_command_started_t = _mongoc_apm_command_started_t;
  Pmongoc_apm_command_started_t = ^mongoc_apm_command_started_t;
type
  _mongoc_apm_command_succeeded_t = record
  end;
  mongoc_apm_command_succeeded_t = _mongoc_apm_command_succeeded_t;
  Pmongoc_apm_command_succeeded_t = ^mongoc_apm_command_succeeded_t;
type
  _mongoc_apm_command_failed_t = record
  end;
  mongoc_apm_command_failed_t = _mongoc_apm_command_failed_t;
  Pmongoc_apm_command_failed_t = ^mongoc_apm_command_failed_t;

// *
// * SDAM monitoring events
// *

type
  _mongoc_apm_server_changed_t = record
  end;
  mongoc_apm_server_changed_t = _mongoc_apm_server_changed_t;
  Pmongoc_apm_server_changed_t = ^mongoc_apm_server_changed_t;
type
  _mongoc_apm_server_opening_t = record
  end;
  mongoc_apm_server_opening_t = _mongoc_apm_server_opening_t;
  Pmongoc_apm_server_opening_t = ^mongoc_apm_server_opening_t;
type
  _mongoc_apm_server_closed_t = record
  end;
  mongoc_apm_server_closed_t = _mongoc_apm_server_closed_t;
  Pmongoc_apm_server_closed_t = ^mongoc_apm_server_closed_t;
type
  _mongoc_apm_topology_changed_t = record
  end;
  mongoc_apm_topology_changed_t = _mongoc_apm_topology_changed_t;
  Pmongoc_apm_topology_changed_t = ^mongoc_apm_topology_changed_t;
type
  _mongoc_apm_topology_opening_t = record
  end;
  mongoc_apm_topology_opening_t = _mongoc_apm_topology_opening_t;
  Pmongoc_apm_topology_opening_t = ^mongoc_apm_topology_opening_t;
type
  _mongoc_apm_topology_closed_t = record
  end;
  mongoc_apm_topology_closed_t = _mongoc_apm_topology_closed_t;
  Pmongoc_apm_topology_closed_t = ^mongoc_apm_topology_closed_t;
type
  _mongoc_apm_server_heartbeat_started_t = record
  end;
  mongoc_apm_server_heartbeat_started_t = _mongoc_apm_server_heartbeat_started_t;
  Pmongoc_apm_server_heartbeat_started_t = ^mongoc_apm_server_heartbeat_started_t;
type
  _mongoc_apm_server_heartbeat_succeeded_t = record
  end;
  mongoc_apm_server_heartbeat_succeeded_t = _mongoc_apm_server_heartbeat_succeeded_t;
  Pmongoc_apm_server_heartbeat_succeeded_t = ^mongoc_apm_server_heartbeat_succeeded_t;
type
  _mongoc_apm_server_heartbeat_failed_t = record
  end;
  mongoc_apm_server_heartbeat_failed_t = _mongoc_apm_server_heartbeat_failed_t;
  Pmongoc_apm_server_heartbeat_failed_t = ^mongoc_apm_server_heartbeat_failed_t;

// *
// * event field accessors
// *

// * command-started event fields

function mongoc_apm_command_started_get_command(
           event: Pmongoc_apm_command_started_t): Pbson_t; inline;

function mongoc_apm_command_started_get_database_name(
           event: Pmongoc_apm_command_started_t): PAnsiChar; inline;

function mongoc_apm_command_started_get_command_name(
           event: Pmongoc_apm_command_started_t): PAnsiChar; inline;

function mongoc_apm_command_started_get_request_id(
           event: Pmongoc_apm_command_started_t): int64_t; inline;

function mongoc_apm_command_started_get_operation_id(
           event: Pmongoc_apm_command_started_t): int64_t; inline;

function mongoc_apm_command_started_get_host(
           event: Pmongoc_apm_command_started_t): Pmongoc_host_list_t; inline;

function mongoc_apm_command_started_get_server_id(
           event: Pmongoc_apm_command_started_t): uint32_t; inline;

function mongoc_apm_command_started_get_service_id(
           event: Pmongoc_apm_command_started_t): Pbson_oid_t; inline;

function mongoc_apm_command_started_get_server_connection_id_int64(
           event: Pmongoc_apm_command_started_t): int64_t; inline;

function mongoc_apm_command_started_get_context(
           event: Pmongoc_apm_command_started_t): Pvoid; inline;

// * command-succeeded event fields

function mongoc_apm_command_succeeded_get_duration(
           event: Pmongoc_apm_command_succeeded_t): int64_t; inline;

function mongoc_apm_command_succeeded_get_reply(
           event: Pmongoc_apm_command_succeeded_t): Pbson_t; inline;

function mongoc_apm_command_succeeded_get_command_name(
           event: Pmongoc_apm_command_succeeded_t): PAnsiChar; inline;

function mongoc_apm_command_succeeded_get_database_name(
           event: Pmongoc_apm_command_succeeded_t): PAnsiChar; inline;

function mongoc_apm_command_succeeded_get_request_id(
           event: Pmongoc_apm_command_succeeded_t): int64_t; inline;

function mongoc_apm_command_succeeded_get_operation_id(
           event: Pmongoc_apm_command_succeeded_t): int64_t; inline;

function mongoc_apm_command_succeeded_get_host(
           event: Pmongoc_apm_command_succeeded_t): Pmongoc_host_list_t; inline;

function mongoc_apm_command_succeeded_get_server_id(
           event: Pmongoc_apm_command_succeeded_t): uint32_t; inline;

function mongoc_apm_command_succeeded_get_service_id(
           event: Pmongoc_apm_command_succeeded_t): Pbson_oid_t; inline;

function mongoc_apm_command_succeeded_get_server_connection_id_int64(
           event: Pmongoc_apm_command_succeeded_t): int64_t; inline;

function mongoc_apm_command_succeeded_get_context(
           event: Pmongoc_apm_command_succeeded_t): Pvoid; inline;

// * command-failed event fields

function mongoc_apm_command_failed_get_duration(
           event: Pmongoc_apm_command_failed_t): int64_t; inline;

function mongoc_apm_command_failed_get_command_name(
           event: Pmongoc_apm_command_failed_t): PAnsiChar; inline;

function mongoc_apm_command_failed_get_database_name(
           event: Pmongoc_apm_command_failed_t): PAnsiChar; inline;
// * retrieve the error by filling out the passed-in "error" struct

procedure mongoc_apm_command_failed_get_error(
            event: Pmongoc_apm_command_failed_t;
            error: Pbson_error_t); inline;

function mongoc_apm_command_failed_get_reply(
           event: Pmongoc_apm_command_failed_t): Pbson_t; inline;

function mongoc_apm_command_failed_get_request_id(
           event: Pmongoc_apm_command_failed_t): int64_t; inline;

function mongoc_apm_command_failed_get_operation_id(
           event: Pmongoc_apm_command_failed_t): int64_t; inline;

function mongoc_apm_command_failed_get_host(
           event: Pmongoc_apm_command_failed_t): Pmongoc_host_list_t; inline;

function mongoc_apm_command_failed_get_server_id(
           event: Pmongoc_apm_command_failed_t): uint32_t; inline;

function mongoc_apm_command_failed_get_service_id(
           event: Pmongoc_apm_command_failed_t): Pbson_oid_t; inline;

function mongoc_apm_command_failed_get_server_connection_id_int64(
           event: Pmongoc_apm_command_failed_t): int64_t; inline;

function mongoc_apm_command_failed_get_context(
           event: Pmongoc_apm_command_failed_t): Pvoid; inline;

// * server-changed event fields

function mongoc_apm_server_changed_get_host(
           event: Pmongoc_apm_server_changed_t): Pmongoc_host_list_t; inline;

procedure mongoc_apm_server_changed_get_topology_id(
            event: Pmongoc_apm_server_changed_t;
            topology_id: Pbson_oid_t); inline;

function mongoc_apm_server_changed_get_previous_description(
           event: Pmongoc_apm_server_changed_t): Pmongoc_server_description_t; inline;

function mongoc_apm_server_changed_get_new_description(
           event: Pmongoc_apm_server_changed_t): Pmongoc_server_description_t; inline;

function mongoc_apm_server_changed_get_context(
           event: Pmongoc_apm_server_changed_t): Pvoid; inline;

// * server-opening event fields

function mongoc_apm_server_opening_get_host(
           event: Pmongoc_apm_server_opening_t): Pmongoc_host_list_t; inline;

procedure mongoc_apm_server_opening_get_topology_id(
            event: Pmongoc_apm_server_opening_t;
            topology_id: Pbson_oid_t); inline;

function mongoc_apm_server_opening_get_context(
           event: Pmongoc_apm_server_opening_t): Pvoid; inline;

// * server-closed event fields

function mongoc_apm_server_closed_get_host(
           event: Pmongoc_apm_server_closed_t): Pmongoc_host_list_t; inline;

procedure mongoc_apm_server_closed_get_topology_id(
            event: Pmongoc_apm_server_closed_t;
            topology_id: Pbson_oid_t); inline;

function mongoc_apm_server_closed_get_context(
           event: Pmongoc_apm_server_closed_t): Pvoid; inline;

// * topology-changed event fields

procedure mongoc_apm_topology_changed_get_topology_id(
            event: Pmongoc_apm_topology_changed_t;
            topology_id: Pbson_oid_t); inline;

function mongoc_apm_topology_changed_get_previous_description(
           event: Pmongoc_apm_topology_changed_t): Pmongoc_topology_description_t; inline;

function mongoc_apm_topology_changed_get_new_description(
           event: Pmongoc_apm_topology_changed_t): Pmongoc_topology_description_t; inline;

function mongoc_apm_topology_changed_get_context(
           event: Pmongoc_apm_topology_changed_t): Pvoid; inline;

// * topology-opening event field

procedure mongoc_apm_topology_opening_get_topology_id(
            event: Pmongoc_apm_topology_opening_t;
            topology_id: Pbson_oid_t); inline;

function mongoc_apm_topology_opening_get_context(
           event: Pmongoc_apm_topology_opening_t): Pvoid; inline;

// * topology-closed event field

procedure mongoc_apm_topology_closed_get_topology_id(
            event: Pmongoc_apm_topology_closed_t;
            topology_id: Pbson_oid_t); inline;

function mongoc_apm_topology_closed_get_context(
           event: Pmongoc_apm_topology_closed_t): Pvoid; inline;

// * heartbeat-started event field

function mongoc_apm_server_heartbeat_started_get_host(
           event: Pmongoc_apm_server_heartbeat_started_t): Pmongoc_host_list_t; inline;

function mongoc_apm_server_heartbeat_started_get_context(
           event: Pmongoc_apm_server_heartbeat_started_t): Pvoid; inline;

function mongoc_apm_server_heartbeat_started_get_awaited(
           event: Pmongoc_apm_server_heartbeat_started_t): ByteBool; inline;

// * heartbeat-succeeded event fields

function mongoc_apm_server_heartbeat_succeeded_get_duration(
           event: Pmongoc_apm_server_heartbeat_succeeded_t): int64_t; inline;

function mongoc_apm_server_heartbeat_succeeded_get_reply(
           event: Pmongoc_apm_server_heartbeat_succeeded_t): Pbson_t; inline;

function mongoc_apm_server_heartbeat_succeeded_get_host(
           event: Pmongoc_apm_server_heartbeat_succeeded_t): Pmongoc_host_list_t; inline;

function mongoc_apm_server_heartbeat_succeeded_get_context(
           event: Pmongoc_apm_server_heartbeat_succeeded_t): Pvoid; inline;

function mongoc_apm_server_heartbeat_succeeded_get_awaited(
           event: Pmongoc_apm_server_heartbeat_succeeded_t): ByteBool; inline;

// * heartbeat-failed event fields

function mongoc_apm_server_heartbeat_failed_get_duration(
           event: Pmongoc_apm_server_heartbeat_failed_t): int64_t; inline;

procedure mongoc_apm_server_heartbeat_failed_get_error(
            event: Pmongoc_apm_server_heartbeat_failed_t;
            error: Pbson_error_t); inline;

function mongoc_apm_server_heartbeat_failed_get_host(
           event: Pmongoc_apm_server_heartbeat_failed_t): Pmongoc_host_list_t; inline;

function mongoc_apm_server_heartbeat_failed_get_context(
           event: Pmongoc_apm_server_heartbeat_failed_t): Pvoid; inline;

function mongoc_apm_server_heartbeat_failed_get_awaited(
           event: Pmongoc_apm_server_heartbeat_failed_t): ByteBool; inline;

// *
// * callbacks
// *

type
  mongoc_apm_command_started_cb_t = procedure (
    event: Pmongoc_apm_command_started_t); cdecl;
type
  mongoc_apm_command_succeeded_cb_t = procedure (
    event: Pmongoc_apm_command_succeeded_t); cdecl;
type
  mongoc_apm_command_failed_cb_t = procedure (
    event: Pmongoc_apm_command_failed_t); cdecl;
type
  mongoc_apm_server_changed_cb_t = procedure (
    event: Pmongoc_apm_server_changed_t); cdecl;
type
  mongoc_apm_server_opening_cb_t = procedure (
    event: Pmongoc_apm_server_opening_t); cdecl;
type
  mongoc_apm_server_closed_cb_t = procedure (
    event: Pmongoc_apm_server_closed_t); cdecl;
type
  mongoc_apm_topology_changed_cb_t = procedure (
    event: Pmongoc_apm_topology_changed_t); cdecl;
type
  mongoc_apm_topology_opening_cb_t = procedure (
    event: Pmongoc_apm_topology_opening_t); cdecl;
type
  mongoc_apm_topology_closed_cb_t = procedure (
    event: Pmongoc_apm_topology_closed_t); cdecl;
type
  mongoc_apm_server_heartbeat_started_cb_t = procedure (
    event: Pmongoc_apm_server_heartbeat_started_t); cdecl;
type
  mongoc_apm_server_heartbeat_succeeded_cb_t = procedure (
    event: Pmongoc_apm_server_heartbeat_succeeded_t); cdecl;
type
  mongoc_apm_server_heartbeat_failed_cb_t = procedure (
    event: Pmongoc_apm_server_heartbeat_failed_t); cdecl;

// *
// * registering callbacks
// *

function mongoc_apm_callbacks_new(): Pmongoc_apm_callbacks_t; inline;

procedure mongoc_apm_callbacks_destroy(
            callbacks: Pmongoc_apm_callbacks_t); inline;

procedure mongoc_apm_set_command_started_cb(
            callbacks: Pmongoc_apm_callbacks_t;
            cb: mongoc_apm_command_started_cb_t); inline;

procedure mongoc_apm_set_command_succeeded_cb(
            callbacks: Pmongoc_apm_callbacks_t;
            cb: mongoc_apm_command_succeeded_cb_t); inline;

procedure mongoc_apm_set_command_failed_cb(
            callbacks: Pmongoc_apm_callbacks_t;
            cb: mongoc_apm_command_failed_cb_t); inline;

procedure mongoc_apm_set_server_changed_cb(
            callbacks: Pmongoc_apm_callbacks_t;
            cb: mongoc_apm_server_changed_cb_t); inline;

procedure mongoc_apm_set_server_opening_cb(
            callbacks: Pmongoc_apm_callbacks_t;
            cb: mongoc_apm_server_opening_cb_t); inline;

procedure mongoc_apm_set_server_closed_cb(
            callbacks: Pmongoc_apm_callbacks_t;
            cb: mongoc_apm_server_closed_cb_t); inline;

procedure mongoc_apm_set_topology_changed_cb(
            callbacks: Pmongoc_apm_callbacks_t;
            cb: mongoc_apm_topology_changed_cb_t); inline;

procedure mongoc_apm_set_topology_opening_cb(
            callbacks: Pmongoc_apm_callbacks_t;
            cb: mongoc_apm_topology_opening_cb_t); inline;

procedure mongoc_apm_set_topology_closed_cb(
            callbacks: Pmongoc_apm_callbacks_t;
            cb: mongoc_apm_topology_closed_cb_t); inline;

procedure mongoc_apm_set_server_heartbeat_started_cb(
            callbacks: Pmongoc_apm_callbacks_t;
            cb: mongoc_apm_server_heartbeat_started_cb_t); inline;

procedure mongoc_apm_set_server_heartbeat_succeeded_cb(
            callbacks: Pmongoc_apm_callbacks_t;
            cb: mongoc_apm_server_heartbeat_succeeded_cb_t); inline;

procedure mongoc_apm_set_server_heartbeat_failed_cb(
            callbacks: Pmongoc_apm_callbacks_t;
            cb: mongoc_apm_server_heartbeat_failed_cb_t); inline;

////////////////
// mongoc-uri //
////////////////

const MONGOC_DEFAULT_PORT = 27017;

const MONGOC_URI_APPNAME = 'appname';
const MONGOC_URI_AUTHMECHANISM = 'authmechanism';
const MONGOC_URI_AUTHMECHANISMPROPERTIES = 'authmechanismproperties';
const MONGOC_URI_AUTHSOURCE = 'authsource';
const MONGOC_URI_CANONICALIZEHOSTNAME = 'canonicalizehostname';
const MONGOC_URI_CONNECTTIMEOUTMS = 'connecttimeoutms';
const MONGOC_URI_COMPRESSORS = 'compressors';
const MONGOC_URI_DIRECTCONNECTION = 'directconnection';
const MONGOC_URI_GSSAPISERVICENAME = 'gssapiservicename';
const MONGOC_URI_HEARTBEATFREQUENCYMS = 'heartbeatfrequencyms';
const MONGOC_URI_JOURNAL = 'journal';
const MONGOC_URI_LOADBALANCED = 'loadbalanced';
const MONGOC_URI_LOCALTHRESHOLDMS = 'localthresholdms';
const MONGOC_URI_MAXPOOLSIZE = 'maxpoolsize';
const MONGOC_URI_MAXSTALENESSSECONDS = 'maxstalenessseconds';
const MONGOC_URI_READCONCERNLEVEL = 'readconcernlevel';
const MONGOC_URI_READPREFERENCE = 'readpreference';
const MONGOC_URI_READPREFERENCETAGS = 'readpreferencetags';
const MONGOC_URI_REPLICASET = 'replicaset';
const MONGOC_URI_RETRYREADS = 'retryreads';
const MONGOC_URI_RETRYWRITES = 'retrywrites';
const MONGOC_URI_SAFE = 'safe';
const MONGOC_URI_SERVERMONITORINGMODE = 'servermonitoringmode';
const MONGOC_URI_SERVERSELECTIONTIMEOUTMS = 'serverselectiontimeoutms';
const MONGOC_URI_SERVERSELECTIONTRYONCE = 'serverselectiontryonce';
const MONGOC_URI_SOCKETCHECKINTERVALMS = 'socketcheckintervalms';
const MONGOC_URI_SOCKETTIMEOUTMS = 'sockettimeoutms';
const MONGOC_URI_SRVSERVICENAME = 'srvservicename';
const MONGOC_URI_SRVMAXHOSTS = 'srvmaxhosts';
const MONGOC_URI_TLS = 'tls';
const MONGOC_URI_TLSCERTIFICATEKEYFILE = 'tlscertificatekeyfile';
const MONGOC_URI_TLSCERTIFICATEKEYFILEPASSWORD = 'tlscertificatekeyfilepassword';
const MONGOC_URI_TLSCAFILE = 'tlscafile';
const MONGOC_URI_TLSALLOWINVALIDCERTIFICATES = 'tlsallowinvalidcertificates';
const MONGOC_URI_TLSALLOWINVALIDHOSTNAMES = 'tlsallowinvalidhostnames';
const MONGOC_URI_TLSINSECURE = 'tlsinsecure';
const MONGOC_URI_TLSDISABLECERTIFICATEREVOCATIONCHECK = 'tlsdisablecertificaterevocationcheck';
const MONGOC_URI_TLSDISABLEOCSPENDPOINTCHECK = 'tlsdisableocspendpointcheck';
const MONGOC_URI_W = 'w';
const MONGOC_URI_WAITQUEUETIMEOUTMS = 'waitqueuetimeoutms';
const MONGOC_URI_WTIMEOUTMS = 'wtimeoutms';
const MONGOC_URI_ZLIBCOMPRESSIONLEVEL = 'zlibcompressionlevel';

// * Deprecated in MongoDB 4.2, use "tls" variants instead.
const MONGOC_URI_SSL = 'ssl';
const MONGOC_URI_SSLCLIENTCERTIFICATEKEYFILE = 'sslclientcertificatekeyfile';
const MONGOC_URI_SSLCLIENTCERTIFICATEKEYPASSWORD = 'sslclientcertificatekeypassword';
const MONGOC_URI_SSLCERTIFICATEAUTHORITYFILE = 'sslcertificateauthorityfile';
const MONGOC_URI_SSLALLOWINVALIDCERTIFICATES = 'sslallowinvalidcertificates';
const MONGOC_URI_SSLALLOWINVALIDHOSTNAMES = 'sslallowinvalidhostnames';

type
  _mongoc_uri_t = record
  end;
  mongoc_uri_t = _mongoc_uri_t;
  Pmongoc_uri_t = ^mongoc_uri_t;

function mongoc_uri_copy(
           uri: Pmongoc_uri_t): Pmongoc_uri_t; inline;

procedure mongoc_uri_destroy(
            uri: Pmongoc_uri_t); inline;

function mongoc_uri_new(
           uri_string: PAnsiChar): Pmongoc_uri_t; inline;

function mongoc_uri_new_with_error(
           uri_string: PAnsiChar;
           error: Pbson_error_t): Pmongoc_uri_t; inline;

function mongoc_uri_new_for_host_port(
           hostname: PAnsiChar;
           port: uint16_t): Pmongoc_uri_t; inline;

function mongoc_uri_get_hosts(
           uri: Pmongoc_uri_t): Pmongoc_host_list_t; inline;

function mongoc_uri_get_srv_hostname(
           uri: Pmongoc_uri_t): PAnsiChar; inline;

function mongoc_uri_get_srv_service_name(
           uri: Pmongoc_uri_t): PAnsiChar; inline;

function mongoc_uri_get_database(
           uri: Pmongoc_uri_t): PAnsiChar; inline;

function mongoc_uri_set_database(
           uri: Pmongoc_uri_t;
           database: PAnsiChar): ByteBool; inline;

function mongoc_uri_get_compressors(
           uri: Pmongoc_uri_t): Pbson_t; inline;

function mongoc_uri_get_options(
           uri: Pmongoc_uri_t): Pbson_t; inline;

function mongoc_uri_get_password(
           uri: Pmongoc_uri_t): PAnsiChar; inline;

function mongoc_uri_set_password(
           uri: Pmongoc_uri_t;
           password: PAnsiChar): ByteBool; inline;

function mongoc_uri_has_option(
           uri: Pmongoc_uri_t;
           key: PAnsiChar): ByteBool; inline;

function mongoc_uri_option_is_int32(
           key: PAnsiChar): ByteBool; inline;

function mongoc_uri_option_is_int64(
           key: PAnsiChar): ByteBool; inline;

function mongoc_uri_option_is_bool(
           key: PAnsiChar): ByteBool; inline;

function mongoc_uri_option_is_utf8(
           key: PAnsiChar): ByteBool; inline;

function mongoc_uri_get_option_as_int32(
           uri: Pmongoc_uri_t;
           option: PAnsiChar;
           fallback: int32_t): int32_t; inline;

function mongoc_uri_get_option_as_int64(
           uri: Pmongoc_uri_t;
           option: PAnsiChar;
           fallback: int64_t): int64_t; inline;

function mongoc_uri_get_option_as_bool(
           uri: Pmongoc_uri_t;
           option: PAnsiChar;
           fallback: ByteBool): ByteBool; inline;

function mongoc_uri_get_option_as_utf8(
           uri: Pmongoc_uri_t;
           option: PAnsiChar;
           fallback: PAnsiChar): PAnsiChar; inline;

function mongoc_uri_set_option_as_int32(
           uri: Pmongoc_uri_t;
           option: PAnsiChar;
           value: int32_t): ByteBool; inline;

function mongoc_uri_set_option_as_int64(
           uri: Pmongoc_uri_t;
           option: PAnsiChar;
           value: int64_t): ByteBool; inline;

function mongoc_uri_set_option_as_bool(
           uri: Pmongoc_uri_t;
           option: PAnsiChar;
           value: ByteBool): ByteBool; inline;

function mongoc_uri_set_option_as_utf8(
           uri: Pmongoc_uri_t;
           option: PAnsiChar;
           value: PAnsiChar): ByteBool; inline;

function mongoc_uri_get_replica_set(
           uri: Pmongoc_uri_t): PAnsiChar; inline;

function mongoc_uri_get_string(
           uri: Pmongoc_uri_t): PAnsiChar; inline;

function mongoc_uri_get_username(
           uri: Pmongoc_uri_t): PAnsiChar; inline;

function mongoc_uri_set_username(
           uri: Pmongoc_uri_t;
           username: PAnsiChar): ByteBool; inline;

function mongoc_uri_get_credentials(
           uri: Pmongoc_uri_t): Pbson_t; inline;

function mongoc_uri_get_auth_source(
           uri: Pmongoc_uri_t): PAnsiChar; inline;

function mongoc_uri_set_auth_source(
           uri: Pmongoc_uri_t;
           value: PAnsiChar): ByteBool; inline;

function mongoc_uri_get_appname(
           uri: Pmongoc_uri_t): PAnsiChar; inline;

function mongoc_uri_set_appname(
           uri: Pmongoc_uri_t;
           value: PAnsiChar): ByteBool; inline;

function mongoc_uri_set_compressors(
           uri: Pmongoc_uri_t;
           value: PAnsiChar): ByteBool; inline;

function mongoc_uri_get_auth_mechanism(
           uri: Pmongoc_uri_t): PAnsiChar; inline;

function mongoc_uri_set_auth_mechanism(
           uri: Pmongoc_uri_t;
           value: PAnsiChar): ByteBool; inline;

function mongoc_uri_get_mechanism_properties(
           uri: Pmongoc_uri_t;
           properties: Pbson_t): ByteBool; inline;

function mongoc_uri_set_mechanism_properties(
           uri: Pmongoc_uri_t;
           properties: Pbson_t): ByteBool; inline;

function mongoc_uri_get_tls(
           uri: Pmongoc_uri_t): ByteBool; inline;

function mongoc_uri_unescape(
           escaped_string: PAnsiChar): PAnsiChar; inline;

function mongoc_uri_get_read_prefs_t(
           uri: Pmongoc_uri_t): Pmongoc_read_prefs_t; inline;

procedure mongoc_uri_set_read_prefs_t(
            uri: Pmongoc_uri_t;
            prefs: Pmongoc_read_prefs_t); inline;

function mongoc_uri_get_write_concern(
           uri: Pmongoc_uri_t): Pmongoc_write_concern_t; inline;

procedure mongoc_uri_set_write_concern(
            uri: Pmongoc_uri_t;
            wc: Pmongoc_write_concern_t); inline;

function mongoc_uri_get_read_concern(
           uri: Pmongoc_uri_t): Pmongoc_read_concern_t; inline;

procedure mongoc_uri_set_read_concern(
            uri: Pmongoc_uri_t;
            rc: Pmongoc_read_concern_t); inline;

function mongoc_uri_get_server_monitoring_mode(
           uri: Pmongoc_uri_t): PAnsiChar; inline;

function mongoc_uri_set_server_monitoring_mode(
           uri: Pmongoc_uri_t;
           value: PAnsiChar): ByteBool; inline;

///////////////////////
// mongoc-collection //
///////////////////////

type
  _mongoc_collection_t = record
  end;
  mongoc_collection_t = _mongoc_collection_t;
  Pmongoc_collection_t = ^mongoc_collection_t;

function mongoc_collection_aggregate(
           collection: Pmongoc_collection_t;
           flags: mongoc_query_flags_t;
           pipeline: Pbson_t;
           opts: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t): Pmongoc_cursor_t; inline;

procedure mongoc_collection_destroy(
            collection: Pmongoc_collection_t); inline;

function mongoc_collection_copy(
           collection: Pmongoc_collection_t): Pmongoc_collection_t; inline;

function mongoc_collection_read_command_with_opts(
           collection: Pmongoc_collection_t;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_write_command_with_opts(
           collection: Pmongoc_collection_t;
           command: Pbson_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_read_write_command_with_opts(
           collection: Pmongoc_collection_t;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t; // IGNORED
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_command_with_opts(
           collection: Pmongoc_collection_t;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_command_simple(
           collection: Pmongoc_collection_t;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_drop(
           collection: Pmongoc_collection_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_drop_with_opts(
           collection: Pmongoc_collection_t;
           opts: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_drop_index(
           collection: Pmongoc_collection_t;
           index_name: PAnsiChar;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_drop_index_with_opts(
           collection: Pmongoc_collection_t;
           index_name: PAnsiChar;
           opts: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_find_indexes_with_opts(
           collection: Pmongoc_collection_t;
           opts: Pbson_t): Pmongoc_cursor_t; inline;

type
  _mongoc_index_model_t = record
  end;
  mongoc_index_model_t = _mongoc_index_model_t;
  Pmongoc_index_model_t = ^mongoc_index_model_t;
  PPmongoc_index_model_t = ^Pmongoc_index_model_t;

function mongoc_index_model_new(
           keys: Pbson_t;
           opts: Pbson_t): Pmongoc_index_model_t; inline;

procedure mongoc_index_model_destroy(
            model: Pmongoc_index_model_t); inline;

function mongoc_collection_create_indexes_with_opts(
           collection: Pmongoc_collection_t;
           models: PPmongoc_index_model_t;
           n_models: size_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_find_with_opts(
           collection: Pmongoc_collection_t;
           filter: Pbson_t;
           opts: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t): Pmongoc_cursor_t; inline;

function mongoc_collection_insert(
           collection: Pmongoc_collection_t;
           flags: mongoc_insert_flags_t;
           document: Pbson_t;
           write_concern: Pmongoc_write_concern_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_insert_one(
           collection: Pmongoc_collection_t;
           document: Pbson_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_insert_many(
           collection: Pmongoc_collection_t;
           documents: PPbson_t;
           n_documents: size_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_update(
           collection: Pmongoc_collection_t;
           flags: mongoc_update_flags_t;
           selector: Pbson_t;
           update: Pbson_t;
           write_concern: Pmongoc_write_concern_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_update_one(
           collection: Pmongoc_collection_t;
           selector: Pbson_t;
           update: Pbson_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_update_many(
           collection: Pmongoc_collection_t;
           selector: Pbson_t;
           update: Pbson_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_replace_one(
           collection: Pmongoc_collection_t;
           selector: Pbson_t;
           replacement: Pbson_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_remove(
           collection: Pmongoc_collection_t;
           flags: mongoc_remove_flags_t;
           selector: Pbson_t;
           write_concern: Pmongoc_write_concern_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_delete_one(
           collection: Pmongoc_collection_t;
           selector: Pbson_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_delete_many(
           collection: Pmongoc_collection_t;
           selector: Pbson_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_rename(
           collection: Pmongoc_collection_t;
           new_db: PAnsiChar;
           new_name: PAnsiChar;
           drop_target_before_rename: ByteBool;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_rename_with_opts(
           collection: Pmongoc_collection_t;
           new_db: PAnsiChar;
           new_name: PAnsiChar;
           drop_target_before_rename: ByteBool;
           opts: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_find_and_modify_with_opts(
           collection: Pmongoc_collection_t;
           query: Pbson_t;
           opts: Pmongoc_find_and_modify_opts_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_find_and_modify(
           collection: Pmongoc_collection_t;
           query: Pbson_t;
           sort: Pbson_t;
           update: Pbson_t;
           fields: Pbson_t;
           _remove: ByteBool;
           upsert: ByteBool;
           _new: ByteBool;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_collection_create_bulk_operation_with_opts(
           collection: Pmongoc_collection_t;
           opts: Pbson_t): Pmongoc_bulk_operation_t; inline;

function mongoc_collection_get_read_prefs(
           collection: Pmongoc_collection_t): Pmongoc_read_prefs_t; inline;

procedure mongoc_collection_set_read_prefs(
            collection: Pmongoc_collection_t;
            read_prefs: Pmongoc_read_prefs_t); inline;

function mongoc_collection_get_read_concern(
           collection: Pmongoc_collection_t): Pmongoc_read_concern_t; inline;

procedure mongoc_collection_set_read_concern(
            collection: Pmongoc_collection_t;
            read_concern: Pmongoc_read_concern_t); inline;

function mongoc_collection_get_write_concern(
           collection: Pmongoc_collection_t): Pmongoc_write_concern_t; inline;

procedure mongoc_collection_set_write_concern(
            collection: Pmongoc_collection_t;
            write_concern: Pmongoc_write_concern_t); inline;

function mongoc_collection_get_name(
           collection: Pmongoc_collection_t): PAnsiChar; inline;

function mongoc_collection_keys_to_index_string(
           keys: Pbson_t): PAnsiChar; inline;

function mongoc_collection_watch(
           coll: Pmongoc_collection_t;
           pipeline: Pbson_t;
           opts: Pbson_t): Pmongoc_change_stream_t; inline;

function mongoc_collection_count_documents(
           coll: Pmongoc_collection_t;
           filter: Pbson_t;
           opts: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           reply: Pbson_t;
           error: Pbson_error_t): int64_t; inline;

function mongoc_collection_estimated_document_count(
           coll: Pmongoc_collection_t;
           opts: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           reply: Pbson_t;
           error: Pbson_error_t): int64_t; inline;

/////////////////////
// mongoc-database //
/////////////////////

type
  _mongoc_database_t = record
  end;
  mongoc_database_t = _mongoc_database_t;
  Pmongoc_database_t = ^mongoc_database_t;

function mongoc_database_get_name(
           database: Pmongoc_database_t): PAnsiChar; inline;

function mongoc_database_remove_user(
           database: Pmongoc_database_t;
           username: PAnsiChar;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_database_remove_all_users(
           database: Pmongoc_database_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_database_add_user(
           database: Pmongoc_database_t;
           username: PAnsiChar;
           password: PAnsiChar;
           roles: Pbson_t;
           custom_data: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

procedure mongoc_database_destroy(
            database: Pmongoc_database_t); inline;

function mongoc_database_aggregate(
           db: Pmongoc_database_t;
           pipeline: Pbson_t;
           opts: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t): Pmongoc_cursor_t; inline;

function mongoc_database_copy(
           database: Pmongoc_database_t): Pmongoc_database_t; inline;

function mongoc_database_read_command_with_opts(
           database: Pmongoc_database_t;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_database_write_command_with_opts(
           database: Pmongoc_database_t;
           command: Pbson_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_database_read_write_command_with_opts(
           database: Pmongoc_database_t;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t; // IGNORED
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_database_command_with_opts(
           database: Pmongoc_database_t;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_database_command_simple(
           database: Pmongoc_database_t;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_database_drop(
           database: Pmongoc_database_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_database_drop_with_opts(
           database: Pmongoc_database_t;
           opts: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_database_has_collection(
           database: Pmongoc_database_t;
           name: PAnsiChar;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_database_create_collection(
           database: Pmongoc_database_t;
           name: PAnsiChar;
           options: Pbson_t;
           error: Pbson_error_t): Pmongoc_collection_t; inline;

function mongoc_database_get_read_prefs(
           database: Pmongoc_database_t): Pmongoc_read_prefs_t; inline;

procedure mongoc_database_set_read_prefs(
            database: Pmongoc_database_t;
            read_prefs: Pmongoc_read_prefs_t); inline;

function mongoc_database_get_write_concern(
           database: Pmongoc_database_t): Pmongoc_write_concern_t; inline;

procedure mongoc_database_set_write_concern(
            database: Pmongoc_database_t;
            write_concern: Pmongoc_write_concern_t); inline;

function mongoc_database_get_read_concern(
           database: Pmongoc_database_t): Pmongoc_read_concern_t; inline;

procedure mongoc_database_set_read_concern(
            database: Pmongoc_database_t;
            read_concern: Pmongoc_read_concern_t); inline;

function mongoc_database_find_collections_with_opts(
           database: Pmongoc_database_t;
           opts: Pbson_t): Pmongoc_cursor_t; inline;

function mongoc_database_get_collection_names_with_opts(
           database: Pmongoc_database_t;
           opts: Pbson_t;
           error: Pbson_error_t): PPAnsiChar; inline;

function mongoc_database_get_collection(
           database: Pmongoc_database_t;
           name: PAnsiChar): Pmongoc_collection_t; inline;

function mongoc_database_watch(
           db: Pmongoc_database_t;
           pipeline: Pbson_t;
           opts: Pbson_t): Pmongoc_change_stream_t; inline;

////////////////////////
// mongoc-gridfs-file //
////////////////////////

// #define MONGOC_GRIDFS_FILE_STR_HEADER(name) char * __CALLCONV__ mongoc_gridfs_file_get_##name(mongoc_gridfs_file_t * file); void __CALLCONV__ mongoc_gridfs_file_set_##name(mongoc_gridfs_file_t * file, const char * str);

// #define MONGOC_GRIDFS_FILE_BSON_HEADER(name) bson_t * __CALLCONV__ mongoc_gridfs_file_get_##name(mongoc_gridfs_file_t * file); void __CALLCONV__ mongoc_gridfs_file_set_##name(mongoc_gridfs_file_t * file, const bson_t * bson);

type
  _mongoc_gridfs_file_t = record
  end;
  mongoc_gridfs_file_t = _mongoc_gridfs_file_t;
  Pmongoc_gridfs_file_t = ^mongoc_gridfs_file_t;
type
  _mongoc_gridfs_file_opt_t = record
  end;
  mongoc_gridfs_file_opt_t = _mongoc_gridfs_file_opt_t;
  Pmongoc_gridfs_file_opt_t = ^mongoc_gridfs_file_opt_t;

// struct _mongoc_gridfs_file_opt_t {
// const char * md5;
// const char * filename;
// const char * content_type;
// const bson_t * aliases;
// const bson_t * metadata;
// uint32_t chunk_size;
// };

// MONGOC_GRIDFS_FILE_STR_HEADER(md5)
// MONGOC_GRIDFS_FILE_STR_HEADER(filename)
// MONGOC_GRIDFS_FILE_STR_HEADER(content_type)
// MONGOC_GRIDFS_FILE_BSON_HEADER(aliases)
// MONGOC_GRIDFS_FILE_BSON_HEADER(metadata)

function mongoc_gridfs_file_get_id(
           &file: Pmongoc_gridfs_file_t): Pbson_value_t; inline;

function mongoc_gridfs_file_get_length(
           &file: Pmongoc_gridfs_file_t): int64_t; inline;

function mongoc_gridfs_file_get_chunk_size(
           &file: Pmongoc_gridfs_file_t): int32_t; inline;

function mongoc_gridfs_file_get_upload_date(
           &file: Pmongoc_gridfs_file_t): int64_t; inline;

function mongoc_gridfs_file_writev(
           &file: Pmongoc_gridfs_file_t;
           iov: Pmongoc_iovec_t;
           iovcnt: size_t;
           timeout_msec: uint32_t): ssize_t; inline;
function mongoc_gridfs_file_readv(
           &file: Pmongoc_gridfs_file_t;
           iov: Pmongoc_iovec_t;
           iovcnt: size_t;
           min_bytes: size_t;
           timeout_msec: uint32_t): ssize_t; inline;
function mongoc_gridfs_file_seek(
           &file: Pmongoc_gridfs_file_t;
           delta: int64_t;
           whence: Integer): Integer; inline;

function mongoc_gridfs_file_tell(
           &file: Pmongoc_gridfs_file_t): uint64_t; inline;

function mongoc_gridfs_file_set_id(
           &file: Pmongoc_gridfs_file_t;
           id: Pbson_value_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_gridfs_file_save(
           &file: Pmongoc_gridfs_file_t): ByteBool; inline;

procedure mongoc_gridfs_file_destroy(
            &file: Pmongoc_gridfs_file_t); inline;

function mongoc_gridfs_file_error(
           &file: Pmongoc_gridfs_file_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_gridfs_file_remove(
           &file: Pmongoc_gridfs_file_t;
           error: Pbson_error_t): ByteBool; inline;

/////////////////////////////
// mongoc-gridfs-file-list //
/////////////////////////////

type
  _mongoc_gridfs_file_list_t = record
  end;
  mongoc_gridfs_file_list_t = _mongoc_gridfs_file_list_t;
  Pmongoc_gridfs_file_list_t = ^mongoc_gridfs_file_list_t;

function mongoc_gridfs_file_list_next(
           list: Pmongoc_gridfs_file_list_t): Pmongoc_gridfs_file_t; inline;
procedure mongoc_gridfs_file_list_destroy(
            list: Pmongoc_gridfs_file_list_t); inline;
function mongoc_gridfs_file_list_error(
           list: Pmongoc_gridfs_file_list_t;
           error: Pbson_error_t): ByteBool; inline;

/////////////////////////////
// mongoc-gridfs-file-page //
/////////////////////////////

type
  _mongoc_gridfs_file_page_t = record
  end;
  mongoc_gridfs_file_page_t = _mongoc_gridfs_file_page_t;

//////////////////////////
// mongoc-gridfs-bucket //
//////////////////////////

type
  _mongoc_gridfs_bucket_t = record
  end;
  mongoc_gridfs_bucket_t = _mongoc_gridfs_bucket_t;
  Pmongoc_gridfs_bucket_t = ^mongoc_gridfs_bucket_t;

function mongoc_gridfs_bucket_new(
           db: Pmongoc_database_t;
           opts: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           error: Pbson_error_t): Pmongoc_gridfs_bucket_t; inline;

function mongoc_gridfs_bucket_open_upload_stream(
           bucket: Pmongoc_gridfs_bucket_t;
           filename: PAnsiChar;
           opts: Pbson_t;
           file_id: Pbson_value_t;
           error: Pbson_error_t): Pmongoc_stream_t; inline;

function mongoc_gridfs_bucket_open_upload_stream_with_id(
           bucket: Pmongoc_gridfs_bucket_t;
           file_id: Pbson_value_t;
           filename: PAnsiChar;
           opts: Pbson_t;
           error: Pbson_error_t): Pmongoc_stream_t; inline;

function mongoc_gridfs_bucket_upload_from_stream(
           bucket: Pmongoc_gridfs_bucket_t;
           filename: PAnsiChar;
           source: Pmongoc_stream_t;
           opts: Pbson_t;
           file_id: Pbson_value_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_gridfs_bucket_upload_from_stream_with_id(
           bucket: Pmongoc_gridfs_bucket_t;
           file_id: Pbson_value_t;
           filename: PAnsiChar;
           source: Pmongoc_stream_t;
           opts: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_gridfs_bucket_open_download_stream(
           bucket: Pmongoc_gridfs_bucket_t;
           file_id: Pbson_value_t;
           error: Pbson_error_t): Pmongoc_stream_t; inline;

function mongoc_gridfs_bucket_download_to_stream(
           bucket: Pmongoc_gridfs_bucket_t;
           file_id: Pbson_value_t;
           destination: Pmongoc_stream_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_gridfs_bucket_delete_by_id(
           bucket: Pmongoc_gridfs_bucket_t;
           file_id: Pbson_value_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_gridfs_bucket_find(
           bucket: Pmongoc_gridfs_bucket_t;
           filter: Pbson_t;
           opts: Pbson_t): Pmongoc_cursor_t; inline;

function mongoc_gridfs_bucket_stream_error(
           stream: Pmongoc_stream_t;
           error: Pbson_error_t): ByteBool; inline;

procedure mongoc_gridfs_bucket_destroy(
            bucket: Pmongoc_gridfs_bucket_t); inline;

function mongoc_gridfs_bucket_abort_upload(
           stream: Pmongoc_stream_t): ByteBool; inline;

///////////////////
// mongoc-gridfs //
///////////////////

type
  _mongoc_gridfs_t = record
  end;
  mongoc_gridfs_t = _mongoc_gridfs_t;
  Pmongoc_gridfs_t = ^mongoc_gridfs_t;

function mongoc_gridfs_create_file_from_stream(
           gridfs: Pmongoc_gridfs_t;
           stream: Pmongoc_stream_t;
           opt: Pmongoc_gridfs_file_opt_t): Pmongoc_gridfs_file_t; inline;

function mongoc_gridfs_create_file(
           gridfs: Pmongoc_gridfs_t;
           opt: Pmongoc_gridfs_file_opt_t): Pmongoc_gridfs_file_t; inline;

function mongoc_gridfs_find_with_opts(
           gridfs: Pmongoc_gridfs_t;
           filter: Pbson_t;
           opts: Pbson_t): Pmongoc_gridfs_file_list_t; inline;

function mongoc_gridfs_find_one_with_opts(
           gridfs: Pmongoc_gridfs_t;
           filter: Pbson_t;
           opts: Pbson_t;
           error: Pbson_error_t): Pmongoc_gridfs_file_t; inline;

function mongoc_gridfs_find_one_by_filename(
           gridfs: Pmongoc_gridfs_t;
           filename: PAnsiChar;
           error: Pbson_error_t): Pmongoc_gridfs_file_t; inline;

function mongoc_gridfs_drop(
           gridfs: Pmongoc_gridfs_t;
           error: Pbson_error_t): ByteBool; inline;

procedure mongoc_gridfs_destroy(
            gridfs: Pmongoc_gridfs_t); inline;

function mongoc_gridfs_get_files(
           gridfs: Pmongoc_gridfs_t): Pmongoc_collection_t; inline;

function mongoc_gridfs_get_chunks(
           gridfs: Pmongoc_gridfs_t): Pmongoc_collection_t; inline;

function mongoc_gridfs_remove_by_filename(
           gridfs: Pmongoc_gridfs_t;
           filename: PAnsiChar;
           error: Pbson_error_t): ByteBool; inline;

//////////////////////////
// mongoc-stream-gridfs //
//////////////////////////

function mongoc_stream_gridfs_new(
           &file: Pmongoc_gridfs_file_t): Pmongoc_stream_t; inline;

///////////////////
// mongoc-client //
///////////////////

// * This define is part of our public API. But per MongoDB 4.4, there is no
// * longer a size limit on collection names.
const MONGOC_NAMESPACE_MAX = 128;

const MONGOC_DEFAULT_CONNECTTIMEOUTMS = (10 * 1000);

// *
// * NOTE: The default socket timeout for connections is 5 minutes. This
// * means that if your MongoDB server dies or becomes unavailable
// * it will take 5 minutes to detect this.
// *
// * You can change this by providing sockettimeoutms= in your
// * connection URI.
// *
const MONGOC_DEFAULT_SOCKETTIMEOUTMS = (1000 * 60 * 5);

// * *
// * mongoc_client_t:
// *
// * The mongoc_client_t structure maintains information about a connection to
// * a MongoDB server.
// *
type
  _mongoc_client_t = record
  end;
  mongoc_client_t = _mongoc_client_t;
  Pmongoc_client_t = ^mongoc_client_t;

type
  _mongoc_client_session_t = record
  end;
  mongoc_client_session_t = _mongoc_client_session_t;
  Pmongoc_client_session_t = ^mongoc_client_session_t;
type
  _mongoc_session_opt_t = record
  end;
  mongoc_session_opt_t = _mongoc_session_opt_t;
  Pmongoc_session_opt_t = ^mongoc_session_opt_t;
type
  _mongoc_transaction_opt_t = record
  end;
  mongoc_transaction_opt_t = _mongoc_transaction_opt_t;
  Pmongoc_transaction_opt_t = ^mongoc_transaction_opt_t;

// * *
// * mongoc_stream_initiator_t:
// * @uri: The uri and options for the stream.
// * @host: The host and port (or UNIX domain socket path) to connect to.
// * @user_data: The pointer passed to mongoc_client_set_stream_initiator.
// * @error: A location for an error.
// *
// * Creates a new mongoc_stream_t for the host and port. Begin a
// * non-blocking connect and return immediately.
// *
// * This can be used by language bindings to create network transports other
// * than those built into libmongoc. An example of such would be the streams
// * API provided by PHP.
// *
// * Returns: A newly allocated mongoc_stream_t or NULL on failure.
// *
type
  mongoc_stream_initiator_t = function (
    uri: Pmongoc_uri_t;
    host: Pmongoc_host_list_t;
    user_data: Pvoid;
    error: Pbson_error_t): Pmongoc_stream_t; cdecl;

function mongoc_client_new(
           uri_string: PAnsiChar): Pmongoc_client_t; inline;

function mongoc_client_new_from_uri(
           uri: Pmongoc_uri_t): Pmongoc_client_t; inline;

function mongoc_client_new_from_uri_with_error(
           uri: Pmongoc_uri_t;
           error: Pbson_error_t): Pmongoc_client_t; inline;

procedure mongoc_client_set_sockettimeoutms(
            client: Pmongoc_client_t;
            timeoutms: int32_t); inline;

function mongoc_client_get_uri(
           client: Pmongoc_client_t): Pmongoc_uri_t; inline;

procedure mongoc_client_set_stream_initiator(
            client: Pmongoc_client_t;
            initiator: mongoc_stream_initiator_t;
            user_data: Pvoid); inline;

function mongoc_client_command_simple(
           client: Pmongoc_client_t;
           db_name: PAnsiChar;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_read_command_with_opts(
           client: Pmongoc_client_t;
           db_name: PAnsiChar;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_write_command_with_opts(
           client: Pmongoc_client_t;
           db_name: PAnsiChar;
           command: Pbson_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_read_write_command_with_opts(
           client: Pmongoc_client_t;
           db_name: PAnsiChar;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t; // IGNORED
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_command_with_opts(
           client: Pmongoc_client_t;
           db_name: PAnsiChar;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           opts: Pbson_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_command_simple_with_server_id(
           client: Pmongoc_client_t;
           db_name: PAnsiChar;
           command: Pbson_t;
           read_prefs: Pmongoc_read_prefs_t;
           server_id: uint32_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

procedure mongoc_client_destroy(
            client: Pmongoc_client_t); inline;

function mongoc_client_start_session(
           client: Pmongoc_client_t;
           opts: Pmongoc_session_opt_t;
           error: Pbson_error_t): Pmongoc_client_session_t; inline;

function mongoc_client_get_database(
           client: Pmongoc_client_t;
           name: PAnsiChar): Pmongoc_database_t; inline;

function mongoc_client_get_default_database(
           client: Pmongoc_client_t): Pmongoc_database_t; inline;

function mongoc_client_get_gridfs(
           client: Pmongoc_client_t;
           db: PAnsiChar;
           prefix: PAnsiChar;
           error: Pbson_error_t): Pmongoc_gridfs_t; inline;

function mongoc_client_get_collection(
           client: Pmongoc_client_t;
           db: PAnsiChar;
           collection: PAnsiChar): Pmongoc_collection_t; inline;

// BSON_DEPRECATED_FOR(mongoc_client_get_database_names_with_opts)
function mongoc_client_get_database_names(
           client: Pmongoc_client_t;
           error: Pbson_error_t): PPAnsiChar; inline;

function mongoc_client_get_database_names_with_opts(
           client: Pmongoc_client_t;
           opts: Pbson_t;
           error: Pbson_error_t): PPAnsiChar; inline;

// BSON_DEPRECATED_FOR(mongoc_client_find_databases_with_opts)
function mongoc_client_find_databases(
           client: Pmongoc_client_t;
           error: Pbson_error_t): Pmongoc_cursor_t; inline;

function mongoc_client_find_databases_with_opts(
           client: Pmongoc_client_t;
           opts: Pbson_t): Pmongoc_cursor_t; inline;

function mongoc_client_get_write_concern(
           client: Pmongoc_client_t): Pmongoc_write_concern_t; inline;

procedure mongoc_client_set_write_concern(
            client: Pmongoc_client_t;
            write_concern: Pmongoc_write_concern_t); inline;

function mongoc_client_get_read_concern(
           client: Pmongoc_client_t): Pmongoc_read_concern_t; inline;

procedure mongoc_client_set_read_concern(
            client: Pmongoc_client_t;
            read_concern: Pmongoc_read_concern_t); inline;

function mongoc_client_get_read_prefs(
           client: Pmongoc_client_t): Pmongoc_read_prefs_t; inline;

procedure mongoc_client_set_read_prefs(
            client: Pmongoc_client_t;
            read_prefs: Pmongoc_read_prefs_t); inline;

procedure mongoc_client_set_ssl_opts(
            client: Pmongoc_client_t;
            opts: Pmongoc_ssl_opt_t); inline;

function mongoc_client_set_apm_callbacks(
           client: Pmongoc_client_t;
           callbacks: Pmongoc_apm_callbacks_t;
           context: Pvoid): ByteBool; inline;

function mongoc_client_set_structured_log_opts(
           client: Pmongoc_client_t;
           opts: Pmongoc_structured_log_opts_t): ByteBool; inline;

function mongoc_client_get_server_description(
           client: Pmongoc_client_t;
           server_id: uint32_t): Pmongoc_server_description_t; inline;

function mongoc_client_get_server_descriptions(
           client: Pmongoc_client_t;
           n: Psize_t): PPmongoc_server_description_t; inline;

procedure mongoc_server_descriptions_destroy_all(
            sds: PPmongoc_server_description_t;
            n: size_t); inline;

function mongoc_client_select_server(
           client: Pmongoc_client_t;
           for_writes: ByteBool;
           prefs: Pmongoc_read_prefs_t;
           error: Pbson_error_t): Pmongoc_server_description_t; inline;

function mongoc_client_set_error_api(
           client: Pmongoc_client_t;
           version: int32_t): ByteBool; inline;

function mongoc_client_set_appname(
           client: Pmongoc_client_t;
           appname: PAnsiChar): ByteBool; inline;

function mongoc_client_watch(
           client: Pmongoc_client_t;
           pipeline: Pbson_t;
           opts: Pbson_t): Pmongoc_change_stream_t; inline;

procedure mongoc_client_reset(
            client: Pmongoc_client_t); inline;

function mongoc_client_enable_auto_encryption(
           client: Pmongoc_client_t;
           opts: Pmongoc_auto_encryption_opts_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_get_crypt_shared_version(
           client: Pmongoc_client_t): PAnsiChar; inline;

function mongoc_client_set_server_api(
           client: Pmongoc_client_t;
           api: Pmongoc_server_api_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_get_handshake_description(
           client: Pmongoc_client_t;
           server_id: uint32_t;
           opts: Pbson_t;
           error: Pbson_error_t): Pmongoc_server_description_t; inline;

function mongoc_client_set_oidc_callback(
           client: Pmongoc_client_t;
           callback: Pmongoc_oidc_callback_t): ByteBool; inline;

////////////////////////
// mongoc-client-pool //
////////////////////////

type
  _mongoc_client_pool_t = record
  end;
  mongoc_client_pool_t = _mongoc_client_pool_t;
  Pmongoc_client_pool_t = ^mongoc_client_pool_t;

function mongoc_client_pool_new(
           uri: Pmongoc_uri_t): Pmongoc_client_pool_t; inline;

function mongoc_client_pool_new_with_error(
           uri: Pmongoc_uri_t;
           error: Pbson_error_t): Pmongoc_client_pool_t; inline;

procedure mongoc_client_pool_destroy(
            pool: Pmongoc_client_pool_t); inline;

function mongoc_client_pool_pop(
           pool: Pmongoc_client_pool_t): Pmongoc_client_t; inline;

procedure mongoc_client_pool_push(
            pool: Pmongoc_client_pool_t;
            client: Pmongoc_client_t); inline;

function mongoc_client_pool_try_pop(
           pool: Pmongoc_client_pool_t): Pmongoc_client_t; inline;

procedure mongoc_client_pool_max_size(
            pool: Pmongoc_client_pool_t;
            max_pool_size: uint32_t); inline;

procedure mongoc_client_pool_set_ssl_opts(
            pool: Pmongoc_client_pool_t;
            opts: Pmongoc_ssl_opt_t); inline;

function mongoc_client_pool_set_apm_callbacks(
           pool: Pmongoc_client_pool_t;
           callbacks: Pmongoc_apm_callbacks_t;
           context: Pvoid): ByteBool; inline;

function mongoc_client_pool_set_error_api(
           pool: Pmongoc_client_pool_t;
           version: int32_t): ByteBool; inline;

function mongoc_client_pool_set_appname(
           pool: Pmongoc_client_pool_t;
           appname: PAnsiChar): ByteBool; inline;

function mongoc_client_pool_enable_auto_encryption(
           pool: Pmongoc_client_pool_t;
           opts: Pmongoc_auto_encryption_opts_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_pool_set_server_api(
           pool: Pmongoc_client_pool_t;
           api: Pmongoc_server_api_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_pool_set_structured_log_opts(
           pool: Pmongoc_client_pool_t;
           opts: Pmongoc_structured_log_opts_t): ByteBool; inline;

function mongoc_client_pool_set_oidc_callback(
           pool: Pmongoc_client_pool_t;
           callback: Pmongoc_oidc_callback_t): ByteBool; inline;

///////////////////////////
// mongoc-client-session //
///////////////////////////

// * mongoc_client_session_t, mongoc_transaction_opt_t, and
// mongoc_session_opt_t are typedef'ed here

type
  mongoc_client_session_with_transaction_cb_t = function (
    session: Pmongoc_client_session_t;
    ctx: Pvoid;
    reply: PPbson_t;
    error: Pbson_error_t): ByteBool; cdecl;

type
  mongoc_transaction_state_t = (
    MONGOC_TRANSACTION_NONE = 0,
    MONGOC_TRANSACTION_STARTING = 1,
    MONGOC_TRANSACTION_IN_PROGRESS = 2,
    MONGOC_TRANSACTION_COMMITTED = 3,
    MONGOC_TRANSACTION_ABORTED = 4);

// * these options types are named "opt_t" but their functions are named with
// * "opts", for consistency with the older mongoc_ssl_opt_t
function mongoc_transaction_opts_new(): Pmongoc_transaction_opt_t; inline;

function mongoc_transaction_opts_clone(
           opts: Pmongoc_transaction_opt_t): Pmongoc_transaction_opt_t; inline;

procedure mongoc_transaction_opts_destroy(
            opts: Pmongoc_transaction_opt_t); inline;

procedure mongoc_transaction_opts_set_max_commit_time_ms(
            opts: Pmongoc_transaction_opt_t;
            max_commit_time_ms: int64_t); inline;

function mongoc_transaction_opts_get_max_commit_time_ms(
           opts: Pmongoc_transaction_opt_t): int64_t; inline;

procedure mongoc_transaction_opts_set_read_concern(
            opts: Pmongoc_transaction_opt_t;
            read_concern: Pmongoc_read_concern_t); inline;

function mongoc_transaction_opts_get_read_concern(
           opts: Pmongoc_transaction_opt_t): Pmongoc_read_concern_t; inline;

procedure mongoc_transaction_opts_set_write_concern(
            opts: Pmongoc_transaction_opt_t;
            write_concern: Pmongoc_write_concern_t); inline;

function mongoc_transaction_opts_get_write_concern(
           opts: Pmongoc_transaction_opt_t): Pmongoc_write_concern_t; inline;

procedure mongoc_transaction_opts_set_read_prefs(
            opts: Pmongoc_transaction_opt_t;
            read_prefs: Pmongoc_read_prefs_t); inline;

function mongoc_transaction_opts_get_read_prefs(
           opts: Pmongoc_transaction_opt_t): Pmongoc_read_prefs_t; inline;

function mongoc_session_opts_new(): Pmongoc_session_opt_t; inline;

procedure mongoc_session_opts_set_causal_consistency(
            opts: Pmongoc_session_opt_t;
            causal_consistency: ByteBool); inline;

function mongoc_session_opts_get_causal_consistency(
           opts: Pmongoc_session_opt_t): ByteBool; inline;

procedure mongoc_session_opts_set_snapshot(
            opts: Pmongoc_session_opt_t;
            snapshot: ByteBool); inline;

function mongoc_session_opts_get_snapshot(
           opts: Pmongoc_session_opt_t): ByteBool; inline;

procedure mongoc_session_opts_set_default_transaction_opts(
            opts: Pmongoc_session_opt_t;
            txn_opts: Pmongoc_transaction_opt_t); inline;

function mongoc_session_opts_get_default_transaction_opts(
           opts: Pmongoc_session_opt_t): Pmongoc_transaction_opt_t; inline;

function mongoc_session_opts_get_transaction_opts(
           session: Pmongoc_client_session_t): Pmongoc_transaction_opt_t; inline;

function mongoc_session_opts_clone(
           opts: Pmongoc_session_opt_t): Pmongoc_session_opt_t; inline;

procedure mongoc_session_opts_destroy(
            opts: Pmongoc_session_opt_t); inline;

function mongoc_client_session_get_client(
           session: Pmongoc_client_session_t): Pmongoc_client_t; inline;

function mongoc_client_session_get_opts(
           session: Pmongoc_client_session_t): Pmongoc_session_opt_t; inline;

function mongoc_client_session_get_lsid(
           session: Pmongoc_client_session_t): Pbson_t; inline;

function mongoc_client_session_get_cluster_time(
           session: Pmongoc_client_session_t): Pbson_t; inline;

procedure mongoc_client_session_advance_cluster_time(
            session: Pmongoc_client_session_t;
            cluster_time: Pbson_t); inline;

procedure mongoc_client_session_get_operation_time(
            session: Pmongoc_client_session_t;
            timestamp: Puint32_t;
            increment: Puint32_t); inline;

function mongoc_client_session_get_server_id(
           session: Pmongoc_client_session_t): uint32_t; inline;

procedure mongoc_client_session_advance_operation_time(
            session: Pmongoc_client_session_t;
            timestamp: uint32_t;
            increment: uint32_t); inline;

function mongoc_client_session_with_transaction(
           session: Pmongoc_client_session_t;
           cb: mongoc_client_session_with_transaction_cb_t;
           opts: Pmongoc_transaction_opt_t;
           ctx: Pvoid;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_session_start_transaction(
           session: Pmongoc_client_session_t;
           opts: Pmongoc_transaction_opt_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_session_in_transaction(
           session: Pmongoc_client_session_t): ByteBool; inline;

function mongoc_client_session_get_transaction_state(
           session: Pmongoc_client_session_t): mongoc_transaction_state_t; inline;

function mongoc_client_session_commit_transaction(
           session: Pmongoc_client_session_t;
           reply: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_session_abort_transaction(
           session: Pmongoc_client_session_t;
           error: Pbson_error_t): ByteBool; inline;

function mongoc_client_session_append(
           client_session: Pmongoc_client_session_t;
           opts: Pbson_t;
           error: Pbson_error_t): ByteBool; inline;

// * There is no mongoc_client_session_end, only mongoc_client_session_destroy.
// * Driver Sessions Spec: "In languages that have idiomatic ways of disposing of
// * resources, drivers SHOULD support that in addition to or instead of
// * endSession."
// *

procedure mongoc_client_session_destroy(
            session: Pmongoc_client_session_t); inline;

function mongoc_client_session_get_dirty(
           session: Pmongoc_client_session_t): ByteBool; inline;

//////////////////////
// mongoc-bulkwrite //
//////////////////////

type
  _mongoc_bulkwriteopts_t = record
  end;
  mongoc_bulkwriteopts_t = _mongoc_bulkwriteopts_t;
  Pmongoc_bulkwriteopts_t = ^mongoc_bulkwriteopts_t;
function mongoc_bulkwriteopts_new(): Pmongoc_bulkwriteopts_t; inline;
procedure mongoc_bulkwriteopts_set_ordered(
            self: Pmongoc_bulkwriteopts_t;
            ordered: ByteBool); inline;
procedure mongoc_bulkwriteopts_set_bypassdocumentvalidation(
            self: Pmongoc_bulkwriteopts_t;
            bypassdocumentvalidation: ByteBool); inline;
procedure mongoc_bulkwriteopts_set_let(
            self: Pmongoc_bulkwriteopts_t;
            let: Pbson_t); inline;
procedure mongoc_bulkwriteopts_set_writeconcern(
            self: Pmongoc_bulkwriteopts_t;
            writeconcern: Pmongoc_write_concern_t); inline;
procedure mongoc_bulkwriteopts_set_comment(
            self: Pmongoc_bulkwriteopts_t;
            comment: Pbson_value_t); inline;
procedure mongoc_bulkwriteopts_set_verboseresults(
            self: Pmongoc_bulkwriteopts_t;
            verboseresults: ByteBool); inline;
// `mongoc_bulkwriteopts_set_extra` appends `extra` to bulkWrite command.
// It is intended to support future server options.
procedure mongoc_bulkwriteopts_set_extra(
            self: Pmongoc_bulkwriteopts_t;
            extra: Pbson_t); inline;
// `mongoc_bulkwriteopts_set_serverid` identifies which server to perform the operation. This is intended for use by
// wrapping drivers that select a server before running the operation.
procedure mongoc_bulkwriteopts_set_serverid(
            self: Pmongoc_bulkwriteopts_t;
            serverid: uint32_t); inline;
procedure mongoc_bulkwriteopts_destroy(
            self: Pmongoc_bulkwriteopts_t); inline;

type
  _mongoc_bulkwriteresult_t = record
  end;
  mongoc_bulkwriteresult_t = _mongoc_bulkwriteresult_t;
  Pmongoc_bulkwriteresult_t = ^mongoc_bulkwriteresult_t;
function mongoc_bulkwriteresult_insertedcount(
           self: Pmongoc_bulkwriteresult_t): int64_t; inline;
function mongoc_bulkwriteresult_upsertedcount(
           self: Pmongoc_bulkwriteresult_t): int64_t; inline;
function mongoc_bulkwriteresult_matchedcount(
           self: Pmongoc_bulkwriteresult_t): int64_t; inline;
function mongoc_bulkwriteresult_modifiedcount(
           self: Pmongoc_bulkwriteresult_t): int64_t; inline;
function mongoc_bulkwriteresult_deletedcount(
           self: Pmongoc_bulkwriteresult_t): int64_t; inline;
// `mongoc_bulkwriteresult_insertresults` returns a BSON document mapping model indexes to insert results.
// Example:
// {
// "0" : { "insertedId" : "foo" },
// "1" : { "insertedId" : "bar" }
// }
// Returns NULL if verbose results were not requested.
function mongoc_bulkwriteresult_insertresults(
           self: Pmongoc_bulkwriteresult_t): Pbson_t; inline;
// `mongoc_bulkwriteresult_updateresults` returns a BSON document mapping model indexes to update results.
// Example:
// {
// "0" : { "matchedCount" : 2, "modifiedCount" : 2 },
// "1" : { "matchedCount" : 1, "modifiedCount" : 0, "upsertedId" : "foo" }
// }
// Returns NULL if verbose results were not requested.
function mongoc_bulkwriteresult_updateresults(
           self: Pmongoc_bulkwriteresult_t): Pbson_t; inline;
// `mongoc_bulkwriteresult_deleteresults` returns a BSON document mapping model indexes to delete results.
// Example:
// {
// "0" : { "deletedCount" : 1 },
// "1" : { "deletedCount" : 2 }
// }
// Returns NULL if verbose results were not requested.
function mongoc_bulkwriteresult_deleteresults(
           self: Pmongoc_bulkwriteresult_t): Pbson_t; inline;
// `mongoc_bulkwriteresult_serverid` identifies the most recently selected server. This may differ from a
// previously set serverid if a retry occurred. A server ID of 0 indicates that no server was successfully selected.
// This is intended for use by wrapping drivers that select a server before running the operation.
function mongoc_bulkwriteresult_serverid(
           self: Pmongoc_bulkwriteresult_t): uint32_t; inline;
procedure mongoc_bulkwriteresult_destroy(
            self: Pmongoc_bulkwriteresult_t); inline;

type
  _mongoc_bulkwriteexception_t = record
  end;
  mongoc_bulkwriteexception_t = _mongoc_bulkwriteexception_t;
  Pmongoc_bulkwriteexception_t = ^mongoc_bulkwriteexception_t;
// Returns true if there was a top-level error.
function mongoc_bulkwriteexception_error(
           self: Pmongoc_bulkwriteexception_t;
           error: Pbson_error_t): ByteBool; inline;
// `mongoc_bulkwriteexception_writeerrors` returns a BSON document mapping model indexes to write errors.
// Example:
// {
// "0" : { "code" : 123, "message" : "foo", "details" : { } },
// "1" : { "code" : 456, "message" : "bar", "details" : { } }
// }
// Returns an empty document if there are no write errors.
function mongoc_bulkwriteexception_writeerrors(
           self: Pmongoc_bulkwriteexception_t): Pbson_t; inline;
// `mongoc_bulkwriteexception_writeconcernerrors` returns a BSON array of write concern errors.
// Example:
// [
// { "code" : 123, "message" : "foo", "details" : { } },
// { "code" : 456, "message" : "bar", "details" : { } }
// ]
// Returns an empty array if there are no write concern errors.
function mongoc_bulkwriteexception_writeconcernerrors(
           self: Pmongoc_bulkwriteexception_t): Pbson_t; inline;
// `mongoc_bulkwriteexception_errorreply` returns a possible server reply related to the error, or an empty document.
function mongoc_bulkwriteexception_errorreply(
           self: Pmongoc_bulkwriteexception_t): Pbson_t; inline;
procedure mongoc_bulkwriteexception_destroy(
            self: Pmongoc_bulkwriteexception_t); inline;

type
  _mongoc_bulkwrite_t = record
  end;
  mongoc_bulkwrite_t = _mongoc_bulkwrite_t;
  Pmongoc_bulkwrite_t = ^mongoc_bulkwrite_t;
function mongoc_client_bulkwrite_new(
           self: Pmongoc_client_t): Pmongoc_bulkwrite_t; inline;

type
  _mongoc_bulkwrite_insertoneopts_t = record
  end;
  mongoc_bulkwrite_insertoneopts_t = _mongoc_bulkwrite_insertoneopts_t;
  Pmongoc_bulkwrite_insertoneopts_t = ^mongoc_bulkwrite_insertoneopts_t;
function mongoc_bulkwrite_insertoneopts_new(): Pmongoc_bulkwrite_insertoneopts_t; inline;
procedure mongoc_bulkwrite_insertoneopts_destroy(
            self: Pmongoc_bulkwrite_insertoneopts_t); inline;
function mongoc_bulkwrite_append_insertone(
           self: Pmongoc_bulkwrite_t;
           ns: PAnsiChar;
           document: Pbson_t;
           opts: Pmongoc_bulkwrite_insertoneopts_t; // May be NULL
           error: Pbson_error_t): ByteBool; inline;

type
  _mongoc_bulkwrite_updateoneopts_t = record
  end;
  mongoc_bulkwrite_updateoneopts_t = _mongoc_bulkwrite_updateoneopts_t;
  Pmongoc_bulkwrite_updateoneopts_t = ^mongoc_bulkwrite_updateoneopts_t;
function mongoc_bulkwrite_updateoneopts_new(): Pmongoc_bulkwrite_updateoneopts_t; inline;
procedure mongoc_bulkwrite_updateoneopts_set_arrayfilters(
            self: Pmongoc_bulkwrite_updateoneopts_t;
            arrayfilters: Pbson_t); inline;
procedure mongoc_bulkwrite_updateoneopts_set_collation(
            self: Pmongoc_bulkwrite_updateoneopts_t;
            collation: Pbson_t); inline;
procedure mongoc_bulkwrite_updateoneopts_set_hint(
            self: Pmongoc_bulkwrite_updateoneopts_t;
            hint: Pbson_value_t); inline;
procedure mongoc_bulkwrite_updateoneopts_set_upsert(
            self: Pmongoc_bulkwrite_updateoneopts_t;
            upsert: ByteBool); inline;
procedure mongoc_bulkwrite_updateoneopts_set_sort(
            self: Pmongoc_bulkwrite_updateoneopts_t;
            sort: Pbson_t); inline;
procedure mongoc_bulkwrite_updateoneopts_destroy(
            self: Pmongoc_bulkwrite_updateoneopts_t); inline;
function mongoc_bulkwrite_append_updateone(
           self: Pmongoc_bulkwrite_t;
           ns: PAnsiChar;
           filter: Pbson_t;
           update: Pbson_t;
           opts: Pmongoc_bulkwrite_updateoneopts_t; // May be NULL
           error: Pbson_error_t): ByteBool; inline;

type
  _mongoc_bulkwrite_updatemanyopts_t = record
  end;
  mongoc_bulkwrite_updatemanyopts_t = _mongoc_bulkwrite_updatemanyopts_t;
  Pmongoc_bulkwrite_updatemanyopts_t = ^mongoc_bulkwrite_updatemanyopts_t;
function mongoc_bulkwrite_updatemanyopts_new(): Pmongoc_bulkwrite_updatemanyopts_t; inline;
procedure mongoc_bulkwrite_updatemanyopts_set_arrayfilters(
            self: Pmongoc_bulkwrite_updatemanyopts_t;
            arrayfilters: Pbson_t); inline;
procedure mongoc_bulkwrite_updatemanyopts_set_collation(
            self: Pmongoc_bulkwrite_updatemanyopts_t;
            collation: Pbson_t); inline;
procedure mongoc_bulkwrite_updatemanyopts_set_hint(
            self: Pmongoc_bulkwrite_updatemanyopts_t;
            hint: Pbson_value_t); inline;
procedure mongoc_bulkwrite_updatemanyopts_set_upsert(
            self: Pmongoc_bulkwrite_updatemanyopts_t;
            upsert: ByteBool); inline;
procedure mongoc_bulkwrite_updatemanyopts_destroy(
            self: Pmongoc_bulkwrite_updatemanyopts_t); inline;
function mongoc_bulkwrite_append_updatemany(
           self: Pmongoc_bulkwrite_t;
           ns: PAnsiChar;
           filter: Pbson_t;
           update: Pbson_t;
           opts: Pmongoc_bulkwrite_updatemanyopts_t; // May be NULL
           error: Pbson_error_t): ByteBool; inline;

type
  _mongoc_bulkwrite_replaceoneopts_t = record
  end;
  mongoc_bulkwrite_replaceoneopts_t = _mongoc_bulkwrite_replaceoneopts_t;
  Pmongoc_bulkwrite_replaceoneopts_t = ^mongoc_bulkwrite_replaceoneopts_t;
function mongoc_bulkwrite_replaceoneopts_new(): Pmongoc_bulkwrite_replaceoneopts_t; inline;
procedure mongoc_bulkwrite_replaceoneopts_set_collation(
            self: Pmongoc_bulkwrite_replaceoneopts_t;
            collation: Pbson_t); inline;
procedure mongoc_bulkwrite_replaceoneopts_set_hint(
            self: Pmongoc_bulkwrite_replaceoneopts_t;
            hint: Pbson_value_t); inline;
procedure mongoc_bulkwrite_replaceoneopts_set_upsert(
            self: Pmongoc_bulkwrite_replaceoneopts_t;
            upsert: ByteBool); inline;
procedure mongoc_bulkwrite_replaceoneopts_set_sort(
            self: Pmongoc_bulkwrite_replaceoneopts_t;
            sort: Pbson_t); inline;
procedure mongoc_bulkwrite_replaceoneopts_destroy(
            self: Pmongoc_bulkwrite_replaceoneopts_t); inline;
function mongoc_bulkwrite_append_replaceone(
           self: Pmongoc_bulkwrite_t;
           ns: PAnsiChar;
           filter: Pbson_t;
           replacement: Pbson_t;
           opts: Pmongoc_bulkwrite_replaceoneopts_t; // May be NULL
           error: Pbson_error_t): ByteBool; inline;

type
  _mongoc_bulkwrite_deleteoneopts_t = record
  end;
  mongoc_bulkwrite_deleteoneopts_t = _mongoc_bulkwrite_deleteoneopts_t;
  Pmongoc_bulkwrite_deleteoneopts_t = ^mongoc_bulkwrite_deleteoneopts_t;
function mongoc_bulkwrite_deleteoneopts_new(): Pmongoc_bulkwrite_deleteoneopts_t; inline;
procedure mongoc_bulkwrite_deleteoneopts_set_collation(
            self: Pmongoc_bulkwrite_deleteoneopts_t;
            collation: Pbson_t); inline;
procedure mongoc_bulkwrite_deleteoneopts_set_hint(
            self: Pmongoc_bulkwrite_deleteoneopts_t;
            hint: Pbson_value_t); inline;
procedure mongoc_bulkwrite_deleteoneopts_destroy(
            self: Pmongoc_bulkwrite_deleteoneopts_t); inline;
function mongoc_bulkwrite_append_deleteone(
           self: Pmongoc_bulkwrite_t;
           ns: PAnsiChar;
           filter: Pbson_t;
           opts: Pmongoc_bulkwrite_deleteoneopts_t; // May be NULL
           error: Pbson_error_t): ByteBool; inline;

type
  _mongoc_bulkwrite_deletemanyopts_t = record
  end;
  mongoc_bulkwrite_deletemanyopts_t = _mongoc_bulkwrite_deletemanyopts_t;
  Pmongoc_bulkwrite_deletemanyopts_t = ^mongoc_bulkwrite_deletemanyopts_t;
function mongoc_bulkwrite_deletemanyopts_new(): Pmongoc_bulkwrite_deletemanyopts_t; inline;
procedure mongoc_bulkwrite_deletemanyopts_set_collation(
            self: Pmongoc_bulkwrite_deletemanyopts_t;
            collation: Pbson_t); inline;
procedure mongoc_bulkwrite_deletemanyopts_set_hint(
            self: Pmongoc_bulkwrite_deletemanyopts_t;
            hint: Pbson_value_t); inline;
procedure mongoc_bulkwrite_deletemanyopts_destroy(
            self: Pmongoc_bulkwrite_deletemanyopts_t); inline;
function mongoc_bulkwrite_append_deletemany(
           self: Pmongoc_bulkwrite_t;
           ns: PAnsiChar;
           filter: Pbson_t;
           opts: Pmongoc_bulkwrite_deletemanyopts_t; // May be NULL
           error: Pbson_error_t): ByteBool; inline;

// `mongoc_bulkwritereturn_t` may outlive `mongoc_bulkwrite_t`.
type
  mongoc_bulkwritereturn_t = record
    res: Pmongoc_bulkwriteresult_t; // NULL if no known successful writes or write was unacknowledged.
    exc: Pmongoc_bulkwriteexception_t; // NULL if no error.
  end;

// `mongoc_bulkwrite_new` and `mongoc_bulkwrite_set_client` may be used by
// language bindings that want to assemble a `mongoc_bulkwrite_t` and defer
// `mongoc_client_t` assignment to execution time.
function mongoc_bulkwrite_new(): Pmongoc_bulkwrite_t; inline;
procedure mongoc_bulkwrite_set_client(
            self: Pmongoc_bulkwrite_t;
            client: Pmongoc_client_t); inline;
// `mongoc_bulkwrite_set_session` sets an optional explicit session.
// ` * session` may be modified when `mongoc_bulkwrite_execute` is called.
procedure mongoc_bulkwrite_set_session(
            self: Pmongoc_bulkwrite_t;
            session: Pmongoc_client_session_t); inline;
// `mongoc_bulkwrite_execute` executes a bulk write operation.
function mongoc_bulkwrite_execute(
           self: Pmongoc_bulkwrite_t;
           opts: Pmongoc_bulkwriteopts_t): mongoc_bulkwritereturn_t; inline;

type
  mongoc_bulkwrite_check_acknowledged_t = record
    is_ok: ByteBool; // true if no error
    is_acknowledged: ByteBool; // true if the previous call to `mongoc_bulkwrite_execute` used an acknowledged write concern
  end;

// `mongoc_bulkwrite_check_acknowledged` checks whether or not the previous call to `mongoc_bulkwrite_execute` used an
// acknowledged write concern.
function mongoc_bulkwrite_check_acknowledged(
           self: Pmongoc_bulkwrite_t;
           error: Pbson_error_t): mongoc_bulkwrite_check_acknowledged_t; inline;

type
  mongoc_bulkwrite_serverid_t = record
    is_ok: ByteBool; // true if no error
    serverid: uint32_t; // the server ID last used in `mongoc_bulkwrite_execute`
  end;

// `mongoc_bulkwrite_serverid` identifies the most recently selected server. This may differ from a previously set
// serverid if a retry occurred. Unlike `mongoc_bulkwriteresult_serverid`, this can be used for unacknowledged writes.
// For acknowledged writes, `mongoc_bulkwrite_serverid` and `mongoc_bulkwriteresult_serverid` report the same server
// ID.
function mongoc_bulkwrite_serverid(
           self: Pmongoc_bulkwrite_t;
           error: Pbson_error_t): mongoc_bulkwrite_serverid_t; inline;

procedure mongoc_bulkwrite_destroy(
            self: Pmongoc_bulkwrite_t); inline;

//////////////////
// mongoc-sleep //
//////////////////

// * *
// * mongoc_usleep_func_t:
// * @usec: Number of microseconds to sleep for.
// * @user_data: User data provided to mongoc_client_set_usleep_impl().
// *
type
  mongoc_usleep_func_t = procedure (
    usec: int64_t;
    user_data: Pvoid); cdecl;

// * *
// * mongoc_client_set_usleep_impl:
// * @usleep_func: A function to perform microsecond sleep.
// *
// * Sets the function to be called to perform sleep during scanning.
// * Returns the old function.
// * If old_user_data is not NULL, * old_user_data is set to the old user_data.
// * Not thread-safe.
// * Providing a `usleep_func` that does not sleep (e.g. coroutine suspension) is
// * not supported. Doing so is at the user's own risk.
// *
procedure mongoc_client_set_usleep_impl(
            client: Pmongoc_client_t;
            usleep_func: mongoc_usleep_func_t;
            user_data: Pvoid); inline;

procedure mongoc_usleep_default_impl(
            usec: int64_t;
            user_data: Pvoid); inline;

////////////
// mongoc //
////////////

// #define MONGOC_INSIDE

///////////////////////
// TALMongoDBLibrary //
///////////////////////

type
  TALMongoDBLibrary = class(TObject)
  private
    Fbson2Lib: THandle;
    Fmongoc2Lib: THandle;
  public
    bson_set_error: procedure(error: Pbson_error_t; domain: uint32_t; code: uint32_t; format: PAnsiChar); cdecl;
    bson_strerror_r: function(err_code: Integer; buf: PAnsiChar; buflen: size_t): PAnsiChar; cdecl;
    bson_mem_set_vtable: procedure(vtable: Pbson_mem_vtable_t); cdecl;
    bson_mem_restore_vtable: procedure(); cdecl;
    bson_malloc: function(num_bytes: size_t): Pvoid; cdecl;
    bson_malloc0: function(num_bytes: size_t): Pvoid; cdecl;
    bson_aligned_alloc: function(alignment: size_t; num_bytes: size_t): Pvoid; cdecl;
    bson_aligned_alloc0: function(alignment: size_t; num_bytes: size_t): Pvoid; cdecl;
    bson_array_alloc: function(num_elems: size_t; elem_size: size_t): Pvoid; cdecl;
    bson_array_alloc0: function(num_elems: size_t; elem_size: size_t): Pvoid; cdecl;
    bson_realloc: function(mem: Pvoid; num_bytes: size_t): Pvoid; cdecl;
    bson_realloc_ctx: function(mem: Pvoid; num_bytes: size_t; ctx: Pvoid): Pvoid; cdecl;
    bson_free: procedure(mem: Pvoid); cdecl;
    bson_zero_free: procedure(mem: Pvoid; size: size_t); cdecl;
    bson_writer_new: function(buf: PPuint8_t; buflen: Psize_t; offset: size_t; realloc_func: bson_realloc_func; realloc_func_ctx: Pvoid): Pbson_writer_t; cdecl;
    bson_writer_destroy: procedure(writer: Pbson_writer_t); cdecl;
    bson_writer_get_length: function(writer: Pbson_writer_t): size_t; cdecl;
    bson_writer_begin: function(writer: Pbson_writer_t; bson: PPbson_t): ByteBool; cdecl;
    bson_writer_end: procedure(writer: Pbson_writer_t); cdecl;
    bson_writer_rollback: procedure(writer: Pbson_writer_t); cdecl;
    bson_context_new: function(flags: bson_context_flags_t): Pbson_context_t; cdecl;
    bson_context_destroy: procedure(context: Pbson_context_t); cdecl;
    bson_context_get_default: function(): Pbson_context_t; cdecl;
    bson_get_monotonic_time: function(): int64_t; cdecl;
    bson_gettimeofday: function(tv: Ptimeval): Integer; cdecl;
    bson_decimal128_to_string: procedure(dec: Pbson_decimal128_t; str: PAnsiChar); cdecl;
    bson_decimal128_from_string: function(&string: PAnsiChar; dec: Pbson_decimal128_t): ByteBool; cdecl;
    bson_decimal128_from_string_w_len: function(&string: PAnsiChar; len: Integer; dec: Pbson_decimal128_t): ByteBool; cdecl;
    bson_json_opts_new: function(mode: bson_json_mode_t; max_len: int32_t): Pbson_json_opts_t; cdecl;
    bson_json_opts_destroy: procedure(opts: Pbson_json_opts_t); cdecl;
    bson_json_opts_set_outermost_array: procedure(opts: Pbson_json_opts_t; is_outermost_array: ByteBool); cdecl;
    bson_json_reader_new: function(data: Pvoid; cb: bson_json_reader_cb; dcb: bson_json_destroy_cb; allow_multiple: ByteBool; buf_size: size_t): Pbson_json_reader_t; cdecl;
    bson_json_reader_new_from_fd: function(fd: Integer; close_on_destroy: ByteBool): Pbson_json_reader_t; cdecl;
    bson_json_reader_new_from_file: function(filename: PAnsiChar; error: Pbson_error_t): Pbson_json_reader_t; cdecl;
    bson_json_reader_destroy: procedure(reader: Pbson_json_reader_t); cdecl;
    bson_json_reader_read: function(reader: Pbson_json_reader_t; bson: Pbson_t; error: Pbson_error_t): Integer; cdecl;
    bson_json_data_reader_new: function(allow_multiple: ByteBool; size: size_t): Pbson_json_reader_t; cdecl;
    bson_json_data_reader_ingest: procedure(reader: Pbson_json_reader_t; data: Puint8_t; len: size_t); cdecl;
    bson_uint32_to_string: function(value: uint32_t; strptr: PPAnsiChar; str: PAnsiChar; size: size_t): size_t; cdecl;
    bson_strdup: function(str: PAnsiChar): PAnsiChar; cdecl;
    bson_strdup_printf: function(format: PAnsiChar): PAnsiChar; cdecl;
    bson_strdupv_printf: function(format: PAnsiChar; args: va_list): PAnsiChar; cdecl;
    bson_strndup: function(str: PAnsiChar; n_bytes: size_t): PAnsiChar; cdecl;
    bson_strncpy: procedure(dst: PAnsiChar; src: PAnsiChar; size: size_t); cdecl;
    bson_vsnprintf: function(str: PAnsiChar; size: size_t; format: PAnsiChar; ap: va_list): Integer; cdecl;
    bson_snprintf: function(str: PAnsiChar; size: size_t; format: PAnsiChar): Integer; cdecl;
    bson_strfreev: procedure(strv: PPAnsiChar); cdecl;
    bson_strnlen: function(s: PAnsiChar; maxlen: size_t): size_t; cdecl;
    bson_ascii_strtoll: function(str: PAnsiChar; endptr: PPAnsiChar; base: Integer): int64_t; cdecl;
    bson_strcasecmp: function(s1: PAnsiChar; s2: PAnsiChar): Integer; cdecl;
    bson_isspace: function(c: Integer): ByteBool; cdecl;
    bson_utf8_validate: function(utf8: PAnsiChar; utf8_len: size_t; allow_null: ByteBool): ByteBool; cdecl;
    bson_utf8_escape_for_json: function(utf8: PAnsiChar; utf8_len: ssize_t): PAnsiChar; cdecl;
    bson_utf8_get_char: function(utf8: PAnsiChar): bson_unichar_t; cdecl;
    bson_utf8_next_char: function(utf8: PAnsiChar): PAnsiChar; cdecl;
    bson_utf8_from_unichar: procedure(unichar: bson_unichar_t; utf8: TCharArray6; len: Puint32_t); cdecl;
    bson_value_copy: procedure(src: Pbson_value_t; dst: Pbson_value_t); cdecl;
    bson_value_destroy: procedure(value: Pbson_value_t); cdecl;
    bson_get_major_version: function(): Integer; cdecl;
    bson_get_minor_version: function(): Integer; cdecl;
    bson_get_micro_version: function(): Integer; cdecl;
    bson_get_version: function(): PAnsiChar; cdecl;
    bson_check_version: function(required_major: Integer; required_minor: Integer; required_micro: Integer): ByteBool; cdecl;
    bcon_append: procedure(bson: Pbson_t); cdecl;
    bcon_append_ctx: procedure(bson: Pbson_t; ctx: Pbcon_append_ctx_t); cdecl;
    bcon_append_ctx_va: procedure(bson: Pbson_t; ctx: Pbcon_append_ctx_t; va: Pva_list); cdecl;
    bcon_append_ctx_init: procedure(ctx: Pbcon_append_ctx_t); cdecl;
    bcon_extract_ctx_init: procedure(ctx: Pbcon_extract_ctx_t); cdecl;
    bcon_extract_ctx: procedure(bson: Pbson_t; ctx: Pbcon_extract_ctx_t); cdecl;
    bcon_extract_ctx_va: function(bson: Pbson_t; ctx: Pbcon_extract_ctx_t; ap: Pva_list): ByteBool; cdecl;
    bcon_extract: function(bson: Pbson_t): ByteBool; cdecl;
    bcon_new: function(unused: Pvoid): Pbson_t; cdecl;
    bson_bcon_magic: function(): PAnsiChar; cdecl;
    bson_bcone_magic: function(): PAnsiChar; cdecl;
    bson_reader_new_from_handle: function(handle: Pvoid; rf: bson_reader_read_func_t; df: bson_reader_destroy_func_t): Pbson_reader_t; cdecl;
    bson_reader_new_from_fd: function(fd: Integer; close_on_destroy: ByteBool): Pbson_reader_t; cdecl;
    bson_reader_new_from_file: function(path: PAnsiChar; error: Pbson_error_t): Pbson_reader_t; cdecl;
    bson_reader_new_from_data: function(data: Puint8_t; length: size_t): Pbson_reader_t; cdecl;
    bson_reader_destroy: procedure(reader: Pbson_reader_t); cdecl;
    bson_reader_set_read_func: procedure(reader: Pbson_reader_t; func: bson_reader_read_func_t); cdecl;
    bson_reader_set_destroy_func: procedure(reader: Pbson_reader_t; func: bson_reader_destroy_func_t); cdecl;
    bson_reader_read: function(reader: Pbson_reader_t; reached_eof: PByteBool): Pbson_t; cdecl;
    bson_reader_tell: function(reader: Pbson_reader_t): off_t; cdecl;
    bson_reader_reset: procedure(reader: Pbson_reader_t); cdecl;
    bson_oid_compare: function(oid1: Pbson_oid_t; oid2: Pbson_oid_t): Integer; cdecl;
    bson_oid_copy: procedure(src: Pbson_oid_t; dst: Pbson_oid_t); cdecl;
    bson_oid_equal: function(oid1: Pbson_oid_t; oid2: Pbson_oid_t): ByteBool; cdecl;
    bson_oid_is_valid: function(str: PAnsiChar; length: size_t): ByteBool; cdecl;
    bson_oid_get_time_t: function(oid: Pbson_oid_t): time_t; cdecl;
    bson_oid_hash: function(oid: Pbson_oid_t): uint32_t; cdecl;
    bson_oid_init: procedure(oid: Pbson_oid_t; context: Pbson_context_t); cdecl;
    bson_oid_init_from_data: procedure(oid: Pbson_oid_t; data: Puint8_t); cdecl;
    bson_oid_init_from_string: procedure(oid: Pbson_oid_t; str: PAnsiChar); cdecl;
    bson_oid_to_string: procedure(oid: Pbson_oid_t; str: TCharArray25); cdecl;
    bson_iter_value: function(iter: Pbson_iter_t): Pbson_value_t; cdecl;
    bson_iter_array: procedure(iter: Pbson_iter_t; array_len: Puint32_t; &array: PPuint8_t); cdecl;
    bson_iter_binary: procedure(iter: Pbson_iter_t; subtype: Pbson_subtype_t; binary_len: Puint32_t; binary: PPuint8_t); cdecl;
    bson_iter_overwrite_binary: procedure(iter: Pbson_iter_t; subtype: bson_subtype_t; binary_len: Puint32_t; binary: PPuint8_t); cdecl;
    bson_iter_binary_subtype: function(iter: Pbson_iter_t): bson_subtype_t; cdecl;
    bson_iter_binary_equal: function(iter_a: Pbson_iter_t; iter_b: Pbson_iter_t): ByteBool; cdecl;
    bson_iter_code: function(iter: Pbson_iter_t; length: Puint32_t): PAnsiChar; cdecl;
    bson_iter_codewscope: function(iter: Pbson_iter_t; length: Puint32_t; scope_len: Puint32_t; scope: PPuint8_t): PAnsiChar; cdecl;
    bson_iter_dbpointer: procedure(iter: Pbson_iter_t; collection_len: Puint32_t; collection: PPAnsiChar; oid: PPbson_oid_t); cdecl;
    bson_iter_document: procedure(iter: Pbson_iter_t; document_len: Puint32_t; document: PPuint8_t); cdecl;
    bson_iter_double: function(iter: Pbson_iter_t): double; cdecl;
    bson_iter_as_double: function(iter: Pbson_iter_t): double; cdecl;
    bson_iter_init: function(iter: Pbson_iter_t; bson: Pbson_t): ByteBool; cdecl;
    bson_iter_init_from_data: function(iter: Pbson_iter_t; data: Puint8_t; length: size_t): ByteBool; cdecl;
    bson_iter_init_find: function(iter: Pbson_iter_t; bson: Pbson_t; key: PAnsiChar): ByteBool; cdecl;
    bson_iter_init_find_w_len: function(iter: Pbson_iter_t; bson: Pbson_t; key: PAnsiChar; keylen: Integer): ByteBool; cdecl;
    bson_iter_init_find_case: function(iter: Pbson_iter_t; bson: Pbson_t; key: PAnsiChar): ByteBool; cdecl;
    bson_iter_init_from_data_at_offset: function(iter: Pbson_iter_t; data: Puint8_t; length: size_t; offset: uint32_t; keylen: uint32_t): ByteBool; cdecl;
    bson_iter_int32: function(iter: Pbson_iter_t): int32_t; cdecl;
    bson_iter_int64: function(iter: Pbson_iter_t): int64_t; cdecl;
    bson_iter_as_int64: function(iter: Pbson_iter_t): int64_t; cdecl;
    bson_iter_find: function(iter: Pbson_iter_t; key: PAnsiChar): ByteBool; cdecl;
    bson_iter_find_w_len: function(iter: Pbson_iter_t; key: PAnsiChar; keylen: Integer): ByteBool; cdecl;
    bson_iter_find_case: function(iter: Pbson_iter_t; key: PAnsiChar): ByteBool; cdecl;
    bson_iter_find_descendant: function(iter: Pbson_iter_t; dotkey: PAnsiChar; descendant: Pbson_iter_t): ByteBool; cdecl;
    bson_iter_next: function(iter: Pbson_iter_t): ByteBool; cdecl;
    bson_iter_oid: function(iter: Pbson_iter_t): Pbson_oid_t; cdecl;
    bson_iter_decimal128: function(iter: Pbson_iter_t; dec: Pbson_decimal128_t): ByteBool; cdecl;
    bson_iter_key: function(iter: Pbson_iter_t): PAnsiChar; cdecl;
    bson_iter_key_len: function(iter: Pbson_iter_t): uint32_t; cdecl;
    bson_iter_utf8: function(iter: Pbson_iter_t; length: Puint32_t): PAnsiChar; cdecl;
    bson_iter_dup_utf8: function(iter: Pbson_iter_t; length: Puint32_t): PAnsiChar; cdecl;
    bson_iter_date_time: function(iter: Pbson_iter_t): int64_t; cdecl;
    bson_iter_time_t: function(iter: Pbson_iter_t): time_t; cdecl;
    bson_iter_timeval: procedure(iter: Pbson_iter_t; tv: Ptimeval); cdecl;
    bson_iter_timestamp: procedure(iter: Pbson_iter_t; timestamp: Puint32_t; increment: Puint32_t); cdecl;
    bson_iter_bool: function(iter: Pbson_iter_t): ByteBool; cdecl;
    bson_iter_as_bool: function(iter: Pbson_iter_t): ByteBool; cdecl;
    bson_iter_regex: function(iter: Pbson_iter_t; options: PPAnsiChar): PAnsiChar; cdecl;
    bson_iter_symbol: function(iter: Pbson_iter_t; length: Puint32_t): PAnsiChar; cdecl;
    bson_iter_type: function(iter: Pbson_iter_t): bson_type_t; cdecl;
    bson_iter_recurse: function(iter: Pbson_iter_t; child: Pbson_iter_t): ByteBool; cdecl;
    bson_iter_overwrite_int32: procedure(iter: Pbson_iter_t; value: int32_t); cdecl;
    bson_iter_overwrite_int64: procedure(iter: Pbson_iter_t; value: int64_t); cdecl;
    bson_iter_overwrite_double: procedure(iter: Pbson_iter_t; value: double); cdecl;
    bson_iter_overwrite_decimal128: procedure(iter: Pbson_iter_t; value: Pbson_decimal128_t); cdecl;
    bson_iter_overwrite_bool: procedure(iter: Pbson_iter_t; value: ByteBool); cdecl;
    bson_iter_overwrite_oid: procedure(iter: Pbson_iter_t; value: Pbson_oid_t); cdecl;
    bson_iter_overwrite_timestamp: procedure(iter: Pbson_iter_t; timestamp: uint32_t; increment: uint32_t); cdecl;
    bson_iter_overwrite_date_time: procedure(iter: Pbson_iter_t; value: int64_t); cdecl;
    bson_iter_visit_all: function(iter: Pbson_iter_t; visitor: Pbson_visitor_t; data: Pvoid): ByteBool; cdecl;
    bson_iter_offset: function(iter: Pbson_iter_t): uint32_t; cdecl;
    bson_vector_int8_view_init: function(view_out: Pbson_vector_int8_view_t; binary_data: Puint8_t; binary_data_len: uint32_t): ByteBool; cdecl;
    bson_vector_int8_const_view_init: function(view_out: Pbson_vector_int8_const_view_t; binary_data: Puint8_t; binary_data_len: uint32_t): ByteBool; cdecl;
    bson_vector_float32_view_init: function(view_out: Pbson_vector_float32_view_t; binary_data: Puint8_t; binary_data_len: uint32_t): ByteBool; cdecl;
    bson_vector_float32_const_view_init: function(view_out: Pbson_vector_float32_const_view_t; binary_data: Puint8_t; binary_data_len: uint32_t): ByteBool; cdecl;
    bson_vector_packed_bit_view_init: function(view_out: Pbson_vector_packed_bit_view_t; binary_data: Puint8_t; binary_data_len: uint32_t): ByteBool; cdecl;
    bson_vector_packed_bit_const_view_init: function(view_out: Pbson_vector_packed_bit_const_view_t; binary_data: Puint8_t; binary_data_len: uint32_t): ByteBool; cdecl;
    bson_vector_int8_view_from_iter: function(view_out: Pbson_vector_int8_view_t; iter: Pbson_iter_t): ByteBool; cdecl;
    bson_vector_int8_const_view_from_iter: function(view_out: Pbson_vector_int8_const_view_t; iter: Pbson_iter_t): ByteBool; cdecl;
    bson_vector_float32_view_from_iter: function(view_out: Pbson_vector_float32_view_t; iter: Pbson_iter_t): ByteBool; cdecl;
    bson_vector_float32_const_view_from_iter: function(view_out: Pbson_vector_float32_const_view_t; iter: Pbson_iter_t): ByteBool; cdecl;
    bson_vector_packed_bit_view_from_iter: function(view_out: Pbson_vector_packed_bit_view_t; iter: Pbson_iter_t): ByteBool; cdecl;
    bson_vector_packed_bit_const_view_from_iter: function(view_out: Pbson_vector_packed_bit_const_view_t; iter: Pbson_iter_t): ByteBool; cdecl;
    bson_array_builder_append_vector_int8_elements: function(builder: P_bson_array_builder_t; view: bson_vector_int8_const_view_t): ByteBool; cdecl;
    bson_array_builder_append_vector_float32_elements: function(builder: P_bson_array_builder_t; view: bson_vector_float32_const_view_t): ByteBool; cdecl;
    bson_array_builder_append_vector_packed_bit_elements: function(builder: P_bson_array_builder_t; view: bson_vector_packed_bit_const_view_t): ByteBool; cdecl;
    bson_array_builder_append_vector_elements: function(builder: P_bson_array_builder_t; iter: Pbson_iter_t): ByteBool; cdecl;
    bson_append_vector_int8_uninit: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; element_count: size_t; view_out: Pbson_vector_int8_view_t): ByteBool; cdecl;
    bson_append_vector_float32_uninit: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; element_count: size_t; view_out: Pbson_vector_float32_view_t): ByteBool; cdecl;
    bson_append_vector_packed_bit_uninit: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; element_count: size_t; view_out: Pbson_vector_packed_bit_view_t): ByteBool; cdecl;
    bson_append_vector_int8_from_array: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; iter: Pbson_iter_t; error: Pbson_error_t): ByteBool; cdecl;
    bson_append_vector_float32_from_array: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; iter: Pbson_iter_t; error: Pbson_error_t): ByteBool; cdecl;
    bson_append_vector_packed_bit_from_array: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; iter: Pbson_iter_t; error: Pbson_error_t): ByteBool; cdecl;
    bson_append_array_from_vector_int8: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; view: bson_vector_int8_const_view_t): ByteBool; cdecl;
    bson_append_array_from_vector_float32: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; view: bson_vector_float32_const_view_t): ByteBool; cdecl;
    bson_append_array_from_vector_packed_bit: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; view: bson_vector_packed_bit_const_view_t): ByteBool; cdecl;
    bson_new: function(): Pbson_t; cdecl;
    bson_new_from_json: function(data: Puint8_t; len: ssize_t; error: Pbson_error_t): Pbson_t; cdecl;
    bson_init_from_json: function(bson: Pbson_t; data: PAnsiChar; len: ssize_t; error: Pbson_error_t): ByteBool; cdecl;
    bson_init_static: function(b: Pbson_t; data: Puint8_t; length: size_t): ByteBool; cdecl;
    bson_init: procedure(b: Pbson_t); cdecl;
    bson_reinit: procedure(b: Pbson_t); cdecl;
    bson_new_from_data: function(data: Puint8_t; length: size_t): Pbson_t; cdecl;
    bson_new_from_buffer: function(buf: PPuint8_t; buf_len: Psize_t; realloc_func: bson_realloc_func; realloc_func_ctx: Pvoid): Pbson_t; cdecl;
    bson_sized_new: function(size: size_t): Pbson_t; cdecl;
    bson_copy: function(bson: Pbson_t): Pbson_t; cdecl;
    bson_copy_to: procedure(src: Pbson_t; dst: Pbson_t); cdecl;
    bson_copy_to_excluding_noinit: procedure(src: Pbson_t; dst: Pbson_t; first_exclude: PAnsiChar); cdecl;
    bson_copy_to_excluding_noinit_va: procedure(src: Pbson_t; dst: Pbson_t; first_exclude: PAnsiChar; args: va_list); cdecl;
    bson_destroy: procedure(bson: Pbson_t); cdecl;
    bson_reserve_buffer: function(bson: Pbson_t; total_size: uint32_t): Puint8_t; cdecl;
    bson_steal: function(dst: Pbson_t; src: Pbson_t): ByteBool; cdecl;
    bson_destroy_with_steal: function(bson: Pbson_t; steal: ByteBool; length: Puint32_t): Puint8_t; cdecl;
    bson_get_data: function(bson: Pbson_t): Puint8_t; cdecl;
    bson_count_keys: function(bson: Pbson_t): uint32_t; cdecl;
    bson_has_field: function(bson: Pbson_t; key: PAnsiChar): ByteBool; cdecl;
    bson_compare: function(bson: Pbson_t; other: Pbson_t): Integer; cdecl;
    bson_equal: function(bson: Pbson_t; other: Pbson_t): ByteBool; cdecl;
    bson_validate: function(bson: Pbson_t; flags: bson_validate_flags_t; offset: Psize_t): ByteBool; cdecl;
    bson_validate_with_error: function(bson: Pbson_t; flags: bson_validate_flags_t; error: Pbson_error_t): ByteBool; cdecl;
    bson_validate_with_error_and_offset: function(bson: Pbson_t; flags: bson_validate_flags_t; offset: Psize_t; error: Pbson_error_t): ByteBool; cdecl;
    bson_as_json_with_opts: function(bson: Pbson_t; length: Psize_t; opts: Pbson_json_opts_t): PAnsiChar; cdecl;
    bson_as_canonical_extended_json: function(bson: Pbson_t; length: Psize_t): PAnsiChar; cdecl;
    bson_as_legacy_extended_json: function(bson: Pbson_t; length: Psize_t): PAnsiChar; cdecl;
    bson_as_relaxed_extended_json: function(bson: Pbson_t; length: Psize_t): PAnsiChar; cdecl;
    bson_array_as_legacy_extended_json: function(bson: Pbson_t; length: Psize_t): PAnsiChar; cdecl;
    bson_array_as_relaxed_extended_json: function(bson: Pbson_t; length: Psize_t): PAnsiChar; cdecl;
    bson_array_as_canonical_extended_json: function(bson: Pbson_t; length: Psize_t): PAnsiChar; cdecl;
    bson_array_builder_new: function(): Pbson_array_builder_t; cdecl;
    bson_array_builder_build: function(bab: Pbson_array_builder_t; param1: Pbson_t): ByteBool; cdecl;
    bson_array_builder_destroy: procedure(bab: Pbson_array_builder_t); cdecl;
    bson_append_value: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: Pbson_value_t): ByteBool; cdecl;
    bson_array_builder_append_value: function(bab: Pbson_array_builder_t; value: Pbson_value_t): ByteBool; cdecl;
    bson_append_array: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; &array: Pbson_t): ByteBool; cdecl;
    bson_array_builder_append_array: function(bab: Pbson_array_builder_t; &array: Pbson_t): ByteBool; cdecl;
    bson_append_array_from_vector: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; iter: Pbson_iter_t): ByteBool; cdecl;
    bson_array_builder_append_array_from_vector: function(bab: Pbson_array_builder_t; iter: Pbson_iter_t): ByteBool; cdecl;
    bson_append_binary: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; subtype: bson_subtype_t; binary: Puint8_t; length: uint32_t): ByteBool; cdecl;
    bson_array_builder_append_binary: function(bab: Pbson_array_builder_t; subtype: bson_subtype_t; binary: Puint8_t; length: uint32_t): ByteBool; cdecl;
    bson_append_binary_uninit: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; subtype: bson_subtype_t; binary: PPuint8_t; length: uint32_t): ByteBool; cdecl;
    bson_array_builder_append_binary_uninit: function(bab: Pbson_array_builder_t; subtype: bson_subtype_t; binary: PPuint8_t; length: uint32_t): ByteBool; cdecl;
    bson_append_bool: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: ByteBool): ByteBool; cdecl;
    bson_array_builder_append_bool: function(bab: Pbson_array_builder_t; value: ByteBool): ByteBool; cdecl;
    bson_append_code: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; javascript: PAnsiChar): ByteBool; cdecl;
    bson_array_builder_append_code: function(bab: Pbson_array_builder_t; javascript: PAnsiChar): ByteBool; cdecl;
    bson_append_code_with_scope: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; javascript: PAnsiChar; scope: Pbson_t): ByteBool; cdecl;
    bson_array_builder_append_code_with_scope: function(bab: Pbson_array_builder_t; javascript: PAnsiChar; scope: Pbson_t): ByteBool; cdecl;
    bson_append_dbpointer: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; collection: PAnsiChar; oid: Pbson_oid_t): ByteBool; cdecl;
    bson_array_builder_append_dbpointer: function(bab: Pbson_array_builder_t; collection: PAnsiChar; oid: Pbson_oid_t): ByteBool; cdecl;
    bson_append_double: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: double): ByteBool; cdecl;
    bson_array_builder_append_double: function(bab: Pbson_array_builder_t; value: double): ByteBool; cdecl;
    bson_append_document: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: Pbson_t): ByteBool; cdecl;
    bson_array_builder_append_document: function(bab: Pbson_array_builder_t; value: Pbson_t): ByteBool; cdecl;
    bson_append_document_begin: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; child: Pbson_t): ByteBool; cdecl;
    bson_array_builder_append_document_begin: function(bab: Pbson_array_builder_t; child: Pbson_t): ByteBool; cdecl;
    bson_append_document_end: function(bson: Pbson_t; child: Pbson_t): ByteBool; cdecl;
    bson_array_builder_append_document_end: function(bab: Pbson_array_builder_t; child: Pbson_t): ByteBool; cdecl;
    bson_append_array_begin: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; child: Pbson_t): ByteBool; cdecl;
    bson_append_array_end: function(bson: Pbson_t; child: Pbson_t): ByteBool; cdecl;
    bson_append_int32: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: int32_t): ByteBool; cdecl;
    bson_array_builder_append_int32: function(bab: Pbson_array_builder_t; value: int32_t): ByteBool; cdecl;
    bson_append_int64: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: int64_t): ByteBool; cdecl;
    bson_array_builder_append_int64: function(bab: Pbson_array_builder_t; value: int64_t): ByteBool; cdecl;
    bson_append_decimal128: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: Pbson_decimal128_t): ByteBool; cdecl;
    bson_array_builder_append_decimal128: function(bab: Pbson_array_builder_t; value: Pbson_decimal128_t): ByteBool; cdecl;
    bson_append_iter: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; iter: Pbson_iter_t): ByteBool; cdecl;
    bson_array_builder_append_iter: function(bab: Pbson_array_builder_t; iter: Pbson_iter_t): ByteBool; cdecl;
    bson_append_minkey: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer): ByteBool; cdecl;
    bson_array_builder_append_minkey: function(bab: Pbson_array_builder_t): ByteBool; cdecl;
    bson_append_maxkey: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer): ByteBool; cdecl;
    bson_array_builder_append_maxkey: function(bab: Pbson_array_builder_t): ByteBool; cdecl;
    bson_append_null: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer): ByteBool; cdecl;
    bson_array_builder_append_null: function(bab: Pbson_array_builder_t): ByteBool; cdecl;
    bson_append_oid: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; oid: Pbson_oid_t): ByteBool; cdecl;
    bson_array_builder_append_oid: function(bab: Pbson_array_builder_t; oid: Pbson_oid_t): ByteBool; cdecl;
    bson_append_regex: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; regex: PAnsiChar; options: PAnsiChar): ByteBool; cdecl;
    bson_array_builder_append_regex: function(bab: Pbson_array_builder_t; regex: PAnsiChar; options: PAnsiChar): ByteBool; cdecl;
    bson_append_regex_w_len: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; regex: PAnsiChar; regex_length: Integer; options: PAnsiChar): ByteBool; cdecl;
    bson_array_builder_append_regex_w_len: function(bab: Pbson_array_builder_t; regex: PAnsiChar; regex_length: Integer; options: PAnsiChar): ByteBool; cdecl;
    bson_append_utf8: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: PAnsiChar; length: Integer): ByteBool; cdecl;
    bson_array_builder_append_utf8: function(bab: Pbson_array_builder_t; value: PAnsiChar; length: Integer): ByteBool; cdecl;
    bson_append_symbol: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: PAnsiChar; length: Integer): ByteBool; cdecl;
    bson_array_builder_append_symbol: function(bab: Pbson_array_builder_t; value: PAnsiChar; length: Integer): ByteBool; cdecl;
    bson_append_time_t: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: time_t): ByteBool; cdecl;
    bson_array_builder_append_time_t: function(bab: Pbson_array_builder_t; value: time_t): ByteBool; cdecl;
    bson_append_timeval: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: Ptimeval): ByteBool; cdecl;
    bson_array_builder_append_timeval: function(bab: Pbson_array_builder_t; value: Ptimeval): ByteBool; cdecl;
    bson_append_date_time: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: int64_t): ByteBool; cdecl;
    bson_array_builder_append_date_time: function(bab: Pbson_array_builder_t; value: int64_t): ByteBool; cdecl;
    bson_append_now_utc: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer): ByteBool; cdecl;
    bson_array_builder_append_now_utc: function(bab: Pbson_array_builder_t): ByteBool; cdecl;
    bson_append_timestamp: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; timestamp: uint32_t; increment: uint32_t): ByteBool; cdecl;
    bson_array_builder_append_timestamp: function(bab: Pbson_array_builder_t; timestamp: uint32_t; increment: uint32_t): ByteBool; cdecl;
    bson_append_undefined: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer): ByteBool; cdecl;
    bson_array_builder_append_undefined: function(bab: Pbson_array_builder_t): ByteBool; cdecl;
    bson_concat: function(dst: Pbson_t; src: Pbson_t): ByteBool; cdecl;
    bson_append_array_builder_begin: function(bson: Pbson_t; key: PAnsiChar; key_length: Integer; child: PPbson_array_builder_t): ByteBool; cdecl;
    bson_array_builder_append_array_builder_begin: function(bab: Pbson_array_builder_t; child: PPbson_array_builder_t): ByteBool; cdecl;
    bson_append_array_builder_end: function(bson: Pbson_t; child: Pbson_array_builder_t): ByteBool; cdecl;
    bson_array_builder_append_array_builder_end: function(bab: Pbson_array_builder_t; child: Pbson_array_builder_t): ByteBool; cdecl;
    mongoc_write_concern_new: function(): Pmongoc_write_concern_t; cdecl;
    mongoc_write_concern_copy: function(write_concern: Pmongoc_write_concern_t): Pmongoc_write_concern_t; cdecl;
    mongoc_write_concern_destroy: procedure(write_concern: Pmongoc_write_concern_t); cdecl;
    mongoc_write_concern_get_journal: function(write_concern: Pmongoc_write_concern_t): ByteBool; cdecl;
    mongoc_write_concern_journal_is_set: function(write_concern: Pmongoc_write_concern_t): ByteBool; cdecl;
    mongoc_write_concern_set_journal: procedure(write_concern: Pmongoc_write_concern_t; journal: ByteBool); cdecl;
    mongoc_write_concern_get_w: function(write_concern: Pmongoc_write_concern_t): int32_t; cdecl;
    mongoc_write_concern_set_w: procedure(write_concern: Pmongoc_write_concern_t; w: int32_t); cdecl;
    mongoc_write_concern_get_wtag: function(write_concern: Pmongoc_write_concern_t): PAnsiChar; cdecl;
    mongoc_write_concern_set_wtag: procedure(write_concern: Pmongoc_write_concern_t; tag: PAnsiChar); cdecl;
    mongoc_write_concern_get_wtimeout: function(write_concern: Pmongoc_write_concern_t): int32_t; cdecl;
    mongoc_write_concern_get_wtimeout_int64: function(write_concern: Pmongoc_write_concern_t): int64_t; cdecl;
    mongoc_write_concern_set_wtimeout: procedure(write_concern: Pmongoc_write_concern_t; wtimeout_msec: int32_t); cdecl;
    mongoc_write_concern_set_wtimeout_int64: procedure(write_concern: Pmongoc_write_concern_t; wtimeout_msec: int64_t); cdecl;
    mongoc_write_concern_get_wmajority: function(write_concern: Pmongoc_write_concern_t): ByteBool; cdecl;
    mongoc_write_concern_set_wmajority: procedure(write_concern: Pmongoc_write_concern_t; wtimeout_msec: int32_t); cdecl;
    mongoc_write_concern_is_acknowledged: function(write_concern: Pmongoc_write_concern_t): ByteBool; cdecl;
    mongoc_write_concern_is_valid: function(write_concern: Pmongoc_write_concern_t): ByteBool; cdecl;
    mongoc_write_concern_append: function(write_concern: Pmongoc_write_concern_t; doc: Pbson_t): ByteBool; cdecl;
    mongoc_write_concern_is_default: function(write_concern: Pmongoc_write_concern_t): ByteBool; cdecl;
    mongoc_read_concern_new: function(): Pmongoc_read_concern_t; cdecl;
    mongoc_read_concern_copy: function(read_concern: Pmongoc_read_concern_t): Pmongoc_read_concern_t; cdecl;
    mongoc_read_concern_destroy: procedure(read_concern: Pmongoc_read_concern_t); cdecl;
    mongoc_read_concern_get_level: function(read_concern: Pmongoc_read_concern_t): PAnsiChar; cdecl;
    mongoc_read_concern_set_level: function(read_concern: Pmongoc_read_concern_t; level: PAnsiChar): ByteBool; cdecl;
    mongoc_read_concern_append: function(read_concern: Pmongoc_read_concern_t; doc: Pbson_t): ByteBool; cdecl;
    mongoc_read_concern_is_default: function(read_concern: Pmongoc_read_concern_t): ByteBool; cdecl;
    mongoc_optional_init: procedure(opt: Pmongoc_optional_t); cdecl;
    mongoc_optional_is_set: function(opt: Pmongoc_optional_t): ByteBool; cdecl;
    mongoc_optional_value: function(opt: Pmongoc_optional_t): ByteBool; cdecl;
    mongoc_optional_set_value: procedure(opt: Pmongoc_optional_t; val: ByteBool); cdecl;
    mongoc_optional_copy: procedure(source: Pmongoc_optional_t; copy: Pmongoc_optional_t); cdecl;
    mongoc_error_has_label: function(reply: Pbson_t; &label: PAnsiChar): ByteBool; cdecl;
    mongoc_find_and_modify_opts_new: function(): Pmongoc_find_and_modify_opts_t; cdecl;
    mongoc_find_and_modify_opts_set_sort: function(opts: Pmongoc_find_and_modify_opts_t; sort: Pbson_t): ByteBool; cdecl;
    mongoc_find_and_modify_opts_get_sort: procedure(opts: Pmongoc_find_and_modify_opts_t; sort: Pbson_t); cdecl;
    mongoc_find_and_modify_opts_set_update: function(opts: Pmongoc_find_and_modify_opts_t; update: Pbson_t): ByteBool; cdecl;
    mongoc_find_and_modify_opts_get_update: procedure(opts: Pmongoc_find_and_modify_opts_t; update: Pbson_t); cdecl;
    mongoc_find_and_modify_opts_set_fields: function(opts: Pmongoc_find_and_modify_opts_t; fields: Pbson_t): ByteBool; cdecl;
    mongoc_find_and_modify_opts_get_fields: procedure(opts: Pmongoc_find_and_modify_opts_t; fields: Pbson_t); cdecl;
    mongoc_find_and_modify_opts_set_flags: function(opts: Pmongoc_find_and_modify_opts_t; flags: UInt32): ByteBool; cdecl;
    mongoc_find_and_modify_opts_get_flags: function(opts: Pmongoc_find_and_modify_opts_t): mongoc_find_and_modify_flags_t; cdecl;
    mongoc_find_and_modify_opts_set_bypass_document_validation: function(opts: Pmongoc_find_and_modify_opts_t; bypass: ByteBool): ByteBool; cdecl;
    mongoc_find_and_modify_opts_get_bypass_document_validation: function(opts: Pmongoc_find_and_modify_opts_t): ByteBool; cdecl;
    mongoc_find_and_modify_opts_set_max_time_ms: function(opts: Pmongoc_find_and_modify_opts_t; max_time_ms: uint32_t): ByteBool; cdecl;
    mongoc_find_and_modify_opts_get_max_time_ms: function(opts: Pmongoc_find_and_modify_opts_t): uint32_t; cdecl;
    mongoc_find_and_modify_opts_append: function(opts: Pmongoc_find_and_modify_opts_t; extra: Pbson_t): ByteBool; cdecl;
    mongoc_find_and_modify_opts_get_extra: procedure(opts: Pmongoc_find_and_modify_opts_t; extra: Pbson_t); cdecl;
    mongoc_find_and_modify_opts_destroy: procedure(opts: Pmongoc_find_and_modify_opts_t); cdecl;
    mongoc_handshake_data_append: function(driver_name: PAnsiChar; driver_version: PAnsiChar; platform: PAnsiChar): ByteBool; cdecl;
    mongoc_init: procedure(); cdecl;
    mongoc_cleanup: procedure(); cdecl;
    mongoc_log_set_handler: procedure(log_func: mongoc_log_func_t; user_data: Pvoid); cdecl;
    mongoc_log: procedure(log_level: mongoc_log_level_t; log_domain: PAnsiChar; format: PAnsiChar); cdecl;
    mongoc_log_default_handler: procedure(log_level: mongoc_log_level_t; log_domain: PAnsiChar; message: PAnsiChar; user_data: Pvoid); cdecl;
    mongoc_log_level_str: function(log_level: mongoc_log_level_t): PAnsiChar; cdecl;
    mongoc_log_trace_enable: procedure(); cdecl;
    mongoc_log_trace_disable: procedure(); cdecl;
    mongoc_oidc_callback_new: function(fn: mongoc_oidc_callback_fn_t): Pmongoc_oidc_callback_t; cdecl;
    mongoc_oidc_callback_new_with_user_data: function(fn: mongoc_oidc_callback_fn_t; user_data: Pvoid): Pmongoc_oidc_callback_t; cdecl;
    mongoc_oidc_callback_destroy: procedure(callback: Pmongoc_oidc_callback_t); cdecl;
    mongoc_oidc_callback_get_fn: function(callback: Pmongoc_oidc_callback_t): mongoc_oidc_callback_fn_t; cdecl;
    mongoc_oidc_callback_get_user_data: function(callback: Pmongoc_oidc_callback_t): Pvoid; cdecl;
    mongoc_oidc_callback_set_user_data: procedure(callback: Pmongoc_oidc_callback_t; user_data: Pvoid); cdecl;
    mongoc_oidc_callback_params_get_version: function(params: Pmongoc_oidc_callback_params_t): int32_t; cdecl;
    mongoc_oidc_callback_params_get_user_data: function(params: Pmongoc_oidc_callback_params_t): Pvoid; cdecl;
    mongoc_oidc_callback_params_get_timeout: function(params: Pmongoc_oidc_callback_params_t): Pint64_t; cdecl;
    mongoc_oidc_callback_params_get_username: function(params: Pmongoc_oidc_callback_params_t): PAnsiChar; cdecl;
    mongoc_oidc_callback_params_cancel_with_timeout: function(params: Pmongoc_oidc_callback_params_t): Pmongoc_oidc_credential_t; cdecl;
    mongoc_oidc_credential_new: function(access_token: PAnsiChar): Pmongoc_oidc_credential_t; cdecl;
    mongoc_oidc_credential_new_with_expires_in: function(access_token: PAnsiChar; expires_in: int64_t): Pmongoc_oidc_credential_t; cdecl;
    mongoc_oidc_credential_destroy: procedure(cred: Pmongoc_oidc_credential_t); cdecl;
    mongoc_oidc_credential_get_access_token: function(cred: Pmongoc_oidc_credential_t): PAnsiChar; cdecl;
    mongoc_oidc_credential_get_expires_in: function(cred: Pmongoc_oidc_credential_t): Pint64_t; cdecl;
    mongoc_rand_seed: procedure(buf: Pvoid; num: Integer); cdecl;
    mongoc_rand_add: procedure(buf: Pvoid; num: Integer; entropy: double); cdecl;
    mongoc_rand_status: function(): Integer; cdecl;
    mongoc_read_prefs_new: function(read_mode: mongoc_read_mode_t): Pmongoc_read_prefs_t; cdecl;
    mongoc_read_prefs_copy: function(read_prefs: Pmongoc_read_prefs_t): Pmongoc_read_prefs_t; cdecl;
    mongoc_read_prefs_destroy: procedure(read_prefs: Pmongoc_read_prefs_t); cdecl;
    mongoc_read_prefs_get_mode: function(read_prefs: Pmongoc_read_prefs_t): mongoc_read_mode_t; cdecl;
    mongoc_read_prefs_set_mode: procedure(read_prefs: Pmongoc_read_prefs_t; mode: mongoc_read_mode_t); cdecl;
    mongoc_read_prefs_get_tags: function(read_prefs: Pmongoc_read_prefs_t): Pbson_t; cdecl;
    mongoc_read_prefs_set_tags: procedure(read_prefs: Pmongoc_read_prefs_t; tags: Pbson_t); cdecl;
    mongoc_read_prefs_add_tag: procedure(read_prefs: Pmongoc_read_prefs_t; tag: Pbson_t); cdecl;
    mongoc_read_prefs_get_max_staleness_seconds: function(read_prefs: Pmongoc_read_prefs_t): int64_t; cdecl;
    mongoc_read_prefs_set_max_staleness_seconds: procedure(read_prefs: Pmongoc_read_prefs_t; max_staleness_seconds: int64_t); cdecl;
    mongoc_read_prefs_get_hedge: function(read_prefs: Pmongoc_read_prefs_t): Pbson_t; cdecl;
    mongoc_read_prefs_set_hedge: procedure(read_prefs: Pmongoc_read_prefs_t; hedge: Pbson_t); cdecl;
    mongoc_read_prefs_is_valid: function(read_prefs: Pmongoc_read_prefs_t): ByteBool; cdecl;
    mongoc_server_api_version_to_string: function(version: mongoc_server_api_version_t): PAnsiChar; cdecl;
    mongoc_server_api_version_from_string: function(version: PAnsiChar; param1: Pmongoc_server_api_version_t): ByteBool; cdecl;
    mongoc_server_api_new: function(version: mongoc_server_api_version_t): Pmongoc_server_api_t; cdecl;
    mongoc_server_api_copy: function(api: Pmongoc_server_api_t): Pmongoc_server_api_t; cdecl;
    mongoc_server_api_destroy: procedure(api: Pmongoc_server_api_t); cdecl;
    mongoc_server_api_strict: procedure(api: Pmongoc_server_api_t; strict: ByteBool); cdecl;
    mongoc_server_api_deprecation_errors: procedure(api: Pmongoc_server_api_t; deprecation_errors: ByteBool); cdecl;
    mongoc_server_api_get_deprecation_errors: function(api: Pmongoc_server_api_t): Pmongoc_optional_t; cdecl;
    mongoc_server_api_get_strict: function(api: Pmongoc_server_api_t): Pmongoc_optional_t; cdecl;
    mongoc_server_api_get_version: function(api: Pmongoc_server_api_t): mongoc_server_api_version_t; cdecl;
    mongoc_server_description_destroy: procedure(description: Pmongoc_server_description_t); cdecl;
    mongoc_server_description_new_copy: function(description: Pmongoc_server_description_t): Pmongoc_server_description_t; cdecl;
    mongoc_server_description_id: function(description: Pmongoc_server_description_t): uint32_t; cdecl;
    mongoc_server_description_host: function(description: Pmongoc_server_description_t): Pmongoc_host_list_t; cdecl;
    mongoc_server_description_last_update_time: function(description: Pmongoc_server_description_t): int64_t; cdecl;
    mongoc_server_description_round_trip_time: function(description: Pmongoc_server_description_t): int64_t; cdecl;
    mongoc_server_description_type: function(description: Pmongoc_server_description_t): PAnsiChar; cdecl;
    mongoc_server_description_hello_response: function(description: Pmongoc_server_description_t): Pbson_t; cdecl;
    mongoc_server_description_compressor_id: function(description: Pmongoc_server_description_t): int32_t; cdecl;
    mongoc_ssl_opt_get_default: function(): Pmongoc_ssl_opt_t; cdecl;
    mongoc_socket_accept: function(sock: Pmongoc_socket_t; expire_at: int64_t): Pmongoc_socket_t; cdecl;
    mongoc_socket_bind: function(sock: Pmongoc_socket_t; addr: Psockaddr; addrlen: mongoc_socklen_t): Integer; cdecl;
    mongoc_socket_close: function(socket: Pmongoc_socket_t): Integer; cdecl;
    mongoc_socket_connect: function(sock: Pmongoc_socket_t; addr: Psockaddr; addrlen: mongoc_socklen_t; expire_at: int64_t): Integer; cdecl;
    mongoc_socket_getnameinfo: function(sock: Pmongoc_socket_t): PAnsiChar; cdecl;
    mongoc_socket_destroy: procedure(sock: Pmongoc_socket_t); cdecl;
    mongoc_socket_errno: function(sock: Pmongoc_socket_t): Integer; cdecl;
    mongoc_socket_getsockname: function(sock: Pmongoc_socket_t; addr: Psockaddr; addrlen: Pmongoc_socklen_t): Integer; cdecl;
    mongoc_socket_listen: function(sock: Pmongoc_socket_t; backlog: UINT): Integer; cdecl;
    mongoc_socket_new: function(domain: Integer; &type: Integer; protocol: Integer): Pmongoc_socket_t; cdecl;
    mongoc_socket_recv: function(sock: Pmongoc_socket_t; buf: Pvoid; buflen: size_t; flags: Integer; expire_at: int64_t): ssize_t; cdecl;
    mongoc_socket_setsockopt: function(sock: Pmongoc_socket_t; level: Integer; optname: Integer; optval: Pvoid; optlen: mongoc_socklen_t): Integer; cdecl;
    mongoc_socket_send: function(sock: Pmongoc_socket_t; buf: Pvoid; buflen: size_t; expire_at: int64_t): ssize_t; cdecl;
    mongoc_socket_sendv: function(sock: Pmongoc_socket_t; iov: Pmongoc_iovec_t; iovcnt: size_t; expire_at: int64_t): ssize_t; cdecl;
    mongoc_socket_check_closed: function(sock: Pmongoc_socket_t): ByteBool; cdecl;
    mongoc_socket_inet_ntop: procedure(rp: Paddrinfo; buf: PAnsiChar; buflen: size_t); cdecl;
    mongoc_socket_poll: function(sds: Pmongoc_socket_poll_t; nsds: size_t; timeout: int32_t): ssize_t; cdecl;
    mongoc_stream_get_base_stream: function(stream: Pmongoc_stream_t): Pmongoc_stream_t; cdecl;
    mongoc_stream_get_tls_stream: function(stream: Pmongoc_stream_t): Pmongoc_stream_t; cdecl;
    mongoc_stream_close: function(stream: Pmongoc_stream_t): Integer; cdecl;
    mongoc_stream_destroy: procedure(stream: Pmongoc_stream_t); cdecl;
    mongoc_stream_failed: procedure(stream: Pmongoc_stream_t); cdecl;
    mongoc_stream_flush: function(stream: Pmongoc_stream_t): Integer; cdecl;
    mongoc_stream_writev: function(stream: Pmongoc_stream_t; iov: Pmongoc_iovec_t; iovcnt: size_t; timeout_msec: int32_t): ssize_t; cdecl;
    mongoc_stream_write: function(stream: Pmongoc_stream_t; buf: Pvoid; count: size_t; timeout_msec: int32_t): ssize_t; cdecl;
    mongoc_stream_readv: function(stream: Pmongoc_stream_t; iov: Pmongoc_iovec_t; iovcnt: size_t; min_bytes: size_t; timeout_msec: int32_t): ssize_t; cdecl;
    mongoc_stream_read: function(stream: Pmongoc_stream_t; buf: Pvoid; count: size_t; min_bytes: size_t; timeout_msec: int32_t): ssize_t; cdecl;
    mongoc_stream_setsockopt: function(stream: Pmongoc_stream_t; level: Integer; optname: Integer; optval: Pvoid; optlen: mongoc_socklen_t): Integer; cdecl;
    mongoc_stream_check_closed: function(stream: Pmongoc_stream_t): ByteBool; cdecl;
    mongoc_stream_timed_out: function(stream: Pmongoc_stream_t): ByteBool; cdecl;
    mongoc_stream_should_retry: function(stream: Pmongoc_stream_t): ByteBool; cdecl;
    mongoc_stream_poll: function(streams: Pmongoc_stream_poll_t; nstreams: size_t; timeout_ms: int32_t): ssize_t; cdecl;
    mongoc_stream_buffered_new: function(base_stream: Pmongoc_stream_t; buffer_size: size_t): Pmongoc_stream_t; cdecl;
    mongoc_stream_file_new: function(fd: Integer): Pmongoc_stream_t; cdecl;
    mongoc_stream_file_new_for_path: function(path: PAnsiChar; flags: Integer; mode: Integer): Pmongoc_stream_t; cdecl;
    mongoc_stream_file_get_fd: function(stream: Pmongoc_stream_file_t): Integer; cdecl;
    mongoc_stream_socket_new: function(socket: Pmongoc_socket_t): Pmongoc_stream_t; cdecl;
    mongoc_stream_socket_get_socket: function(stream: Pmongoc_stream_socket_t): Pmongoc_socket_t; cdecl;
    mongoc_structured_log_opts_new: function(): Pmongoc_structured_log_opts_t; cdecl;
    mongoc_structured_log_opts_destroy: procedure(opts: Pmongoc_structured_log_opts_t); cdecl;
    mongoc_structured_log_opts_set_handler: procedure(opts: Pmongoc_structured_log_opts_t; log_func: mongoc_structured_log_func_t; user_data: Pvoid); cdecl;
    mongoc_structured_log_opts_set_max_level_for_component: function(opts: Pmongoc_structured_log_opts_t; component: mongoc_structured_log_component_t; level: mongoc_structured_log_level_t): ByteBool; cdecl;
    mongoc_structured_log_opts_set_max_level_for_all_components: function(opts: Pmongoc_structured_log_opts_t; level: mongoc_structured_log_level_t): ByteBool; cdecl;
    mongoc_structured_log_opts_set_max_levels_from_env: function(opts: Pmongoc_structured_log_opts_t): ByteBool; cdecl;
    mongoc_structured_log_opts_get_max_level_for_component: function(opts: Pmongoc_structured_log_opts_t; component: mongoc_structured_log_component_t): mongoc_structured_log_level_t; cdecl;
    mongoc_structured_log_opts_get_max_document_length: function(opts: Pmongoc_structured_log_opts_t): size_t; cdecl;
    mongoc_structured_log_opts_set_max_document_length_from_env: function(opts: Pmongoc_structured_log_opts_t): ByteBool; cdecl;
    mongoc_structured_log_opts_set_max_document_length: function(opts: Pmongoc_structured_log_opts_t; max_document_length: size_t): ByteBool; cdecl;
    mongoc_structured_log_entry_message_as_bson: function(entry: Pmongoc_structured_log_entry_t): Pbson_t; cdecl;
    mongoc_structured_log_entry_get_level: function(entry: Pmongoc_structured_log_entry_t): mongoc_structured_log_level_t; cdecl;
    mongoc_structured_log_entry_get_component: function(entry: Pmongoc_structured_log_entry_t): mongoc_structured_log_component_t; cdecl;
    mongoc_structured_log_entry_get_message_string: function(entry: Pmongoc_structured_log_entry_t): PAnsiChar; cdecl;
    mongoc_structured_log_get_level_name: function(level: mongoc_structured_log_level_t): PAnsiChar; cdecl;
    mongoc_structured_log_get_named_level: function(name: PAnsiChar; param1: Pmongoc_structured_log_level_t): ByteBool; cdecl;
    mongoc_structured_log_get_component_name: function(component: mongoc_structured_log_component_t): PAnsiChar; cdecl;
    mongoc_structured_log_get_named_component: function(name: PAnsiChar; param1: Pmongoc_structured_log_component_t): ByteBool; cdecl;
    mongoc_get_major_version: function(): Integer; cdecl;
    mongoc_get_minor_version: function(): Integer; cdecl;
    mongoc_get_micro_version: function(): Integer; cdecl;
    mongoc_get_version: function(): PAnsiChar; cdecl;
    mongoc_check_version: function(required_major: Integer; required_minor: Integer; required_micro: Integer): ByteBool; cdecl;
    mongoc_cursor_clone: function(cursor: Pmongoc_cursor_t): Pmongoc_cursor_t; cdecl;
    mongoc_cursor_destroy: procedure(cursor: Pmongoc_cursor_t); cdecl;
    mongoc_cursor_more: function(cursor: Pmongoc_cursor_t): ByteBool; cdecl;
    mongoc_cursor_next: function(cursor: Pmongoc_cursor_t; bson: PPbson_t): ByteBool; cdecl;
    mongoc_cursor_error: function(cursor: Pmongoc_cursor_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_cursor_error_document: function(cursor: Pmongoc_cursor_t; error: Pbson_error_t; doc: PPbson_t): ByteBool; cdecl;
    mongoc_cursor_get_host: procedure(cursor: Pmongoc_cursor_t; host: Pmongoc_host_list_t); cdecl;
    mongoc_cursor_current: function(cursor: Pmongoc_cursor_t): Pbson_t; cdecl;
    mongoc_cursor_set_batch_size: procedure(cursor: Pmongoc_cursor_t; batch_size: uint32_t); cdecl;
    mongoc_cursor_get_batch_size: function(cursor: Pmongoc_cursor_t): uint32_t; cdecl;
    mongoc_cursor_set_limit: function(cursor: Pmongoc_cursor_t; limit: int64_t): ByteBool; cdecl;
    mongoc_cursor_get_limit: function(cursor: Pmongoc_cursor_t): int64_t; cdecl;
    mongoc_cursor_set_server_id: function(cursor: Pmongoc_cursor_t; server_id: uint32_t): ByteBool; cdecl;
    mongoc_cursor_get_server_id: function(cursor: Pmongoc_cursor_t): uint32_t; cdecl;
    mongoc_cursor_get_id: function(cursor: Pmongoc_cursor_t): int64_t; cdecl;
    mongoc_cursor_set_max_await_time_ms: procedure(cursor: Pmongoc_cursor_t; max_await_time_ms: uint32_t); cdecl;
    mongoc_cursor_get_max_await_time_ms: function(cursor: Pmongoc_cursor_t): uint32_t; cdecl;
    mongoc_cursor_new_from_command_reply_with_opts: function(client: P_mongoc_client_t; reply: Pbson_t; opts: Pbson_t): Pmongoc_cursor_t; cdecl;
    mongoc_change_stream_destroy: procedure(stream: Pmongoc_change_stream_t); cdecl;
    mongoc_change_stream_get_resume_token: function(stream: Pmongoc_change_stream_t): Pbson_t; cdecl;
    mongoc_change_stream_next: function(stream: Pmongoc_change_stream_t; bson: PPbson_t): ByteBool; cdecl;
    mongoc_change_stream_error_document: function(stream: Pmongoc_change_stream_t; err: Pbson_error_t; bson: PPbson_t): ByteBool; cdecl;
    mongoc_bulk_operation_destroy: procedure(bulk: Pmongoc_bulk_operation_t); cdecl;
    mongoc_bulk_operation_execute: function(bulk: Pmongoc_bulk_operation_t; reply: Pbson_t; error: Pbson_error_t): uint32_t; cdecl;
    mongoc_bulk_operation_insert: procedure(bulk: Pmongoc_bulk_operation_t; document: Pbson_t); cdecl;
    mongoc_bulk_operation_insert_with_opts: function(bulk: Pmongoc_bulk_operation_t; document: Pbson_t; opts: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulk_operation_remove: procedure(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t); cdecl;
    mongoc_bulk_operation_remove_many_with_opts: function(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; opts: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulk_operation_remove_one: procedure(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t); cdecl;
    mongoc_bulk_operation_remove_one_with_opts: function(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; opts: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulk_operation_replace_one: procedure(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; document: Pbson_t; upsert: ByteBool); cdecl;
    mongoc_bulk_operation_replace_one_with_opts: function(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; document: Pbson_t; opts: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulk_operation_update: procedure(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; document: Pbson_t; upsert: ByteBool); cdecl;
    mongoc_bulk_operation_update_many_with_opts: function(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; document: Pbson_t; opts: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulk_operation_update_one: procedure(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; document: Pbson_t; upsert: ByteBool); cdecl;
    mongoc_bulk_operation_update_one_with_opts: function(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; document: Pbson_t; opts: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulk_operation_set_bypass_document_validation: procedure(bulk: Pmongoc_bulk_operation_t; bypass: ByteBool); cdecl;
    mongoc_bulk_operation_set_comment: procedure(bulk: Pmongoc_bulk_operation_t; comment: Pbson_value_t); cdecl;
    mongoc_bulk_operation_set_let: procedure(bulk: Pmongoc_bulk_operation_t; let: Pbson_t); cdecl;
    mongoc_bulk_operation_new: function(ordered: ByteBool): Pmongoc_bulk_operation_t; cdecl;
    mongoc_bulk_operation_set_write_concern: procedure(bulk: Pmongoc_bulk_operation_t; write_concern: Pmongoc_write_concern_t); cdecl;
    mongoc_bulk_operation_set_database: procedure(bulk: Pmongoc_bulk_operation_t; database: PAnsiChar); cdecl;
    mongoc_bulk_operation_set_collection: procedure(bulk: Pmongoc_bulk_operation_t; collection: PAnsiChar); cdecl;
    mongoc_bulk_operation_set_client: procedure(bulk: Pmongoc_bulk_operation_t; client: Pvoid); cdecl;
    mongoc_bulk_operation_set_client_session: procedure(bulk: Pmongoc_bulk_operation_t; client_session: P_mongoc_client_session_t); cdecl;
    mongoc_bulk_operation_set_server_id: procedure(bulk: Pmongoc_bulk_operation_t; server_id: uint32_t); cdecl;
    mongoc_bulk_operation_get_server_id: function(bulk: Pmongoc_bulk_operation_t): uint32_t; cdecl;
    mongoc_bulk_operation_get_write_concern: function(bulk: Pmongoc_bulk_operation_t): Pmongoc_write_concern_t; cdecl;
    mongoc_auto_encryption_opts_new: function(): Pmongoc_auto_encryption_opts_t; cdecl;
    mongoc_auto_encryption_opts_destroy: procedure(opts: Pmongoc_auto_encryption_opts_t); cdecl;
    mongoc_auto_encryption_opts_set_keyvault_client: procedure(opts: Pmongoc_auto_encryption_opts_t; client: P_mongoc_client_t); cdecl;
    mongoc_auto_encryption_opts_set_keyvault_client_pool: procedure(opts: Pmongoc_auto_encryption_opts_t; pool: P_mongoc_client_pool_t); cdecl;
    mongoc_auto_encryption_opts_set_keyvault_namespace: procedure(opts: Pmongoc_auto_encryption_opts_t; db: PAnsiChar; coll: PAnsiChar); cdecl;
    mongoc_auto_encryption_opts_set_kms_providers: procedure(opts: Pmongoc_auto_encryption_opts_t; kms_providers: Pbson_t); cdecl;
    mongoc_auto_encryption_opts_set_key_expiration: procedure(opts: Pmongoc_auto_encryption_opts_t; expiration: uint64_t); cdecl;
    mongoc_auto_encryption_opts_set_tls_opts: procedure(opts: Pmongoc_auto_encryption_opts_t; tls_opts: Pbson_t); cdecl;
    mongoc_auto_encryption_opts_set_schema_map: procedure(opts: Pmongoc_auto_encryption_opts_t; schema_map: Pbson_t); cdecl;
    mongoc_auto_encryption_opts_set_encrypted_fields_map: procedure(opts: Pmongoc_auto_encryption_opts_t; encrypted_fields_map: Pbson_t); cdecl;
    mongoc_auto_encryption_opts_set_bypass_auto_encryption: procedure(opts: Pmongoc_auto_encryption_opts_t; bypass_auto_encryption: ByteBool); cdecl;
    mongoc_auto_encryption_opts_set_bypass_query_analysis: procedure(opts: Pmongoc_auto_encryption_opts_t; bypass_query_analysis: ByteBool); cdecl;
    mongoc_auto_encryption_opts_set_extra: procedure(opts: Pmongoc_auto_encryption_opts_t; extra: Pbson_t); cdecl;
    mongoc_auto_encryption_opts_set_kms_credential_provider_callback: procedure(opts: Pmongoc_auto_encryption_opts_t; fn: mongoc_kms_credentials_provider_callback_fn; userdata: Pvoid); cdecl;
    mongoc_client_encryption_opts_new: function(): Pmongoc_client_encryption_opts_t; cdecl;
    mongoc_client_encryption_opts_destroy: procedure(opts: Pmongoc_client_encryption_opts_t); cdecl;
    mongoc_client_encryption_opts_set_keyvault_client: procedure(opts: Pmongoc_client_encryption_opts_t; keyvault_client: P_mongoc_client_t); cdecl;
    mongoc_client_encryption_opts_set_keyvault_namespace: procedure(opts: Pmongoc_client_encryption_opts_t; db: PAnsiChar; coll: PAnsiChar); cdecl;
    mongoc_client_encryption_opts_set_kms_providers: procedure(opts: Pmongoc_client_encryption_opts_t; kms_providers: Pbson_t); cdecl;
    mongoc_client_encryption_opts_set_tls_opts: procedure(opts: Pmongoc_client_encryption_opts_t; tls_opts: Pbson_t); cdecl;
    mongoc_client_encryption_opts_set_kms_credential_provider_callback: procedure(opts: Pmongoc_client_encryption_opts_t; fn: mongoc_kms_credentials_provider_callback_fn; userdata: Pvoid); cdecl;
    mongoc_client_encryption_opts_set_key_expiration: procedure(opts: Pmongoc_client_encryption_opts_t; cache_expiration_ms: uint64_t); cdecl;
    mongoc_client_encryption_rewrap_many_datakey_result_new: function(): Pmongoc_client_encryption_rewrap_many_datakey_result_t; cdecl;
    mongoc_client_encryption_rewrap_many_datakey_result_destroy: procedure(_result: Pmongoc_client_encryption_rewrap_many_datakey_result_t); cdecl;
    mongoc_client_encryption_rewrap_many_datakey_result_get_bulk_write_result: function(_result: Pmongoc_client_encryption_rewrap_many_datakey_result_t): Pbson_t; cdecl;
    mongoc_client_encryption_new: function(opts: Pmongoc_client_encryption_opts_t; error: Pbson_error_t): Pmongoc_client_encryption_t; cdecl;
    mongoc_client_encryption_destroy: procedure(client_encryption: Pmongoc_client_encryption_t); cdecl;
    mongoc_client_encryption_create_datakey: function(client_encryption: Pmongoc_client_encryption_t; kms_provider: PAnsiChar; opts: Pmongoc_client_encryption_datakey_opts_t; keyid: Pbson_value_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_encryption_rewrap_many_datakey: function(client_encryption: Pmongoc_client_encryption_t; filter: Pbson_t; provider: PAnsiChar; master_key: Pbson_t; _result: Pmongoc_client_encryption_rewrap_many_datakey_result_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_encryption_delete_key: function(client_encryption: Pmongoc_client_encryption_t; keyid: Pbson_value_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_encryption_get_key: function(client_encryption: Pmongoc_client_encryption_t; keyid: Pbson_value_t; key_doc: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_encryption_encrypt_text_prefix_opts_new: function(): Pmongoc_client_encryption_encrypt_text_prefix_opts_t; cdecl;
    mongoc_client_encryption_encrypt_text_suffix_opts_new: function(): Pmongoc_client_encryption_encrypt_text_suffix_opts_t; cdecl;
    mongoc_client_encryption_encrypt_text_substring_opts_new: function(): Pmongoc_client_encryption_encrypt_text_substring_opts_t; cdecl;
    mongoc_client_encryption_encrypt_text_prefix_opts_destroy: procedure(opts: Pmongoc_client_encryption_encrypt_text_prefix_opts_t); cdecl;
    mongoc_client_encryption_encrypt_text_suffix_opts_destroy: procedure(opts: Pmongoc_client_encryption_encrypt_text_suffix_opts_t); cdecl;
    mongoc_client_encryption_encrypt_text_substring_opts_destroy: procedure(opts: Pmongoc_client_encryption_encrypt_text_substring_opts_t); cdecl;
    mongoc_client_encryption_encrypt_text_prefix_opts_set_str_max_query_length: procedure(opts: Pmongoc_client_encryption_encrypt_text_prefix_opts_t; str_max_query_length: int32_t); cdecl;
    mongoc_client_encryption_encrypt_text_prefix_opts_set_str_min_query_length: procedure(opts: Pmongoc_client_encryption_encrypt_text_prefix_opts_t; str_min_query_length: int32_t); cdecl;
    mongoc_client_encryption_encrypt_text_suffix_opts_set_str_max_query_length: procedure(opts: Pmongoc_client_encryption_encrypt_text_suffix_opts_t; str_max_query_length: int32_t); cdecl;
    mongoc_client_encryption_encrypt_text_suffix_opts_set_str_min_query_length: procedure(opts: Pmongoc_client_encryption_encrypt_text_suffix_opts_t; str_min_query_length: int32_t); cdecl;
    mongoc_client_encryption_encrypt_text_substring_opts_set_str_max_length: procedure(opts: Pmongoc_client_encryption_encrypt_text_substring_opts_t; str_max_length: int32_t); cdecl;
    mongoc_client_encryption_encrypt_text_substring_opts_set_str_max_query_length: procedure(opts: Pmongoc_client_encryption_encrypt_text_substring_opts_t; str_max_query_length: int32_t); cdecl;
    mongoc_client_encryption_encrypt_text_substring_opts_set_str_min_query_length: procedure(opts: Pmongoc_client_encryption_encrypt_text_substring_opts_t; str_min_query_length: int32_t); cdecl;
    mongoc_client_encryption_encrypt_text_opts_set_prefix: procedure(opts: Pmongoc_client_encryption_encrypt_text_opts_t; popts: Pmongoc_client_encryption_encrypt_text_prefix_opts_t); cdecl;
    mongoc_client_encryption_encrypt_text_opts_set_suffix: procedure(opts: Pmongoc_client_encryption_encrypt_text_opts_t; sopts: Pmongoc_client_encryption_encrypt_text_suffix_opts_t); cdecl;
    mongoc_client_encryption_encrypt_text_opts_set_substring: procedure(opts: Pmongoc_client_encryption_encrypt_text_opts_t; ssopts: Pmongoc_client_encryption_encrypt_text_substring_opts_t); cdecl;
    mongoc_client_encryption_encrypt_text_opts_new: function(): Pmongoc_client_encryption_encrypt_text_opts_t; cdecl;
    mongoc_client_encryption_encrypt_text_opts_destroy: procedure(topts: Pmongoc_client_encryption_encrypt_text_opts_t); cdecl;
    mongoc_client_encryption_get_keys: function(client_encryption: Pmongoc_client_encryption_t; error: Pbson_error_t): P_mongoc_cursor_t; cdecl;
    mongoc_client_encryption_add_key_alt_name: function(client_encryption: Pmongoc_client_encryption_t; keyid: Pbson_value_t; keyaltname: PAnsiChar; key_doc: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_encryption_remove_key_alt_name: function(client_encryption: Pmongoc_client_encryption_t; keyid: Pbson_value_t; keyaltname: PAnsiChar; key_doc: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_encryption_get_key_by_alt_name: function(client_encryption: Pmongoc_client_encryption_t; keyaltname: PAnsiChar; key_doc: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_encryption_encrypt: function(client_encryption: Pmongoc_client_encryption_t; value: Pbson_value_t; opts: Pmongoc_client_encryption_encrypt_opts_t; ciphertext: Pbson_value_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_encryption_encrypt_expression: function(client_encryption: Pmongoc_client_encryption_t; expr: Pbson_t; opts: Pmongoc_client_encryption_encrypt_opts_t; expr_out: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_encryption_decrypt: function(client_encryption: Pmongoc_client_encryption_t; ciphertext: Pbson_value_t; value: Pbson_value_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_encryption_encrypt_opts_new: function(): Pmongoc_client_encryption_encrypt_opts_t; cdecl;
    mongoc_client_encryption_encrypt_opts_destroy: procedure(opts: Pmongoc_client_encryption_encrypt_opts_t); cdecl;
    mongoc_client_encryption_encrypt_opts_set_keyid: procedure(opts: Pmongoc_client_encryption_encrypt_opts_t; keyid: Pbson_value_t); cdecl;
    mongoc_client_encryption_encrypt_opts_set_keyaltname: procedure(opts: Pmongoc_client_encryption_encrypt_opts_t; keyaltname: PAnsiChar); cdecl;
    mongoc_client_encryption_encrypt_opts_set_algorithm: procedure(opts: Pmongoc_client_encryption_encrypt_opts_t; algorithm: PAnsiChar); cdecl;
    mongoc_client_encryption_encrypt_opts_set_contention_factor: procedure(opts: Pmongoc_client_encryption_encrypt_opts_t; contention_factor: int64_t); cdecl;
    mongoc_client_encryption_encrypt_opts_set_text_opts: procedure(opts: Pmongoc_client_encryption_encrypt_opts_t; text_opts: Pmongoc_client_encryption_encrypt_text_opts_t); cdecl;
    mongoc_client_encryption_encrypt_text_opts_set_case_sensitive: procedure(opts: Pmongoc_client_encryption_encrypt_text_opts_t; case_sensitive: ByteBool); cdecl;
    mongoc_client_encryption_encrypt_text_opts_set_diacritic_sensitive: procedure(opts: Pmongoc_client_encryption_encrypt_text_opts_t; diacritic_sensitive: ByteBool); cdecl;
    mongoc_client_encryption_encrypt_opts_set_query_type: procedure(opts: Pmongoc_client_encryption_encrypt_opts_t; query_type: PAnsiChar); cdecl;
    mongoc_client_encryption_encrypt_range_opts_new: function(): Pmongoc_client_encryption_encrypt_range_opts_t; cdecl;
    mongoc_client_encryption_encrypt_range_opts_destroy: procedure(range_opts: Pmongoc_client_encryption_encrypt_range_opts_t); cdecl;
    mongoc_client_encryption_encrypt_range_opts_set_trim_factor: procedure(range_opts: Pmongoc_client_encryption_encrypt_range_opts_t; trim_factor: int32_t); cdecl;
    mongoc_client_encryption_encrypt_range_opts_set_sparsity: procedure(range_opts: Pmongoc_client_encryption_encrypt_range_opts_t; sparsity: int64_t); cdecl;
    mongoc_client_encryption_encrypt_range_opts_set_min: procedure(range_opts: Pmongoc_client_encryption_encrypt_range_opts_t; min: Pbson_value_t); cdecl;
    mongoc_client_encryption_encrypt_range_opts_set_max: procedure(range_opts: Pmongoc_client_encryption_encrypt_range_opts_t; max: Pbson_value_t); cdecl;
    mongoc_client_encryption_encrypt_range_opts_set_precision: procedure(range_opts: Pmongoc_client_encryption_encrypt_range_opts_t; precision: int32_t); cdecl;
    mongoc_client_encryption_encrypt_opts_set_range_opts: procedure(opts: Pmongoc_client_encryption_encrypt_opts_t; range_opts: Pmongoc_client_encryption_encrypt_range_opts_t); cdecl;
    mongoc_client_encryption_datakey_opts_new: function(): Pmongoc_client_encryption_datakey_opts_t; cdecl;
    mongoc_client_encryption_datakey_opts_destroy: procedure(opts: Pmongoc_client_encryption_datakey_opts_t); cdecl;
    mongoc_client_encryption_datakey_opts_set_masterkey: procedure(opts: Pmongoc_client_encryption_datakey_opts_t; masterkey: Pbson_t); cdecl;
    mongoc_client_encryption_datakey_opts_set_keyaltnames: procedure(opts: Pmongoc_client_encryption_datakey_opts_t; keyaltnames: PPAnsiChar; keyaltnames_count: uint32_t); cdecl;
    mongoc_client_encryption_datakey_opts_set_keymaterial: procedure(opts: Pmongoc_client_encryption_datakey_opts_t; data: Puint8_t; len: uint32_t); cdecl;
    mongoc_client_encryption_get_crypt_shared_version: function(enc: Pmongoc_client_encryption_t): PAnsiChar; cdecl;
    mongoc_client_encryption_create_encrypted_collection: function(enc: Pmongoc_client_encryption_t; database: P_mongoc_database_t; name: PAnsiChar; in_options: Pbson_t; opt_out_options: Pbson_t; kms_provider: PAnsiChar; opt_masterkey: Pbson_t; error: Pbson_error_t): P_mongoc_collection_t; cdecl;
    mongoc_stream_tls_handshake: function(stream: Pmongoc_stream_t; host: PAnsiChar; timeout_msec: int32_t; events: PInteger; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_stream_tls_handshake_block: function(stream: Pmongoc_stream_t; host: PAnsiChar; timeout_msec: int32_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_stream_tls_new_with_hostname: function(base_stream: Pmongoc_stream_t; host: PAnsiChar; opt: Pmongoc_ssl_opt_t; client: Integer): Pmongoc_stream_t; cdecl;
    mongoc_topology_description_destroy: procedure(description: Pmongoc_topology_description_t); cdecl;
    mongoc_topology_description_new_copy: function(description: Pmongoc_topology_description_t): Pmongoc_topology_description_t; cdecl;
    mongoc_topology_description_has_readable_server: function(td: Pmongoc_topology_description_t; prefs: Pmongoc_read_prefs_t): ByteBool; cdecl;
    mongoc_topology_description_has_writable_server: function(td: Pmongoc_topology_description_t): ByteBool; cdecl;
    mongoc_topology_description_type: function(td: Pmongoc_topology_description_t): PAnsiChar; cdecl;
    mongoc_topology_description_get_servers: function(td: Pmongoc_topology_description_t; n: Psize_t): PPmongoc_server_description_t; cdecl;
    mongoc_apm_command_started_get_command: function(event: Pmongoc_apm_command_started_t): Pbson_t; cdecl;
    mongoc_apm_command_started_get_database_name: function(event: Pmongoc_apm_command_started_t): PAnsiChar; cdecl;
    mongoc_apm_command_started_get_command_name: function(event: Pmongoc_apm_command_started_t): PAnsiChar; cdecl;
    mongoc_apm_command_started_get_request_id: function(event: Pmongoc_apm_command_started_t): int64_t; cdecl;
    mongoc_apm_command_started_get_operation_id: function(event: Pmongoc_apm_command_started_t): int64_t; cdecl;
    mongoc_apm_command_started_get_host: function(event: Pmongoc_apm_command_started_t): Pmongoc_host_list_t; cdecl;
    mongoc_apm_command_started_get_server_id: function(event: Pmongoc_apm_command_started_t): uint32_t; cdecl;
    mongoc_apm_command_started_get_service_id: function(event: Pmongoc_apm_command_started_t): Pbson_oid_t; cdecl;
    mongoc_apm_command_started_get_server_connection_id_int64: function(event: Pmongoc_apm_command_started_t): int64_t; cdecl;
    mongoc_apm_command_started_get_context: function(event: Pmongoc_apm_command_started_t): Pvoid; cdecl;
    mongoc_apm_command_succeeded_get_duration: function(event: Pmongoc_apm_command_succeeded_t): int64_t; cdecl;
    mongoc_apm_command_succeeded_get_reply: function(event: Pmongoc_apm_command_succeeded_t): Pbson_t; cdecl;
    mongoc_apm_command_succeeded_get_command_name: function(event: Pmongoc_apm_command_succeeded_t): PAnsiChar; cdecl;
    mongoc_apm_command_succeeded_get_database_name: function(event: Pmongoc_apm_command_succeeded_t): PAnsiChar; cdecl;
    mongoc_apm_command_succeeded_get_request_id: function(event: Pmongoc_apm_command_succeeded_t): int64_t; cdecl;
    mongoc_apm_command_succeeded_get_operation_id: function(event: Pmongoc_apm_command_succeeded_t): int64_t; cdecl;
    mongoc_apm_command_succeeded_get_host: function(event: Pmongoc_apm_command_succeeded_t): Pmongoc_host_list_t; cdecl;
    mongoc_apm_command_succeeded_get_server_id: function(event: Pmongoc_apm_command_succeeded_t): uint32_t; cdecl;
    mongoc_apm_command_succeeded_get_service_id: function(event: Pmongoc_apm_command_succeeded_t): Pbson_oid_t; cdecl;
    mongoc_apm_command_succeeded_get_server_connection_id_int64: function(event: Pmongoc_apm_command_succeeded_t): int64_t; cdecl;
    mongoc_apm_command_succeeded_get_context: function(event: Pmongoc_apm_command_succeeded_t): Pvoid; cdecl;
    mongoc_apm_command_failed_get_duration: function(event: Pmongoc_apm_command_failed_t): int64_t; cdecl;
    mongoc_apm_command_failed_get_command_name: function(event: Pmongoc_apm_command_failed_t): PAnsiChar; cdecl;
    mongoc_apm_command_failed_get_database_name: function(event: Pmongoc_apm_command_failed_t): PAnsiChar; cdecl;
    mongoc_apm_command_failed_get_error: procedure(event: Pmongoc_apm_command_failed_t; error: Pbson_error_t); cdecl;
    mongoc_apm_command_failed_get_reply: function(event: Pmongoc_apm_command_failed_t): Pbson_t; cdecl;
    mongoc_apm_command_failed_get_request_id: function(event: Pmongoc_apm_command_failed_t): int64_t; cdecl;
    mongoc_apm_command_failed_get_operation_id: function(event: Pmongoc_apm_command_failed_t): int64_t; cdecl;
    mongoc_apm_command_failed_get_host: function(event: Pmongoc_apm_command_failed_t): Pmongoc_host_list_t; cdecl;
    mongoc_apm_command_failed_get_server_id: function(event: Pmongoc_apm_command_failed_t): uint32_t; cdecl;
    mongoc_apm_command_failed_get_service_id: function(event: Pmongoc_apm_command_failed_t): Pbson_oid_t; cdecl;
    mongoc_apm_command_failed_get_server_connection_id_int64: function(event: Pmongoc_apm_command_failed_t): int64_t; cdecl;
    mongoc_apm_command_failed_get_context: function(event: Pmongoc_apm_command_failed_t): Pvoid; cdecl;
    mongoc_apm_server_changed_get_host: function(event: Pmongoc_apm_server_changed_t): Pmongoc_host_list_t; cdecl;
    mongoc_apm_server_changed_get_topology_id: procedure(event: Pmongoc_apm_server_changed_t; topology_id: Pbson_oid_t); cdecl;
    mongoc_apm_server_changed_get_previous_description: function(event: Pmongoc_apm_server_changed_t): Pmongoc_server_description_t; cdecl;
    mongoc_apm_server_changed_get_new_description: function(event: Pmongoc_apm_server_changed_t): Pmongoc_server_description_t; cdecl;
    mongoc_apm_server_changed_get_context: function(event: Pmongoc_apm_server_changed_t): Pvoid; cdecl;
    mongoc_apm_server_opening_get_host: function(event: Pmongoc_apm_server_opening_t): Pmongoc_host_list_t; cdecl;
    mongoc_apm_server_opening_get_topology_id: procedure(event: Pmongoc_apm_server_opening_t; topology_id: Pbson_oid_t); cdecl;
    mongoc_apm_server_opening_get_context: function(event: Pmongoc_apm_server_opening_t): Pvoid; cdecl;
    mongoc_apm_server_closed_get_host: function(event: Pmongoc_apm_server_closed_t): Pmongoc_host_list_t; cdecl;
    mongoc_apm_server_closed_get_topology_id: procedure(event: Pmongoc_apm_server_closed_t; topology_id: Pbson_oid_t); cdecl;
    mongoc_apm_server_closed_get_context: function(event: Pmongoc_apm_server_closed_t): Pvoid; cdecl;
    mongoc_apm_topology_changed_get_topology_id: procedure(event: Pmongoc_apm_topology_changed_t; topology_id: Pbson_oid_t); cdecl;
    mongoc_apm_topology_changed_get_previous_description: function(event: Pmongoc_apm_topology_changed_t): Pmongoc_topology_description_t; cdecl;
    mongoc_apm_topology_changed_get_new_description: function(event: Pmongoc_apm_topology_changed_t): Pmongoc_topology_description_t; cdecl;
    mongoc_apm_topology_changed_get_context: function(event: Pmongoc_apm_topology_changed_t): Pvoid; cdecl;
    mongoc_apm_topology_opening_get_topology_id: procedure(event: Pmongoc_apm_topology_opening_t; topology_id: Pbson_oid_t); cdecl;
    mongoc_apm_topology_opening_get_context: function(event: Pmongoc_apm_topology_opening_t): Pvoid; cdecl;
    mongoc_apm_topology_closed_get_topology_id: procedure(event: Pmongoc_apm_topology_closed_t; topology_id: Pbson_oid_t); cdecl;
    mongoc_apm_topology_closed_get_context: function(event: Pmongoc_apm_topology_closed_t): Pvoid; cdecl;
    mongoc_apm_server_heartbeat_started_get_host: function(event: Pmongoc_apm_server_heartbeat_started_t): Pmongoc_host_list_t; cdecl;
    mongoc_apm_server_heartbeat_started_get_context: function(event: Pmongoc_apm_server_heartbeat_started_t): Pvoid; cdecl;
    mongoc_apm_server_heartbeat_started_get_awaited: function(event: Pmongoc_apm_server_heartbeat_started_t): ByteBool; cdecl;
    mongoc_apm_server_heartbeat_succeeded_get_duration: function(event: Pmongoc_apm_server_heartbeat_succeeded_t): int64_t; cdecl;
    mongoc_apm_server_heartbeat_succeeded_get_reply: function(event: Pmongoc_apm_server_heartbeat_succeeded_t): Pbson_t; cdecl;
    mongoc_apm_server_heartbeat_succeeded_get_host: function(event: Pmongoc_apm_server_heartbeat_succeeded_t): Pmongoc_host_list_t; cdecl;
    mongoc_apm_server_heartbeat_succeeded_get_context: function(event: Pmongoc_apm_server_heartbeat_succeeded_t): Pvoid; cdecl;
    mongoc_apm_server_heartbeat_succeeded_get_awaited: function(event: Pmongoc_apm_server_heartbeat_succeeded_t): ByteBool; cdecl;
    mongoc_apm_server_heartbeat_failed_get_duration: function(event: Pmongoc_apm_server_heartbeat_failed_t): int64_t; cdecl;
    mongoc_apm_server_heartbeat_failed_get_error: procedure(event: Pmongoc_apm_server_heartbeat_failed_t; error: Pbson_error_t); cdecl;
    mongoc_apm_server_heartbeat_failed_get_host: function(event: Pmongoc_apm_server_heartbeat_failed_t): Pmongoc_host_list_t; cdecl;
    mongoc_apm_server_heartbeat_failed_get_context: function(event: Pmongoc_apm_server_heartbeat_failed_t): Pvoid; cdecl;
    mongoc_apm_server_heartbeat_failed_get_awaited: function(event: Pmongoc_apm_server_heartbeat_failed_t): ByteBool; cdecl;
    mongoc_apm_callbacks_new: function(): Pmongoc_apm_callbacks_t; cdecl;
    mongoc_apm_callbacks_destroy: procedure(callbacks: Pmongoc_apm_callbacks_t); cdecl;
    mongoc_apm_set_command_started_cb: procedure(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_command_started_cb_t); cdecl;
    mongoc_apm_set_command_succeeded_cb: procedure(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_command_succeeded_cb_t); cdecl;
    mongoc_apm_set_command_failed_cb: procedure(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_command_failed_cb_t); cdecl;
    mongoc_apm_set_server_changed_cb: procedure(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_server_changed_cb_t); cdecl;
    mongoc_apm_set_server_opening_cb: procedure(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_server_opening_cb_t); cdecl;
    mongoc_apm_set_server_closed_cb: procedure(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_server_closed_cb_t); cdecl;
    mongoc_apm_set_topology_changed_cb: procedure(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_topology_changed_cb_t); cdecl;
    mongoc_apm_set_topology_opening_cb: procedure(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_topology_opening_cb_t); cdecl;
    mongoc_apm_set_topology_closed_cb: procedure(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_topology_closed_cb_t); cdecl;
    mongoc_apm_set_server_heartbeat_started_cb: procedure(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_server_heartbeat_started_cb_t); cdecl;
    mongoc_apm_set_server_heartbeat_succeeded_cb: procedure(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_server_heartbeat_succeeded_cb_t); cdecl;
    mongoc_apm_set_server_heartbeat_failed_cb: procedure(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_server_heartbeat_failed_cb_t); cdecl;
    mongoc_uri_copy: function(uri: Pmongoc_uri_t): Pmongoc_uri_t; cdecl;
    mongoc_uri_destroy: procedure(uri: Pmongoc_uri_t); cdecl;
    mongoc_uri_new: function(uri_string: PAnsiChar): Pmongoc_uri_t; cdecl;
    mongoc_uri_new_with_error: function(uri_string: PAnsiChar; error: Pbson_error_t): Pmongoc_uri_t; cdecl;
    mongoc_uri_new_for_host_port: function(hostname: PAnsiChar; port: uint16_t): Pmongoc_uri_t; cdecl;
    mongoc_uri_get_hosts: function(uri: Pmongoc_uri_t): Pmongoc_host_list_t; cdecl;
    mongoc_uri_get_srv_hostname: function(uri: Pmongoc_uri_t): PAnsiChar; cdecl;
    mongoc_uri_get_srv_service_name: function(uri: Pmongoc_uri_t): PAnsiChar; cdecl;
    mongoc_uri_get_database: function(uri: Pmongoc_uri_t): PAnsiChar; cdecl;
    mongoc_uri_set_database: function(uri: Pmongoc_uri_t; database: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_get_compressors: function(uri: Pmongoc_uri_t): Pbson_t; cdecl;
    mongoc_uri_get_options: function(uri: Pmongoc_uri_t): Pbson_t; cdecl;
    mongoc_uri_get_password: function(uri: Pmongoc_uri_t): PAnsiChar; cdecl;
    mongoc_uri_set_password: function(uri: Pmongoc_uri_t; password: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_has_option: function(uri: Pmongoc_uri_t; key: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_option_is_int32: function(key: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_option_is_int64: function(key: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_option_is_bool: function(key: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_option_is_utf8: function(key: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_get_option_as_int32: function(uri: Pmongoc_uri_t; option: PAnsiChar; fallback: int32_t): int32_t; cdecl;
    mongoc_uri_get_option_as_int64: function(uri: Pmongoc_uri_t; option: PAnsiChar; fallback: int64_t): int64_t; cdecl;
    mongoc_uri_get_option_as_bool: function(uri: Pmongoc_uri_t; option: PAnsiChar; fallback: ByteBool): ByteBool; cdecl;
    mongoc_uri_get_option_as_utf8: function(uri: Pmongoc_uri_t; option: PAnsiChar; fallback: PAnsiChar): PAnsiChar; cdecl;
    mongoc_uri_set_option_as_int32: function(uri: Pmongoc_uri_t; option: PAnsiChar; value: int32_t): ByteBool; cdecl;
    mongoc_uri_set_option_as_int64: function(uri: Pmongoc_uri_t; option: PAnsiChar; value: int64_t): ByteBool; cdecl;
    mongoc_uri_set_option_as_bool: function(uri: Pmongoc_uri_t; option: PAnsiChar; value: ByteBool): ByteBool; cdecl;
    mongoc_uri_set_option_as_utf8: function(uri: Pmongoc_uri_t; option: PAnsiChar; value: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_get_replica_set: function(uri: Pmongoc_uri_t): PAnsiChar; cdecl;
    mongoc_uri_get_string: function(uri: Pmongoc_uri_t): PAnsiChar; cdecl;
    mongoc_uri_get_username: function(uri: Pmongoc_uri_t): PAnsiChar; cdecl;
    mongoc_uri_set_username: function(uri: Pmongoc_uri_t; username: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_get_credentials: function(uri: Pmongoc_uri_t): Pbson_t; cdecl;
    mongoc_uri_get_auth_source: function(uri: Pmongoc_uri_t): PAnsiChar; cdecl;
    mongoc_uri_set_auth_source: function(uri: Pmongoc_uri_t; value: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_get_appname: function(uri: Pmongoc_uri_t): PAnsiChar; cdecl;
    mongoc_uri_set_appname: function(uri: Pmongoc_uri_t; value: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_set_compressors: function(uri: Pmongoc_uri_t; value: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_get_auth_mechanism: function(uri: Pmongoc_uri_t): PAnsiChar; cdecl;
    mongoc_uri_set_auth_mechanism: function(uri: Pmongoc_uri_t; value: PAnsiChar): ByteBool; cdecl;
    mongoc_uri_get_mechanism_properties: function(uri: Pmongoc_uri_t; properties: Pbson_t): ByteBool; cdecl;
    mongoc_uri_set_mechanism_properties: function(uri: Pmongoc_uri_t; properties: Pbson_t): ByteBool; cdecl;
    mongoc_uri_get_tls: function(uri: Pmongoc_uri_t): ByteBool; cdecl;
    mongoc_uri_unescape: function(escaped_string: PAnsiChar): PAnsiChar; cdecl;
    mongoc_uri_get_read_prefs_t: function(uri: Pmongoc_uri_t): Pmongoc_read_prefs_t; cdecl;
    mongoc_uri_set_read_prefs_t: procedure(uri: Pmongoc_uri_t; prefs: Pmongoc_read_prefs_t); cdecl;
    mongoc_uri_get_write_concern: function(uri: Pmongoc_uri_t): Pmongoc_write_concern_t; cdecl;
    mongoc_uri_set_write_concern: procedure(uri: Pmongoc_uri_t; wc: Pmongoc_write_concern_t); cdecl;
    mongoc_uri_get_read_concern: function(uri: Pmongoc_uri_t): Pmongoc_read_concern_t; cdecl;
    mongoc_uri_set_read_concern: procedure(uri: Pmongoc_uri_t; rc: Pmongoc_read_concern_t); cdecl;
    mongoc_uri_get_server_monitoring_mode: function(uri: Pmongoc_uri_t): PAnsiChar; cdecl;
    mongoc_uri_set_server_monitoring_mode: function(uri: Pmongoc_uri_t; value: PAnsiChar): ByteBool; cdecl;
    mongoc_collection_aggregate: function(collection: Pmongoc_collection_t; flags: mongoc_query_flags_t; pipeline: Pbson_t; opts: Pbson_t; read_prefs: Pmongoc_read_prefs_t): Pmongoc_cursor_t; cdecl;
    mongoc_collection_destroy: procedure(collection: Pmongoc_collection_t); cdecl;
    mongoc_collection_copy: function(collection: Pmongoc_collection_t): Pmongoc_collection_t; cdecl;
    mongoc_collection_read_command_with_opts: function(collection: Pmongoc_collection_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_write_command_with_opts: function(collection: Pmongoc_collection_t; command: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_read_write_command_with_opts: function(collection: Pmongoc_collection_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_command_with_opts: function(collection: Pmongoc_collection_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_command_simple: function(collection: Pmongoc_collection_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_drop: function(collection: Pmongoc_collection_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_drop_with_opts: function(collection: Pmongoc_collection_t; opts: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_drop_index: function(collection: Pmongoc_collection_t; index_name: PAnsiChar; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_drop_index_with_opts: function(collection: Pmongoc_collection_t; index_name: PAnsiChar; opts: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_find_indexes_with_opts: function(collection: Pmongoc_collection_t; opts: Pbson_t): Pmongoc_cursor_t; cdecl;
    mongoc_index_model_new: function(keys: Pbson_t; opts: Pbson_t): Pmongoc_index_model_t; cdecl;
    mongoc_index_model_destroy: procedure(model: Pmongoc_index_model_t); cdecl;
    mongoc_collection_create_indexes_with_opts: function(collection: Pmongoc_collection_t; models: PPmongoc_index_model_t; n_models: size_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_find_with_opts: function(collection: Pmongoc_collection_t; filter: Pbson_t; opts: Pbson_t; read_prefs: Pmongoc_read_prefs_t): Pmongoc_cursor_t; cdecl;
    mongoc_collection_insert: function(collection: Pmongoc_collection_t; flags: mongoc_insert_flags_t; document: Pbson_t; write_concern: Pmongoc_write_concern_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_insert_one: function(collection: Pmongoc_collection_t; document: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_insert_many: function(collection: Pmongoc_collection_t; documents: PPbson_t; n_documents: size_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_update: function(collection: Pmongoc_collection_t; flags: mongoc_update_flags_t; selector: Pbson_t; update: Pbson_t; write_concern: Pmongoc_write_concern_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_update_one: function(collection: Pmongoc_collection_t; selector: Pbson_t; update: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_update_many: function(collection: Pmongoc_collection_t; selector: Pbson_t; update: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_replace_one: function(collection: Pmongoc_collection_t; selector: Pbson_t; replacement: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_remove: function(collection: Pmongoc_collection_t; flags: mongoc_remove_flags_t; selector: Pbson_t; write_concern: Pmongoc_write_concern_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_delete_one: function(collection: Pmongoc_collection_t; selector: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_delete_many: function(collection: Pmongoc_collection_t; selector: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_rename: function(collection: Pmongoc_collection_t; new_db: PAnsiChar; new_name: PAnsiChar; drop_target_before_rename: ByteBool; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_rename_with_opts: function(collection: Pmongoc_collection_t; new_db: PAnsiChar; new_name: PAnsiChar; drop_target_before_rename: ByteBool; opts: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_find_and_modify_with_opts: function(collection: Pmongoc_collection_t; query: Pbson_t; opts: Pmongoc_find_and_modify_opts_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_find_and_modify: function(collection: Pmongoc_collection_t; query: Pbson_t; sort: Pbson_t; update: Pbson_t; fields: Pbson_t; _remove: ByteBool; upsert: ByteBool; _new: ByteBool; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_collection_create_bulk_operation_with_opts: function(collection: Pmongoc_collection_t; opts: Pbson_t): Pmongoc_bulk_operation_t; cdecl;
    mongoc_collection_get_read_prefs: function(collection: Pmongoc_collection_t): Pmongoc_read_prefs_t; cdecl;
    mongoc_collection_set_read_prefs: procedure(collection: Pmongoc_collection_t; read_prefs: Pmongoc_read_prefs_t); cdecl;
    mongoc_collection_get_read_concern: function(collection: Pmongoc_collection_t): Pmongoc_read_concern_t; cdecl;
    mongoc_collection_set_read_concern: procedure(collection: Pmongoc_collection_t; read_concern: Pmongoc_read_concern_t); cdecl;
    mongoc_collection_get_write_concern: function(collection: Pmongoc_collection_t): Pmongoc_write_concern_t; cdecl;
    mongoc_collection_set_write_concern: procedure(collection: Pmongoc_collection_t; write_concern: Pmongoc_write_concern_t); cdecl;
    mongoc_collection_get_name: function(collection: Pmongoc_collection_t): PAnsiChar; cdecl;
    mongoc_collection_keys_to_index_string: function(keys: Pbson_t): PAnsiChar; cdecl;
    mongoc_collection_watch: function(coll: Pmongoc_collection_t; pipeline: Pbson_t; opts: Pbson_t): Pmongoc_change_stream_t; cdecl;
    mongoc_collection_count_documents: function(coll: Pmongoc_collection_t; filter: Pbson_t; opts: Pbson_t; read_prefs: Pmongoc_read_prefs_t; reply: Pbson_t; error: Pbson_error_t): int64_t; cdecl;
    mongoc_collection_estimated_document_count: function(coll: Pmongoc_collection_t; opts: Pbson_t; read_prefs: Pmongoc_read_prefs_t; reply: Pbson_t; error: Pbson_error_t): int64_t; cdecl;
    mongoc_database_get_name: function(database: Pmongoc_database_t): PAnsiChar; cdecl;
    mongoc_database_remove_user: function(database: Pmongoc_database_t; username: PAnsiChar; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_database_remove_all_users: function(database: Pmongoc_database_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_database_add_user: function(database: Pmongoc_database_t; username: PAnsiChar; password: PAnsiChar; roles: Pbson_t; custom_data: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_database_destroy: procedure(database: Pmongoc_database_t); cdecl;
    mongoc_database_aggregate: function(db: Pmongoc_database_t; pipeline: Pbson_t; opts: Pbson_t; read_prefs: Pmongoc_read_prefs_t): Pmongoc_cursor_t; cdecl;
    mongoc_database_copy: function(database: Pmongoc_database_t): Pmongoc_database_t; cdecl;
    mongoc_database_read_command_with_opts: function(database: Pmongoc_database_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_database_write_command_with_opts: function(database: Pmongoc_database_t; command: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_database_read_write_command_with_opts: function(database: Pmongoc_database_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_database_command_with_opts: function(database: Pmongoc_database_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_database_command_simple: function(database: Pmongoc_database_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_database_drop: function(database: Pmongoc_database_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_database_drop_with_opts: function(database: Pmongoc_database_t; opts: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_database_has_collection: function(database: Pmongoc_database_t; name: PAnsiChar; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_database_create_collection: function(database: Pmongoc_database_t; name: PAnsiChar; options: Pbson_t; error: Pbson_error_t): Pmongoc_collection_t; cdecl;
    mongoc_database_get_read_prefs: function(database: Pmongoc_database_t): Pmongoc_read_prefs_t; cdecl;
    mongoc_database_set_read_prefs: procedure(database: Pmongoc_database_t; read_prefs: Pmongoc_read_prefs_t); cdecl;
    mongoc_database_get_write_concern: function(database: Pmongoc_database_t): Pmongoc_write_concern_t; cdecl;
    mongoc_database_set_write_concern: procedure(database: Pmongoc_database_t; write_concern: Pmongoc_write_concern_t); cdecl;
    mongoc_database_get_read_concern: function(database: Pmongoc_database_t): Pmongoc_read_concern_t; cdecl;
    mongoc_database_set_read_concern: procedure(database: Pmongoc_database_t; read_concern: Pmongoc_read_concern_t); cdecl;
    mongoc_database_find_collections_with_opts: function(database: Pmongoc_database_t; opts: Pbson_t): Pmongoc_cursor_t; cdecl;
    mongoc_database_get_collection_names_with_opts: function(database: Pmongoc_database_t; opts: Pbson_t; error: Pbson_error_t): PPAnsiChar; cdecl;
    mongoc_database_get_collection: function(database: Pmongoc_database_t; name: PAnsiChar): Pmongoc_collection_t; cdecl;
    mongoc_database_watch: function(db: Pmongoc_database_t; pipeline: Pbson_t; opts: Pbson_t): Pmongoc_change_stream_t; cdecl;
    mongoc_gridfs_file_get_id: function(&file: Pmongoc_gridfs_file_t): Pbson_value_t; cdecl;
    mongoc_gridfs_file_get_length: function(&file: Pmongoc_gridfs_file_t): int64_t; cdecl;
    mongoc_gridfs_file_get_chunk_size: function(&file: Pmongoc_gridfs_file_t): int32_t; cdecl;
    mongoc_gridfs_file_get_upload_date: function(&file: Pmongoc_gridfs_file_t): int64_t; cdecl;
    mongoc_gridfs_file_writev: function(&file: Pmongoc_gridfs_file_t; iov: Pmongoc_iovec_t; iovcnt: size_t; timeout_msec: uint32_t): ssize_t; cdecl;
    mongoc_gridfs_file_readv: function(&file: Pmongoc_gridfs_file_t; iov: Pmongoc_iovec_t; iovcnt: size_t; min_bytes: size_t; timeout_msec: uint32_t): ssize_t; cdecl;
    mongoc_gridfs_file_seek: function(&file: Pmongoc_gridfs_file_t; delta: int64_t; whence: Integer): Integer; cdecl;
    mongoc_gridfs_file_tell: function(&file: Pmongoc_gridfs_file_t): uint64_t; cdecl;
    mongoc_gridfs_file_set_id: function(&file: Pmongoc_gridfs_file_t; id: Pbson_value_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_gridfs_file_save: function(&file: Pmongoc_gridfs_file_t): ByteBool; cdecl;
    mongoc_gridfs_file_destroy: procedure(&file: Pmongoc_gridfs_file_t); cdecl;
    mongoc_gridfs_file_error: function(&file: Pmongoc_gridfs_file_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_gridfs_file_remove: function(&file: Pmongoc_gridfs_file_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_gridfs_file_list_next: function(list: Pmongoc_gridfs_file_list_t): Pmongoc_gridfs_file_t; cdecl;
    mongoc_gridfs_file_list_destroy: procedure(list: Pmongoc_gridfs_file_list_t); cdecl;
    mongoc_gridfs_file_list_error: function(list: Pmongoc_gridfs_file_list_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_gridfs_bucket_new: function(db: Pmongoc_database_t; opts: Pbson_t; read_prefs: Pmongoc_read_prefs_t; error: Pbson_error_t): Pmongoc_gridfs_bucket_t; cdecl;
    mongoc_gridfs_bucket_open_upload_stream: function(bucket: Pmongoc_gridfs_bucket_t; filename: PAnsiChar; opts: Pbson_t; file_id: Pbson_value_t; error: Pbson_error_t): Pmongoc_stream_t; cdecl;
    mongoc_gridfs_bucket_open_upload_stream_with_id: function(bucket: Pmongoc_gridfs_bucket_t; file_id: Pbson_value_t; filename: PAnsiChar; opts: Pbson_t; error: Pbson_error_t): Pmongoc_stream_t; cdecl;
    mongoc_gridfs_bucket_upload_from_stream: function(bucket: Pmongoc_gridfs_bucket_t; filename: PAnsiChar; source: Pmongoc_stream_t; opts: Pbson_t; file_id: Pbson_value_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_gridfs_bucket_upload_from_stream_with_id: function(bucket: Pmongoc_gridfs_bucket_t; file_id: Pbson_value_t; filename: PAnsiChar; source: Pmongoc_stream_t; opts: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_gridfs_bucket_open_download_stream: function(bucket: Pmongoc_gridfs_bucket_t; file_id: Pbson_value_t; error: Pbson_error_t): Pmongoc_stream_t; cdecl;
    mongoc_gridfs_bucket_download_to_stream: function(bucket: Pmongoc_gridfs_bucket_t; file_id: Pbson_value_t; destination: Pmongoc_stream_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_gridfs_bucket_delete_by_id: function(bucket: Pmongoc_gridfs_bucket_t; file_id: Pbson_value_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_gridfs_bucket_find: function(bucket: Pmongoc_gridfs_bucket_t; filter: Pbson_t; opts: Pbson_t): Pmongoc_cursor_t; cdecl;
    mongoc_gridfs_bucket_stream_error: function(stream: Pmongoc_stream_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_gridfs_bucket_destroy: procedure(bucket: Pmongoc_gridfs_bucket_t); cdecl;
    mongoc_gridfs_bucket_abort_upload: function(stream: Pmongoc_stream_t): ByteBool; cdecl;
    mongoc_gridfs_create_file_from_stream: function(gridfs: Pmongoc_gridfs_t; stream: Pmongoc_stream_t; opt: Pmongoc_gridfs_file_opt_t): Pmongoc_gridfs_file_t; cdecl;
    mongoc_gridfs_create_file: function(gridfs: Pmongoc_gridfs_t; opt: Pmongoc_gridfs_file_opt_t): Pmongoc_gridfs_file_t; cdecl;
    mongoc_gridfs_find_with_opts: function(gridfs: Pmongoc_gridfs_t; filter: Pbson_t; opts: Pbson_t): Pmongoc_gridfs_file_list_t; cdecl;
    mongoc_gridfs_find_one_with_opts: function(gridfs: Pmongoc_gridfs_t; filter: Pbson_t; opts: Pbson_t; error: Pbson_error_t): Pmongoc_gridfs_file_t; cdecl;
    mongoc_gridfs_find_one_by_filename: function(gridfs: Pmongoc_gridfs_t; filename: PAnsiChar; error: Pbson_error_t): Pmongoc_gridfs_file_t; cdecl;
    mongoc_gridfs_drop: function(gridfs: Pmongoc_gridfs_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_gridfs_destroy: procedure(gridfs: Pmongoc_gridfs_t); cdecl;
    mongoc_gridfs_get_files: function(gridfs: Pmongoc_gridfs_t): Pmongoc_collection_t; cdecl;
    mongoc_gridfs_get_chunks: function(gridfs: Pmongoc_gridfs_t): Pmongoc_collection_t; cdecl;
    mongoc_gridfs_remove_by_filename: function(gridfs: Pmongoc_gridfs_t; filename: PAnsiChar; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_stream_gridfs_new: function(&file: Pmongoc_gridfs_file_t): Pmongoc_stream_t; cdecl;
    mongoc_client_new: function(uri_string: PAnsiChar): Pmongoc_client_t; cdecl;
    mongoc_client_new_from_uri: function(uri: Pmongoc_uri_t): Pmongoc_client_t; cdecl;
    mongoc_client_new_from_uri_with_error: function(uri: Pmongoc_uri_t; error: Pbson_error_t): Pmongoc_client_t; cdecl;
    mongoc_client_set_sockettimeoutms: procedure(client: Pmongoc_client_t; timeoutms: int32_t); cdecl;
    mongoc_client_get_uri: function(client: Pmongoc_client_t): Pmongoc_uri_t; cdecl;
    mongoc_client_set_stream_initiator: procedure(client: Pmongoc_client_t; initiator: mongoc_stream_initiator_t; user_data: Pvoid); cdecl;
    mongoc_client_command_simple: function(client: Pmongoc_client_t; db_name: PAnsiChar; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_read_command_with_opts: function(client: Pmongoc_client_t; db_name: PAnsiChar; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_write_command_with_opts: function(client: Pmongoc_client_t; db_name: PAnsiChar; command: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_read_write_command_with_opts: function(client: Pmongoc_client_t; db_name: PAnsiChar; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_command_with_opts: function(client: Pmongoc_client_t; db_name: PAnsiChar; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_command_simple_with_server_id: function(client: Pmongoc_client_t; db_name: PAnsiChar; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; server_id: uint32_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_destroy: procedure(client: Pmongoc_client_t); cdecl;
    mongoc_client_start_session: function(client: Pmongoc_client_t; opts: Pmongoc_session_opt_t; error: Pbson_error_t): Pmongoc_client_session_t; cdecl;
    mongoc_client_get_database: function(client: Pmongoc_client_t; name: PAnsiChar): Pmongoc_database_t; cdecl;
    mongoc_client_get_default_database: function(client: Pmongoc_client_t): Pmongoc_database_t; cdecl;
    mongoc_client_get_gridfs: function(client: Pmongoc_client_t; db: PAnsiChar; prefix: PAnsiChar; error: Pbson_error_t): Pmongoc_gridfs_t; cdecl;
    mongoc_client_get_collection: function(client: Pmongoc_client_t; db: PAnsiChar; collection: PAnsiChar): Pmongoc_collection_t; cdecl;
    mongoc_client_get_database_names: function(client: Pmongoc_client_t; error: Pbson_error_t): PPAnsiChar; cdecl;
    mongoc_client_get_database_names_with_opts: function(client: Pmongoc_client_t; opts: Pbson_t; error: Pbson_error_t): PPAnsiChar; cdecl;
    mongoc_client_find_databases: function(client: Pmongoc_client_t; error: Pbson_error_t): Pmongoc_cursor_t; cdecl;
    mongoc_client_find_databases_with_opts: function(client: Pmongoc_client_t; opts: Pbson_t): Pmongoc_cursor_t; cdecl;
    mongoc_client_get_write_concern: function(client: Pmongoc_client_t): Pmongoc_write_concern_t; cdecl;
    mongoc_client_set_write_concern: procedure(client: Pmongoc_client_t; write_concern: Pmongoc_write_concern_t); cdecl;
    mongoc_client_get_read_concern: function(client: Pmongoc_client_t): Pmongoc_read_concern_t; cdecl;
    mongoc_client_set_read_concern: procedure(client: Pmongoc_client_t; read_concern: Pmongoc_read_concern_t); cdecl;
    mongoc_client_get_read_prefs: function(client: Pmongoc_client_t): Pmongoc_read_prefs_t; cdecl;
    mongoc_client_set_read_prefs: procedure(client: Pmongoc_client_t; read_prefs: Pmongoc_read_prefs_t); cdecl;
    mongoc_client_set_ssl_opts: procedure(client: Pmongoc_client_t; opts: Pmongoc_ssl_opt_t); cdecl;
    mongoc_client_set_apm_callbacks: function(client: Pmongoc_client_t; callbacks: Pmongoc_apm_callbacks_t; context: Pvoid): ByteBool; cdecl;
    mongoc_client_set_structured_log_opts: function(client: Pmongoc_client_t; opts: Pmongoc_structured_log_opts_t): ByteBool; cdecl;
    mongoc_client_get_server_description: function(client: Pmongoc_client_t; server_id: uint32_t): Pmongoc_server_description_t; cdecl;
    mongoc_client_get_server_descriptions: function(client: Pmongoc_client_t; n: Psize_t): PPmongoc_server_description_t; cdecl;
    mongoc_server_descriptions_destroy_all: procedure(sds: PPmongoc_server_description_t; n: size_t); cdecl;
    mongoc_client_select_server: function(client: Pmongoc_client_t; for_writes: ByteBool; prefs: Pmongoc_read_prefs_t; error: Pbson_error_t): Pmongoc_server_description_t; cdecl;
    mongoc_client_set_error_api: function(client: Pmongoc_client_t; version: int32_t): ByteBool; cdecl;
    mongoc_client_set_appname: function(client: Pmongoc_client_t; appname: PAnsiChar): ByteBool; cdecl;
    mongoc_client_watch: function(client: Pmongoc_client_t; pipeline: Pbson_t; opts: Pbson_t): Pmongoc_change_stream_t; cdecl;
    mongoc_client_reset: procedure(client: Pmongoc_client_t); cdecl;
    mongoc_client_enable_auto_encryption: function(client: Pmongoc_client_t; opts: Pmongoc_auto_encryption_opts_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_get_crypt_shared_version: function(client: Pmongoc_client_t): PAnsiChar; cdecl;
    mongoc_client_set_server_api: function(client: Pmongoc_client_t; api: Pmongoc_server_api_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_get_handshake_description: function(client: Pmongoc_client_t; server_id: uint32_t; opts: Pbson_t; error: Pbson_error_t): Pmongoc_server_description_t; cdecl;
    mongoc_client_set_oidc_callback: function(client: Pmongoc_client_t; callback: Pmongoc_oidc_callback_t): ByteBool; cdecl;
    mongoc_client_pool_new: function(uri: Pmongoc_uri_t): Pmongoc_client_pool_t; cdecl;
    mongoc_client_pool_new_with_error: function(uri: Pmongoc_uri_t; error: Pbson_error_t): Pmongoc_client_pool_t; cdecl;
    mongoc_client_pool_destroy: procedure(pool: Pmongoc_client_pool_t); cdecl;
    mongoc_client_pool_pop: function(pool: Pmongoc_client_pool_t): Pmongoc_client_t; cdecl;
    mongoc_client_pool_push: procedure(pool: Pmongoc_client_pool_t; client: Pmongoc_client_t); cdecl;
    mongoc_client_pool_try_pop: function(pool: Pmongoc_client_pool_t): Pmongoc_client_t; cdecl;
    mongoc_client_pool_max_size: procedure(pool: Pmongoc_client_pool_t; max_pool_size: uint32_t); cdecl;
    mongoc_client_pool_set_ssl_opts: procedure(pool: Pmongoc_client_pool_t; opts: Pmongoc_ssl_opt_t); cdecl;
    mongoc_client_pool_set_apm_callbacks: function(pool: Pmongoc_client_pool_t; callbacks: Pmongoc_apm_callbacks_t; context: Pvoid): ByteBool; cdecl;
    mongoc_client_pool_set_error_api: function(pool: Pmongoc_client_pool_t; version: int32_t): ByteBool; cdecl;
    mongoc_client_pool_set_appname: function(pool: Pmongoc_client_pool_t; appname: PAnsiChar): ByteBool; cdecl;
    mongoc_client_pool_enable_auto_encryption: function(pool: Pmongoc_client_pool_t; opts: Pmongoc_auto_encryption_opts_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_pool_set_server_api: function(pool: Pmongoc_client_pool_t; api: Pmongoc_server_api_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_pool_set_structured_log_opts: function(pool: Pmongoc_client_pool_t; opts: Pmongoc_structured_log_opts_t): ByteBool; cdecl;
    mongoc_client_pool_set_oidc_callback: function(pool: Pmongoc_client_pool_t; callback: Pmongoc_oidc_callback_t): ByteBool; cdecl;
    mongoc_transaction_opts_new: function(): Pmongoc_transaction_opt_t; cdecl;
    mongoc_transaction_opts_clone: function(opts: Pmongoc_transaction_opt_t): Pmongoc_transaction_opt_t; cdecl;
    mongoc_transaction_opts_destroy: procedure(opts: Pmongoc_transaction_opt_t); cdecl;
    mongoc_transaction_opts_set_max_commit_time_ms: procedure(opts: Pmongoc_transaction_opt_t; max_commit_time_ms: int64_t); cdecl;
    mongoc_transaction_opts_get_max_commit_time_ms: function(opts: Pmongoc_transaction_opt_t): int64_t; cdecl;
    mongoc_transaction_opts_set_read_concern: procedure(opts: Pmongoc_transaction_opt_t; read_concern: Pmongoc_read_concern_t); cdecl;
    mongoc_transaction_opts_get_read_concern: function(opts: Pmongoc_transaction_opt_t): Pmongoc_read_concern_t; cdecl;
    mongoc_transaction_opts_set_write_concern: procedure(opts: Pmongoc_transaction_opt_t; write_concern: Pmongoc_write_concern_t); cdecl;
    mongoc_transaction_opts_get_write_concern: function(opts: Pmongoc_transaction_opt_t): Pmongoc_write_concern_t; cdecl;
    mongoc_transaction_opts_set_read_prefs: procedure(opts: Pmongoc_transaction_opt_t; read_prefs: Pmongoc_read_prefs_t); cdecl;
    mongoc_transaction_opts_get_read_prefs: function(opts: Pmongoc_transaction_opt_t): Pmongoc_read_prefs_t; cdecl;
    mongoc_session_opts_new: function(): Pmongoc_session_opt_t; cdecl;
    mongoc_session_opts_set_causal_consistency: procedure(opts: Pmongoc_session_opt_t; causal_consistency: ByteBool); cdecl;
    mongoc_session_opts_get_causal_consistency: function(opts: Pmongoc_session_opt_t): ByteBool; cdecl;
    mongoc_session_opts_set_snapshot: procedure(opts: Pmongoc_session_opt_t; snapshot: ByteBool); cdecl;
    mongoc_session_opts_get_snapshot: function(opts: Pmongoc_session_opt_t): ByteBool; cdecl;
    mongoc_session_opts_set_default_transaction_opts: procedure(opts: Pmongoc_session_opt_t; txn_opts: Pmongoc_transaction_opt_t); cdecl;
    mongoc_session_opts_get_default_transaction_opts: function(opts: Pmongoc_session_opt_t): Pmongoc_transaction_opt_t; cdecl;
    mongoc_session_opts_get_transaction_opts: function(session: Pmongoc_client_session_t): Pmongoc_transaction_opt_t; cdecl;
    mongoc_session_opts_clone: function(opts: Pmongoc_session_opt_t): Pmongoc_session_opt_t; cdecl;
    mongoc_session_opts_destroy: procedure(opts: Pmongoc_session_opt_t); cdecl;
    mongoc_client_session_get_client: function(session: Pmongoc_client_session_t): Pmongoc_client_t; cdecl;
    mongoc_client_session_get_opts: function(session: Pmongoc_client_session_t): Pmongoc_session_opt_t; cdecl;
    mongoc_client_session_get_lsid: function(session: Pmongoc_client_session_t): Pbson_t; cdecl;
    mongoc_client_session_get_cluster_time: function(session: Pmongoc_client_session_t): Pbson_t; cdecl;
    mongoc_client_session_advance_cluster_time: procedure(session: Pmongoc_client_session_t; cluster_time: Pbson_t); cdecl;
    mongoc_client_session_get_operation_time: procedure(session: Pmongoc_client_session_t; timestamp: Puint32_t; increment: Puint32_t); cdecl;
    mongoc_client_session_get_server_id: function(session: Pmongoc_client_session_t): uint32_t; cdecl;
    mongoc_client_session_advance_operation_time: procedure(session: Pmongoc_client_session_t; timestamp: uint32_t; increment: uint32_t); cdecl;
    mongoc_client_session_with_transaction: function(session: Pmongoc_client_session_t; cb: mongoc_client_session_with_transaction_cb_t; opts: Pmongoc_transaction_opt_t; ctx: Pvoid; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_session_start_transaction: function(session: Pmongoc_client_session_t; opts: Pmongoc_transaction_opt_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_session_in_transaction: function(session: Pmongoc_client_session_t): ByteBool; cdecl;
    mongoc_client_session_get_transaction_state: function(session: Pmongoc_client_session_t): mongoc_transaction_state_t; cdecl;
    mongoc_client_session_commit_transaction: function(session: Pmongoc_client_session_t; reply: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_session_abort_transaction: function(session: Pmongoc_client_session_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_session_append: function(client_session: Pmongoc_client_session_t; opts: Pbson_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_client_session_destroy: procedure(session: Pmongoc_client_session_t); cdecl;
    mongoc_client_session_get_dirty: function(session: Pmongoc_client_session_t): ByteBool; cdecl;
    mongoc_bulkwriteopts_new: function(): Pmongoc_bulkwriteopts_t; cdecl;
    mongoc_bulkwriteopts_set_ordered: procedure(self: Pmongoc_bulkwriteopts_t; ordered: ByteBool); cdecl;
    mongoc_bulkwriteopts_set_bypassdocumentvalidation: procedure(self: Pmongoc_bulkwriteopts_t; bypassdocumentvalidation: ByteBool); cdecl;
    mongoc_bulkwriteopts_set_let: procedure(self: Pmongoc_bulkwriteopts_t; let: Pbson_t); cdecl;
    mongoc_bulkwriteopts_set_writeconcern: procedure(self: Pmongoc_bulkwriteopts_t; writeconcern: Pmongoc_write_concern_t); cdecl;
    mongoc_bulkwriteopts_set_comment: procedure(self: Pmongoc_bulkwriteopts_t; comment: Pbson_value_t); cdecl;
    mongoc_bulkwriteopts_set_verboseresults: procedure(self: Pmongoc_bulkwriteopts_t; verboseresults: ByteBool); cdecl;
    mongoc_bulkwriteopts_set_extra: procedure(self: Pmongoc_bulkwriteopts_t; extra: Pbson_t); cdecl;
    mongoc_bulkwriteopts_set_serverid: procedure(self: Pmongoc_bulkwriteopts_t; serverid: uint32_t); cdecl;
    mongoc_bulkwriteopts_destroy: procedure(self: Pmongoc_bulkwriteopts_t); cdecl;
    mongoc_bulkwriteresult_insertedcount: function(self: Pmongoc_bulkwriteresult_t): int64_t; cdecl;
    mongoc_bulkwriteresult_upsertedcount: function(self: Pmongoc_bulkwriteresult_t): int64_t; cdecl;
    mongoc_bulkwriteresult_matchedcount: function(self: Pmongoc_bulkwriteresult_t): int64_t; cdecl;
    mongoc_bulkwriteresult_modifiedcount: function(self: Pmongoc_bulkwriteresult_t): int64_t; cdecl;
    mongoc_bulkwriteresult_deletedcount: function(self: Pmongoc_bulkwriteresult_t): int64_t; cdecl;
    mongoc_bulkwriteresult_insertresults: function(self: Pmongoc_bulkwriteresult_t): Pbson_t; cdecl;
    mongoc_bulkwriteresult_updateresults: function(self: Pmongoc_bulkwriteresult_t): Pbson_t; cdecl;
    mongoc_bulkwriteresult_deleteresults: function(self: Pmongoc_bulkwriteresult_t): Pbson_t; cdecl;
    mongoc_bulkwriteresult_serverid: function(self: Pmongoc_bulkwriteresult_t): uint32_t; cdecl;
    mongoc_bulkwriteresult_destroy: procedure(self: Pmongoc_bulkwriteresult_t); cdecl;
    mongoc_bulkwriteexception_error: function(self: Pmongoc_bulkwriteexception_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulkwriteexception_writeerrors: function(self: Pmongoc_bulkwriteexception_t): Pbson_t; cdecl;
    mongoc_bulkwriteexception_writeconcernerrors: function(self: Pmongoc_bulkwriteexception_t): Pbson_t; cdecl;
    mongoc_bulkwriteexception_errorreply: function(self: Pmongoc_bulkwriteexception_t): Pbson_t; cdecl;
    mongoc_bulkwriteexception_destroy: procedure(self: Pmongoc_bulkwriteexception_t); cdecl;
    mongoc_client_bulkwrite_new: function(self: Pmongoc_client_t): Pmongoc_bulkwrite_t; cdecl;
    mongoc_bulkwrite_insertoneopts_new: function(): Pmongoc_bulkwrite_insertoneopts_t; cdecl;
    mongoc_bulkwrite_insertoneopts_destroy: procedure(self: Pmongoc_bulkwrite_insertoneopts_t); cdecl;
    mongoc_bulkwrite_append_insertone: function(self: Pmongoc_bulkwrite_t; ns: PAnsiChar; document: Pbson_t; opts: Pmongoc_bulkwrite_insertoneopts_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulkwrite_updateoneopts_new: function(): Pmongoc_bulkwrite_updateoneopts_t; cdecl;
    mongoc_bulkwrite_updateoneopts_set_arrayfilters: procedure(self: Pmongoc_bulkwrite_updateoneopts_t; arrayfilters: Pbson_t); cdecl;
    mongoc_bulkwrite_updateoneopts_set_collation: procedure(self: Pmongoc_bulkwrite_updateoneopts_t; collation: Pbson_t); cdecl;
    mongoc_bulkwrite_updateoneopts_set_hint: procedure(self: Pmongoc_bulkwrite_updateoneopts_t; hint: Pbson_value_t); cdecl;
    mongoc_bulkwrite_updateoneopts_set_upsert: procedure(self: Pmongoc_bulkwrite_updateoneopts_t; upsert: ByteBool); cdecl;
    mongoc_bulkwrite_updateoneopts_set_sort: procedure(self: Pmongoc_bulkwrite_updateoneopts_t; sort: Pbson_t); cdecl;
    mongoc_bulkwrite_updateoneopts_destroy: procedure(self: Pmongoc_bulkwrite_updateoneopts_t); cdecl;
    mongoc_bulkwrite_append_updateone: function(self: Pmongoc_bulkwrite_t; ns: PAnsiChar; filter: Pbson_t; update: Pbson_t; opts: Pmongoc_bulkwrite_updateoneopts_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulkwrite_updatemanyopts_new: function(): Pmongoc_bulkwrite_updatemanyopts_t; cdecl;
    mongoc_bulkwrite_updatemanyopts_set_arrayfilters: procedure(self: Pmongoc_bulkwrite_updatemanyopts_t; arrayfilters: Pbson_t); cdecl;
    mongoc_bulkwrite_updatemanyopts_set_collation: procedure(self: Pmongoc_bulkwrite_updatemanyopts_t; collation: Pbson_t); cdecl;
    mongoc_bulkwrite_updatemanyopts_set_hint: procedure(self: Pmongoc_bulkwrite_updatemanyopts_t; hint: Pbson_value_t); cdecl;
    mongoc_bulkwrite_updatemanyopts_set_upsert: procedure(self: Pmongoc_bulkwrite_updatemanyopts_t; upsert: ByteBool); cdecl;
    mongoc_bulkwrite_updatemanyopts_destroy: procedure(self: Pmongoc_bulkwrite_updatemanyopts_t); cdecl;
    mongoc_bulkwrite_append_updatemany: function(self: Pmongoc_bulkwrite_t; ns: PAnsiChar; filter: Pbson_t; update: Pbson_t; opts: Pmongoc_bulkwrite_updatemanyopts_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulkwrite_replaceoneopts_new: function(): Pmongoc_bulkwrite_replaceoneopts_t; cdecl;
    mongoc_bulkwrite_replaceoneopts_set_collation: procedure(self: Pmongoc_bulkwrite_replaceoneopts_t; collation: Pbson_t); cdecl;
    mongoc_bulkwrite_replaceoneopts_set_hint: procedure(self: Pmongoc_bulkwrite_replaceoneopts_t; hint: Pbson_value_t); cdecl;
    mongoc_bulkwrite_replaceoneopts_set_upsert: procedure(self: Pmongoc_bulkwrite_replaceoneopts_t; upsert: ByteBool); cdecl;
    mongoc_bulkwrite_replaceoneopts_set_sort: procedure(self: Pmongoc_bulkwrite_replaceoneopts_t; sort: Pbson_t); cdecl;
    mongoc_bulkwrite_replaceoneopts_destroy: procedure(self: Pmongoc_bulkwrite_replaceoneopts_t); cdecl;
    mongoc_bulkwrite_append_replaceone: function(self: Pmongoc_bulkwrite_t; ns: PAnsiChar; filter: Pbson_t; replacement: Pbson_t; opts: Pmongoc_bulkwrite_replaceoneopts_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulkwrite_deleteoneopts_new: function(): Pmongoc_bulkwrite_deleteoneopts_t; cdecl;
    mongoc_bulkwrite_deleteoneopts_set_collation: procedure(self: Pmongoc_bulkwrite_deleteoneopts_t; collation: Pbson_t); cdecl;
    mongoc_bulkwrite_deleteoneopts_set_hint: procedure(self: Pmongoc_bulkwrite_deleteoneopts_t; hint: Pbson_value_t); cdecl;
    mongoc_bulkwrite_deleteoneopts_destroy: procedure(self: Pmongoc_bulkwrite_deleteoneopts_t); cdecl;
    mongoc_bulkwrite_append_deleteone: function(self: Pmongoc_bulkwrite_t; ns: PAnsiChar; filter: Pbson_t; opts: Pmongoc_bulkwrite_deleteoneopts_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulkwrite_deletemanyopts_new: function(): Pmongoc_bulkwrite_deletemanyopts_t; cdecl;
    mongoc_bulkwrite_deletemanyopts_set_collation: procedure(self: Pmongoc_bulkwrite_deletemanyopts_t; collation: Pbson_t); cdecl;
    mongoc_bulkwrite_deletemanyopts_set_hint: procedure(self: Pmongoc_bulkwrite_deletemanyopts_t; hint: Pbson_value_t); cdecl;
    mongoc_bulkwrite_deletemanyopts_destroy: procedure(self: Pmongoc_bulkwrite_deletemanyopts_t); cdecl;
    mongoc_bulkwrite_append_deletemany: function(self: Pmongoc_bulkwrite_t; ns: PAnsiChar; filter: Pbson_t; opts: Pmongoc_bulkwrite_deletemanyopts_t; error: Pbson_error_t): ByteBool; cdecl;
    mongoc_bulkwrite_new: function(): Pmongoc_bulkwrite_t; cdecl;
    mongoc_bulkwrite_set_client: procedure(self: Pmongoc_bulkwrite_t; client: Pmongoc_client_t); cdecl;
    mongoc_bulkwrite_set_session: procedure(self: Pmongoc_bulkwrite_t; session: Pmongoc_client_session_t); cdecl;
    mongoc_bulkwrite_execute: function(self: Pmongoc_bulkwrite_t; opts: Pmongoc_bulkwriteopts_t): mongoc_bulkwritereturn_t; cdecl;
    mongoc_bulkwrite_check_acknowledged: function(self: Pmongoc_bulkwrite_t; error: Pbson_error_t): mongoc_bulkwrite_check_acknowledged_t; cdecl;
    mongoc_bulkwrite_serverid: function(self: Pmongoc_bulkwrite_t; error: Pbson_error_t): mongoc_bulkwrite_serverid_t; cdecl;
    mongoc_bulkwrite_destroy: procedure(self: Pmongoc_bulkwrite_t); cdecl;
    mongoc_client_set_usleep_impl: procedure(client: Pmongoc_client_t; usleep_func: mongoc_usleep_func_t; user_data: Pvoid); cdecl;
    mongoc_usleep_default_impl: procedure(usec: int64_t; user_data: Pvoid); cdecl;
  public
    constructor Create(const ALibraryDir: String); virtual;
    destructor Destroy; override;
  end;

var
  ALMongoDBLibrary: TALMongoDBLibrary;

procedure ALCreateALMongoDBLibrary(const ALibraryDir: String);
procedure ALFreeALMongoDBLibrary;

implementation

uses
  System.SysUtils,
  System.IOUtils,
  Alcinoe.Common;

{**************************************************************}
constructor TALMongoDBLibrary.Create(const ALibraryDir: String);

  {~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~}
  function GetProcAddress(const AModule: HMODULE; const AProcName: PAnsiChar): Pointer;
  begin
    Result := Winapi.Windows.GetProcAddress(AModule, AProcName);
    if Result = nil then
      raise Exception.CreateFmt('Function "%s" was not found in the given DLL', [AProcName]);
  end;

begin

  inherited Create;

  Fbson2Lib := LoadLibrary(PChar(TPath.Combine(ALibraryDir, 'bson2.dll')));
  if Fbson2Lib = 0 then raiseLastOsError;

  Fmongoc2Lib := LoadLibrary(PChar(TPath.Combine(ALibraryDir, 'mongoc2.dll')));
  if Fmongoc2Lib = 0 then raiseLastOsError;

  bson_set_error := GetProcAddress(Fbson2Lib,'bson_set_error');
  bson_strerror_r := GetProcAddress(Fbson2Lib,'bson_strerror_r');
  bson_mem_set_vtable := GetProcAddress(Fbson2Lib,'bson_mem_set_vtable');
  bson_mem_restore_vtable := GetProcAddress(Fbson2Lib,'bson_mem_restore_vtable');
  bson_malloc := GetProcAddress(Fbson2Lib,'bson_malloc');
  bson_malloc0 := GetProcAddress(Fbson2Lib,'bson_malloc0');
  bson_aligned_alloc := GetProcAddress(Fbson2Lib,'bson_aligned_alloc');
  bson_aligned_alloc0 := GetProcAddress(Fbson2Lib,'bson_aligned_alloc0');
  bson_array_alloc := GetProcAddress(Fbson2Lib,'bson_array_alloc');
  bson_array_alloc0 := GetProcAddress(Fbson2Lib,'bson_array_alloc0');
  bson_realloc := GetProcAddress(Fbson2Lib,'bson_realloc');
  bson_realloc_ctx := GetProcAddress(Fbson2Lib,'bson_realloc_ctx');
  bson_free := GetProcAddress(Fbson2Lib,'bson_free');
  bson_zero_free := GetProcAddress(Fbson2Lib,'bson_zero_free');
  bson_writer_new := GetProcAddress(Fbson2Lib,'bson_writer_new');
  bson_writer_destroy := GetProcAddress(Fbson2Lib,'bson_writer_destroy');
  bson_writer_get_length := GetProcAddress(Fbson2Lib,'bson_writer_get_length');
  bson_writer_begin := GetProcAddress(Fbson2Lib,'bson_writer_begin');
  bson_writer_end := GetProcAddress(Fbson2Lib,'bson_writer_end');
  bson_writer_rollback := GetProcAddress(Fbson2Lib,'bson_writer_rollback');
  bson_context_new := GetProcAddress(Fbson2Lib,'bson_context_new');
  bson_context_destroy := GetProcAddress(Fbson2Lib,'bson_context_destroy');
  bson_context_get_default := GetProcAddress(Fbson2Lib,'bson_context_get_default');
  bson_get_monotonic_time := GetProcAddress(Fbson2Lib,'bson_get_monotonic_time');
  bson_gettimeofday := GetProcAddress(Fbson2Lib,'bson_gettimeofday');
  bson_decimal128_to_string := GetProcAddress(Fbson2Lib,'bson_decimal128_to_string');
  bson_decimal128_from_string := GetProcAddress(Fbson2Lib,'bson_decimal128_from_string');
  bson_decimal128_from_string_w_len := GetProcAddress(Fbson2Lib,'bson_decimal128_from_string_w_len');
  bson_json_opts_new := GetProcAddress(Fbson2Lib,'bson_json_opts_new');
  bson_json_opts_destroy := GetProcAddress(Fbson2Lib,'bson_json_opts_destroy');
  bson_json_opts_set_outermost_array := GetProcAddress(Fbson2Lib,'bson_json_opts_set_outermost_array');
  bson_json_reader_new := GetProcAddress(Fbson2Lib,'bson_json_reader_new');
  bson_json_reader_new_from_fd := GetProcAddress(Fbson2Lib,'bson_json_reader_new_from_fd');
  bson_json_reader_new_from_file := GetProcAddress(Fbson2Lib,'bson_json_reader_new_from_file');
  bson_json_reader_destroy := GetProcAddress(Fbson2Lib,'bson_json_reader_destroy');
  bson_json_reader_read := GetProcAddress(Fbson2Lib,'bson_json_reader_read');
  bson_json_data_reader_new := GetProcAddress(Fbson2Lib,'bson_json_data_reader_new');
  bson_json_data_reader_ingest := GetProcAddress(Fbson2Lib,'bson_json_data_reader_ingest');
  bson_uint32_to_string := GetProcAddress(Fbson2Lib,'bson_uint32_to_string');
  bson_strdup := GetProcAddress(Fbson2Lib,'bson_strdup');
  bson_strdup_printf := GetProcAddress(Fbson2Lib,'bson_strdup_printf');
  bson_strdupv_printf := GetProcAddress(Fbson2Lib,'bson_strdupv_printf');
  bson_strndup := GetProcAddress(Fbson2Lib,'bson_strndup');
  bson_strncpy := GetProcAddress(Fbson2Lib,'bson_strncpy');
  bson_vsnprintf := GetProcAddress(Fbson2Lib,'bson_vsnprintf');
  bson_snprintf := GetProcAddress(Fbson2Lib,'bson_snprintf');
  bson_strfreev := GetProcAddress(Fbson2Lib,'bson_strfreev');
  bson_strnlen := GetProcAddress(Fbson2Lib,'bson_strnlen');
  bson_ascii_strtoll := GetProcAddress(Fbson2Lib,'bson_ascii_strtoll');
  bson_strcasecmp := GetProcAddress(Fbson2Lib,'bson_strcasecmp');
  bson_isspace := GetProcAddress(Fbson2Lib,'bson_isspace');
  bson_utf8_validate := GetProcAddress(Fbson2Lib,'bson_utf8_validate');
  bson_utf8_escape_for_json := GetProcAddress(Fbson2Lib,'bson_utf8_escape_for_json');
  bson_utf8_get_char := GetProcAddress(Fbson2Lib,'bson_utf8_get_char');
  bson_utf8_next_char := GetProcAddress(Fbson2Lib,'bson_utf8_next_char');
  bson_utf8_from_unichar := GetProcAddress(Fbson2Lib,'bson_utf8_from_unichar');
  bson_value_copy := GetProcAddress(Fbson2Lib,'bson_value_copy');
  bson_value_destroy := GetProcAddress(Fbson2Lib,'bson_value_destroy');
  bson_get_major_version := GetProcAddress(Fbson2Lib,'bson_get_major_version');
  bson_get_minor_version := GetProcAddress(Fbson2Lib,'bson_get_minor_version');
  bson_get_micro_version := GetProcAddress(Fbson2Lib,'bson_get_micro_version');
  bson_get_version := GetProcAddress(Fbson2Lib,'bson_get_version');
  bson_check_version := GetProcAddress(Fbson2Lib,'bson_check_version');
  bcon_append := GetProcAddress(Fbson2Lib,'bcon_append');
  bcon_append_ctx := GetProcAddress(Fbson2Lib,'bcon_append_ctx');
  bcon_append_ctx_va := GetProcAddress(Fbson2Lib,'bcon_append_ctx_va');
  bcon_append_ctx_init := GetProcAddress(Fbson2Lib,'bcon_append_ctx_init');
  bcon_extract_ctx_init := GetProcAddress(Fbson2Lib,'bcon_extract_ctx_init');
  bcon_extract_ctx := GetProcAddress(Fbson2Lib,'bcon_extract_ctx');
  bcon_extract_ctx_va := GetProcAddress(Fbson2Lib,'bcon_extract_ctx_va');
  bcon_extract := GetProcAddress(Fbson2Lib,'bcon_extract');
  bcon_new := GetProcAddress(Fbson2Lib,'bcon_new');
  bson_bcon_magic := GetProcAddress(Fbson2Lib,'bson_bcon_magic');
  bson_bcone_magic := GetProcAddress(Fbson2Lib,'bson_bcone_magic');
  bson_reader_new_from_handle := GetProcAddress(Fbson2Lib,'bson_reader_new_from_handle');
  bson_reader_new_from_fd := GetProcAddress(Fbson2Lib,'bson_reader_new_from_fd');
  bson_reader_new_from_file := GetProcAddress(Fbson2Lib,'bson_reader_new_from_file');
  bson_reader_new_from_data := GetProcAddress(Fbson2Lib,'bson_reader_new_from_data');
  bson_reader_destroy := GetProcAddress(Fbson2Lib,'bson_reader_destroy');
  bson_reader_set_read_func := GetProcAddress(Fbson2Lib,'bson_reader_set_read_func');
  bson_reader_set_destroy_func := GetProcAddress(Fbson2Lib,'bson_reader_set_destroy_func');
  bson_reader_read := GetProcAddress(Fbson2Lib,'bson_reader_read');
  bson_reader_tell := GetProcAddress(Fbson2Lib,'bson_reader_tell');
  bson_reader_reset := GetProcAddress(Fbson2Lib,'bson_reader_reset');
  bson_oid_compare := GetProcAddress(Fbson2Lib,'bson_oid_compare');
  bson_oid_copy := GetProcAddress(Fbson2Lib,'bson_oid_copy');
  bson_oid_equal := GetProcAddress(Fbson2Lib,'bson_oid_equal');
  bson_oid_is_valid := GetProcAddress(Fbson2Lib,'bson_oid_is_valid');
  bson_oid_get_time_t := GetProcAddress(Fbson2Lib,'bson_oid_get_time_t');
  bson_oid_hash := GetProcAddress(Fbson2Lib,'bson_oid_hash');
  bson_oid_init := GetProcAddress(Fbson2Lib,'bson_oid_init');
  bson_oid_init_from_data := GetProcAddress(Fbson2Lib,'bson_oid_init_from_data');
  bson_oid_init_from_string := GetProcAddress(Fbson2Lib,'bson_oid_init_from_string');
  bson_oid_to_string := GetProcAddress(Fbson2Lib,'bson_oid_to_string');
  bson_iter_value := GetProcAddress(Fbson2Lib,'bson_iter_value');
  bson_iter_array := GetProcAddress(Fbson2Lib,'bson_iter_array');
  bson_iter_binary := GetProcAddress(Fbson2Lib,'bson_iter_binary');
  bson_iter_overwrite_binary := GetProcAddress(Fbson2Lib,'bson_iter_overwrite_binary');
  bson_iter_binary_subtype := GetProcAddress(Fbson2Lib,'bson_iter_binary_subtype');
  bson_iter_binary_equal := GetProcAddress(Fbson2Lib,'bson_iter_binary_equal');
  bson_iter_code := GetProcAddress(Fbson2Lib,'bson_iter_code');
  bson_iter_codewscope := GetProcAddress(Fbson2Lib,'bson_iter_codewscope');
  bson_iter_dbpointer := GetProcAddress(Fbson2Lib,'bson_iter_dbpointer');
  bson_iter_document := GetProcAddress(Fbson2Lib,'bson_iter_document');
  bson_iter_double := GetProcAddress(Fbson2Lib,'bson_iter_double');
  bson_iter_as_double := GetProcAddress(Fbson2Lib,'bson_iter_as_double');
  bson_iter_init := GetProcAddress(Fbson2Lib,'bson_iter_init');
  bson_iter_init_from_data := GetProcAddress(Fbson2Lib,'bson_iter_init_from_data');
  bson_iter_init_find := GetProcAddress(Fbson2Lib,'bson_iter_init_find');
  bson_iter_init_find_w_len := GetProcAddress(Fbson2Lib,'bson_iter_init_find_w_len');
  bson_iter_init_find_case := GetProcAddress(Fbson2Lib,'bson_iter_init_find_case');
  bson_iter_init_from_data_at_offset := GetProcAddress(Fbson2Lib,'bson_iter_init_from_data_at_offset');
  bson_iter_int32 := GetProcAddress(Fbson2Lib,'bson_iter_int32');
  bson_iter_int64 := GetProcAddress(Fbson2Lib,'bson_iter_int64');
  bson_iter_as_int64 := GetProcAddress(Fbson2Lib,'bson_iter_as_int64');
  bson_iter_find := GetProcAddress(Fbson2Lib,'bson_iter_find');
  bson_iter_find_w_len := GetProcAddress(Fbson2Lib,'bson_iter_find_w_len');
  bson_iter_find_case := GetProcAddress(Fbson2Lib,'bson_iter_find_case');
  bson_iter_find_descendant := GetProcAddress(Fbson2Lib,'bson_iter_find_descendant');
  bson_iter_next := GetProcAddress(Fbson2Lib,'bson_iter_next');
  bson_iter_oid := GetProcAddress(Fbson2Lib,'bson_iter_oid');
  bson_iter_decimal128 := GetProcAddress(Fbson2Lib,'bson_iter_decimal128');
  bson_iter_key := GetProcAddress(Fbson2Lib,'bson_iter_key');
  bson_iter_key_len := GetProcAddress(Fbson2Lib,'bson_iter_key_len');
  bson_iter_utf8 := GetProcAddress(Fbson2Lib,'bson_iter_utf8');
  bson_iter_dup_utf8 := GetProcAddress(Fbson2Lib,'bson_iter_dup_utf8');
  bson_iter_date_time := GetProcAddress(Fbson2Lib,'bson_iter_date_time');
  bson_iter_time_t := GetProcAddress(Fbson2Lib,'bson_iter_time_t');
  bson_iter_timeval := GetProcAddress(Fbson2Lib,'bson_iter_timeval');
  bson_iter_timestamp := GetProcAddress(Fbson2Lib,'bson_iter_timestamp');
  bson_iter_bool := GetProcAddress(Fbson2Lib,'bson_iter_bool');
  bson_iter_as_bool := GetProcAddress(Fbson2Lib,'bson_iter_as_bool');
  bson_iter_regex := GetProcAddress(Fbson2Lib,'bson_iter_regex');
  bson_iter_symbol := GetProcAddress(Fbson2Lib,'bson_iter_symbol');
  bson_iter_type := GetProcAddress(Fbson2Lib,'bson_iter_type');
  bson_iter_recurse := GetProcAddress(Fbson2Lib,'bson_iter_recurse');
  bson_iter_overwrite_int32 := GetProcAddress(Fbson2Lib,'bson_iter_overwrite_int32');
  bson_iter_overwrite_int64 := GetProcAddress(Fbson2Lib,'bson_iter_overwrite_int64');
  bson_iter_overwrite_double := GetProcAddress(Fbson2Lib,'bson_iter_overwrite_double');
  bson_iter_overwrite_decimal128 := GetProcAddress(Fbson2Lib,'bson_iter_overwrite_decimal128');
  bson_iter_overwrite_bool := GetProcAddress(Fbson2Lib,'bson_iter_overwrite_bool');
  bson_iter_overwrite_oid := GetProcAddress(Fbson2Lib,'bson_iter_overwrite_oid');
  bson_iter_overwrite_timestamp := GetProcAddress(Fbson2Lib,'bson_iter_overwrite_timestamp');
  bson_iter_overwrite_date_time := GetProcAddress(Fbson2Lib,'bson_iter_overwrite_date_time');
  bson_iter_visit_all := GetProcAddress(Fbson2Lib,'bson_iter_visit_all');
  bson_iter_offset := GetProcAddress(Fbson2Lib,'bson_iter_offset');
  bson_vector_int8_view_init := GetProcAddress(Fbson2Lib,'bson_vector_int8_view_init');
  bson_vector_int8_const_view_init := GetProcAddress(Fbson2Lib,'bson_vector_int8_const_view_init');
  bson_vector_float32_view_init := GetProcAddress(Fbson2Lib,'bson_vector_float32_view_init');
  bson_vector_float32_const_view_init := GetProcAddress(Fbson2Lib,'bson_vector_float32_const_view_init');
  bson_vector_packed_bit_view_init := GetProcAddress(Fbson2Lib,'bson_vector_packed_bit_view_init');
  bson_vector_packed_bit_const_view_init := GetProcAddress(Fbson2Lib,'bson_vector_packed_bit_const_view_init');
  bson_vector_int8_view_from_iter := GetProcAddress(Fbson2Lib,'bson_vector_int8_view_from_iter');
  bson_vector_int8_const_view_from_iter := GetProcAddress(Fbson2Lib,'bson_vector_int8_const_view_from_iter');
  bson_vector_float32_view_from_iter := GetProcAddress(Fbson2Lib,'bson_vector_float32_view_from_iter');
  bson_vector_float32_const_view_from_iter := GetProcAddress(Fbson2Lib,'bson_vector_float32_const_view_from_iter');
  bson_vector_packed_bit_view_from_iter := GetProcAddress(Fbson2Lib,'bson_vector_packed_bit_view_from_iter');
  bson_vector_packed_bit_const_view_from_iter := GetProcAddress(Fbson2Lib,'bson_vector_packed_bit_const_view_from_iter');
  bson_array_builder_append_vector_int8_elements := GetProcAddress(Fbson2Lib,'bson_array_builder_append_vector_int8_elements');
  bson_array_builder_append_vector_float32_elements := GetProcAddress(Fbson2Lib,'bson_array_builder_append_vector_float32_elements');
  bson_array_builder_append_vector_packed_bit_elements := GetProcAddress(Fbson2Lib,'bson_array_builder_append_vector_packed_bit_elements');
  bson_array_builder_append_vector_elements := GetProcAddress(Fbson2Lib,'bson_array_builder_append_vector_elements');
  bson_append_vector_int8_uninit := GetProcAddress(Fbson2Lib,'bson_append_vector_int8_uninit');
  bson_append_vector_float32_uninit := GetProcAddress(Fbson2Lib,'bson_append_vector_float32_uninit');
  bson_append_vector_packed_bit_uninit := GetProcAddress(Fbson2Lib,'bson_append_vector_packed_bit_uninit');
  bson_append_vector_int8_from_array := GetProcAddress(Fbson2Lib,'bson_append_vector_int8_from_array');
  bson_append_vector_float32_from_array := GetProcAddress(Fbson2Lib,'bson_append_vector_float32_from_array');
  bson_append_vector_packed_bit_from_array := GetProcAddress(Fbson2Lib,'bson_append_vector_packed_bit_from_array');
  bson_append_array_from_vector_int8 := GetProcAddress(Fbson2Lib,'bson_append_array_from_vector_int8');
  bson_append_array_from_vector_float32 := GetProcAddress(Fbson2Lib,'bson_append_array_from_vector_float32');
  bson_append_array_from_vector_packed_bit := GetProcAddress(Fbson2Lib,'bson_append_array_from_vector_packed_bit');
  bson_new := GetProcAddress(Fbson2Lib,'bson_new');
  bson_new_from_json := GetProcAddress(Fbson2Lib,'bson_new_from_json');
  bson_init_from_json := GetProcAddress(Fbson2Lib,'bson_init_from_json');
  bson_init_static := GetProcAddress(Fbson2Lib,'bson_init_static');
  bson_init := GetProcAddress(Fbson2Lib,'bson_init');
  bson_reinit := GetProcAddress(Fbson2Lib,'bson_reinit');
  bson_new_from_data := GetProcAddress(Fbson2Lib,'bson_new_from_data');
  bson_new_from_buffer := GetProcAddress(Fbson2Lib,'bson_new_from_buffer');
  bson_sized_new := GetProcAddress(Fbson2Lib,'bson_sized_new');
  bson_copy := GetProcAddress(Fbson2Lib,'bson_copy');
  bson_copy_to := GetProcAddress(Fbson2Lib,'bson_copy_to');
  bson_copy_to_excluding_noinit := GetProcAddress(Fbson2Lib,'bson_copy_to_excluding_noinit');
  bson_copy_to_excluding_noinit_va := GetProcAddress(Fbson2Lib,'bson_copy_to_excluding_noinit_va');
  bson_destroy := GetProcAddress(Fbson2Lib,'bson_destroy');
  bson_reserve_buffer := GetProcAddress(Fbson2Lib,'bson_reserve_buffer');
  bson_steal := GetProcAddress(Fbson2Lib,'bson_steal');
  bson_destroy_with_steal := GetProcAddress(Fbson2Lib,'bson_destroy_with_steal');
  bson_get_data := GetProcAddress(Fbson2Lib,'bson_get_data');
  bson_count_keys := GetProcAddress(Fbson2Lib,'bson_count_keys');
  bson_has_field := GetProcAddress(Fbson2Lib,'bson_has_field');
  bson_compare := GetProcAddress(Fbson2Lib,'bson_compare');
  bson_equal := GetProcAddress(Fbson2Lib,'bson_equal');
  bson_validate := GetProcAddress(Fbson2Lib,'bson_validate');
  bson_validate_with_error := GetProcAddress(Fbson2Lib,'bson_validate_with_error');
  bson_validate_with_error_and_offset := GetProcAddress(Fbson2Lib,'bson_validate_with_error_and_offset');
  bson_as_json_with_opts := GetProcAddress(Fbson2Lib,'bson_as_json_with_opts');
  bson_as_canonical_extended_json := GetProcAddress(Fbson2Lib,'bson_as_canonical_extended_json');
  bson_as_legacy_extended_json := GetProcAddress(Fbson2Lib,'bson_as_legacy_extended_json');
  bson_as_relaxed_extended_json := GetProcAddress(Fbson2Lib,'bson_as_relaxed_extended_json');
  bson_array_as_legacy_extended_json := GetProcAddress(Fbson2Lib,'bson_array_as_legacy_extended_json');
  bson_array_as_relaxed_extended_json := GetProcAddress(Fbson2Lib,'bson_array_as_relaxed_extended_json');
  bson_array_as_canonical_extended_json := GetProcAddress(Fbson2Lib,'bson_array_as_canonical_extended_json');
  bson_array_builder_new := GetProcAddress(Fbson2Lib,'bson_array_builder_new');
  bson_array_builder_build := GetProcAddress(Fbson2Lib,'bson_array_builder_build');
  bson_array_builder_destroy := GetProcAddress(Fbson2Lib,'bson_array_builder_destroy');
  bson_append_value := GetProcAddress(Fbson2Lib,'bson_append_value');
  bson_array_builder_append_value := GetProcAddress(Fbson2Lib,'bson_array_builder_append_value');
  bson_append_array := GetProcAddress(Fbson2Lib,'bson_append_array');
  bson_array_builder_append_array := GetProcAddress(Fbson2Lib,'bson_array_builder_append_array');
  bson_append_array_from_vector := GetProcAddress(Fbson2Lib,'bson_append_array_from_vector');
  bson_array_builder_append_array_from_vector := GetProcAddress(Fbson2Lib,'bson_array_builder_append_array_from_vector');
  bson_append_binary := GetProcAddress(Fbson2Lib,'bson_append_binary');
  bson_array_builder_append_binary := GetProcAddress(Fbson2Lib,'bson_array_builder_append_binary');
  bson_append_binary_uninit := GetProcAddress(Fbson2Lib,'bson_append_binary_uninit');
  bson_array_builder_append_binary_uninit := GetProcAddress(Fbson2Lib,'bson_array_builder_append_binary_uninit');
  bson_append_bool := GetProcAddress(Fbson2Lib,'bson_append_bool');
  bson_array_builder_append_bool := GetProcAddress(Fbson2Lib,'bson_array_builder_append_bool');
  bson_append_code := GetProcAddress(Fbson2Lib,'bson_append_code');
  bson_array_builder_append_code := GetProcAddress(Fbson2Lib,'bson_array_builder_append_code');
  bson_append_code_with_scope := GetProcAddress(Fbson2Lib,'bson_append_code_with_scope');
  bson_array_builder_append_code_with_scope := GetProcAddress(Fbson2Lib,'bson_array_builder_append_code_with_scope');
  bson_append_dbpointer := GetProcAddress(Fbson2Lib,'bson_append_dbpointer');
  bson_array_builder_append_dbpointer := GetProcAddress(Fbson2Lib,'bson_array_builder_append_dbpointer');
  bson_append_double := GetProcAddress(Fbson2Lib,'bson_append_double');
  bson_array_builder_append_double := GetProcAddress(Fbson2Lib,'bson_array_builder_append_double');
  bson_append_document := GetProcAddress(Fbson2Lib,'bson_append_document');
  bson_array_builder_append_document := GetProcAddress(Fbson2Lib,'bson_array_builder_append_document');
  bson_append_document_begin := GetProcAddress(Fbson2Lib,'bson_append_document_begin');
  bson_array_builder_append_document_begin := GetProcAddress(Fbson2Lib,'bson_array_builder_append_document_begin');
  bson_append_document_end := GetProcAddress(Fbson2Lib,'bson_append_document_end');
  bson_array_builder_append_document_end := GetProcAddress(Fbson2Lib,'bson_array_builder_append_document_end');
  bson_append_array_begin := GetProcAddress(Fbson2Lib,'bson_append_array_begin');
  bson_append_array_end := GetProcAddress(Fbson2Lib,'bson_append_array_end');
  bson_append_int32 := GetProcAddress(Fbson2Lib,'bson_append_int32');
  bson_array_builder_append_int32 := GetProcAddress(Fbson2Lib,'bson_array_builder_append_int32');
  bson_append_int64 := GetProcAddress(Fbson2Lib,'bson_append_int64');
  bson_array_builder_append_int64 := GetProcAddress(Fbson2Lib,'bson_array_builder_append_int64');
  bson_append_decimal128 := GetProcAddress(Fbson2Lib,'bson_append_decimal128');
  bson_array_builder_append_decimal128 := GetProcAddress(Fbson2Lib,'bson_array_builder_append_decimal128');
  bson_append_iter := GetProcAddress(Fbson2Lib,'bson_append_iter');
  bson_array_builder_append_iter := GetProcAddress(Fbson2Lib,'bson_array_builder_append_iter');
  bson_append_minkey := GetProcAddress(Fbson2Lib,'bson_append_minkey');
  bson_array_builder_append_minkey := GetProcAddress(Fbson2Lib,'bson_array_builder_append_minkey');
  bson_append_maxkey := GetProcAddress(Fbson2Lib,'bson_append_maxkey');
  bson_array_builder_append_maxkey := GetProcAddress(Fbson2Lib,'bson_array_builder_append_maxkey');
  bson_append_null := GetProcAddress(Fbson2Lib,'bson_append_null');
  bson_array_builder_append_null := GetProcAddress(Fbson2Lib,'bson_array_builder_append_null');
  bson_append_oid := GetProcAddress(Fbson2Lib,'bson_append_oid');
  bson_array_builder_append_oid := GetProcAddress(Fbson2Lib,'bson_array_builder_append_oid');
  bson_append_regex := GetProcAddress(Fbson2Lib,'bson_append_regex');
  bson_array_builder_append_regex := GetProcAddress(Fbson2Lib,'bson_array_builder_append_regex');
  bson_append_regex_w_len := GetProcAddress(Fbson2Lib,'bson_append_regex_w_len');
  bson_array_builder_append_regex_w_len := GetProcAddress(Fbson2Lib,'bson_array_builder_append_regex_w_len');
  bson_append_utf8 := GetProcAddress(Fbson2Lib,'bson_append_utf8');
  bson_array_builder_append_utf8 := GetProcAddress(Fbson2Lib,'bson_array_builder_append_utf8');
  bson_append_symbol := GetProcAddress(Fbson2Lib,'bson_append_symbol');
  bson_array_builder_append_symbol := GetProcAddress(Fbson2Lib,'bson_array_builder_append_symbol');
  bson_append_time_t := GetProcAddress(Fbson2Lib,'bson_append_time_t');
  bson_array_builder_append_time_t := GetProcAddress(Fbson2Lib,'bson_array_builder_append_time_t');
  bson_append_timeval := GetProcAddress(Fbson2Lib,'bson_append_timeval');
  bson_array_builder_append_timeval := GetProcAddress(Fbson2Lib,'bson_array_builder_append_timeval');
  bson_append_date_time := GetProcAddress(Fbson2Lib,'bson_append_date_time');
  bson_array_builder_append_date_time := GetProcAddress(Fbson2Lib,'bson_array_builder_append_date_time');
  bson_append_now_utc := GetProcAddress(Fbson2Lib,'bson_append_now_utc');
  bson_array_builder_append_now_utc := GetProcAddress(Fbson2Lib,'bson_array_builder_append_now_utc');
  bson_append_timestamp := GetProcAddress(Fbson2Lib,'bson_append_timestamp');
  bson_array_builder_append_timestamp := GetProcAddress(Fbson2Lib,'bson_array_builder_append_timestamp');
  bson_append_undefined := GetProcAddress(Fbson2Lib,'bson_append_undefined');
  bson_array_builder_append_undefined := GetProcAddress(Fbson2Lib,'bson_array_builder_append_undefined');
  bson_concat := GetProcAddress(Fbson2Lib,'bson_concat');
  bson_append_array_builder_begin := GetProcAddress(Fbson2Lib,'bson_append_array_builder_begin');
  bson_array_builder_append_array_builder_begin := GetProcAddress(Fbson2Lib,'bson_array_builder_append_array_builder_begin');
  bson_append_array_builder_end := GetProcAddress(Fbson2Lib,'bson_append_array_builder_end');
  bson_array_builder_append_array_builder_end := GetProcAddress(Fbson2Lib,'bson_array_builder_append_array_builder_end');
  mongoc_write_concern_new := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_new');
  mongoc_write_concern_copy := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_copy');
  mongoc_write_concern_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_destroy');
  mongoc_write_concern_get_journal := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_get_journal');
  mongoc_write_concern_journal_is_set := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_journal_is_set');
  mongoc_write_concern_set_journal := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_set_journal');
  mongoc_write_concern_get_w := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_get_w');
  mongoc_write_concern_set_w := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_set_w');
  mongoc_write_concern_get_wtag := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_get_wtag');
  mongoc_write_concern_set_wtag := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_set_wtag');
  mongoc_write_concern_get_wtimeout := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_get_wtimeout');
  mongoc_write_concern_get_wtimeout_int64 := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_get_wtimeout_int64');
  mongoc_write_concern_set_wtimeout := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_set_wtimeout');
  mongoc_write_concern_set_wtimeout_int64 := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_set_wtimeout_int64');
  mongoc_write_concern_get_wmajority := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_get_wmajority');
  mongoc_write_concern_set_wmajority := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_set_wmajority');
  mongoc_write_concern_is_acknowledged := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_is_acknowledged');
  mongoc_write_concern_is_valid := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_is_valid');
  mongoc_write_concern_append := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_append');
  mongoc_write_concern_is_default := GetProcAddress(Fmongoc2Lib,'mongoc_write_concern_is_default');
  mongoc_read_concern_new := GetProcAddress(Fmongoc2Lib,'mongoc_read_concern_new');
  mongoc_read_concern_copy := GetProcAddress(Fmongoc2Lib,'mongoc_read_concern_copy');
  mongoc_read_concern_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_read_concern_destroy');
  mongoc_read_concern_get_level := GetProcAddress(Fmongoc2Lib,'mongoc_read_concern_get_level');
  mongoc_read_concern_set_level := GetProcAddress(Fmongoc2Lib,'mongoc_read_concern_set_level');
  mongoc_read_concern_append := GetProcAddress(Fmongoc2Lib,'mongoc_read_concern_append');
  mongoc_read_concern_is_default := GetProcAddress(Fmongoc2Lib,'mongoc_read_concern_is_default');
  mongoc_optional_init := GetProcAddress(Fmongoc2Lib,'mongoc_optional_init');
  mongoc_optional_is_set := GetProcAddress(Fmongoc2Lib,'mongoc_optional_is_set');
  mongoc_optional_value := GetProcAddress(Fmongoc2Lib,'mongoc_optional_value');
  mongoc_optional_set_value := GetProcAddress(Fmongoc2Lib,'mongoc_optional_set_value');
  mongoc_optional_copy := GetProcAddress(Fmongoc2Lib,'mongoc_optional_copy');
  mongoc_error_has_label := GetProcAddress(Fmongoc2Lib,'mongoc_error_has_label');
  mongoc_find_and_modify_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_new');
  mongoc_find_and_modify_opts_set_sort := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_set_sort');
  mongoc_find_and_modify_opts_get_sort := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_get_sort');
  mongoc_find_and_modify_opts_set_update := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_set_update');
  mongoc_find_and_modify_opts_get_update := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_get_update');
  mongoc_find_and_modify_opts_set_fields := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_set_fields');
  mongoc_find_and_modify_opts_get_fields := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_get_fields');
  mongoc_find_and_modify_opts_set_flags := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_set_flags');
  mongoc_find_and_modify_opts_get_flags := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_get_flags');
  mongoc_find_and_modify_opts_set_bypass_document_validation := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_set_bypass_document_validation');
  mongoc_find_and_modify_opts_get_bypass_document_validation := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_get_bypass_document_validation');
  mongoc_find_and_modify_opts_set_max_time_ms := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_set_max_time_ms');
  mongoc_find_and_modify_opts_get_max_time_ms := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_get_max_time_ms');
  mongoc_find_and_modify_opts_append := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_append');
  mongoc_find_and_modify_opts_get_extra := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_get_extra');
  mongoc_find_and_modify_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_find_and_modify_opts_destroy');
  mongoc_handshake_data_append := GetProcAddress(Fmongoc2Lib,'mongoc_handshake_data_append');
  mongoc_init := GetProcAddress(Fmongoc2Lib,'mongoc_init');
  mongoc_cleanup := GetProcAddress(Fmongoc2Lib,'mongoc_cleanup');
  mongoc_log_set_handler := GetProcAddress(Fmongoc2Lib,'mongoc_log_set_handler');
  mongoc_log := GetProcAddress(Fmongoc2Lib,'mongoc_log');
  mongoc_log_default_handler := GetProcAddress(Fmongoc2Lib,'mongoc_log_default_handler');
  mongoc_log_level_str := GetProcAddress(Fmongoc2Lib,'mongoc_log_level_str');
  mongoc_log_trace_enable := GetProcAddress(Fmongoc2Lib,'mongoc_log_trace_enable');
  mongoc_log_trace_disable := GetProcAddress(Fmongoc2Lib,'mongoc_log_trace_disable');
  mongoc_oidc_callback_new := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_callback_new');
  mongoc_oidc_callback_new_with_user_data := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_callback_new_with_user_data');
  mongoc_oidc_callback_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_callback_destroy');
  mongoc_oidc_callback_get_fn := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_callback_get_fn');
  mongoc_oidc_callback_get_user_data := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_callback_get_user_data');
  mongoc_oidc_callback_set_user_data := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_callback_set_user_data');
  mongoc_oidc_callback_params_get_version := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_callback_params_get_version');
  mongoc_oidc_callback_params_get_user_data := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_callback_params_get_user_data');
  mongoc_oidc_callback_params_get_timeout := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_callback_params_get_timeout');
  mongoc_oidc_callback_params_get_username := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_callback_params_get_username');
  mongoc_oidc_callback_params_cancel_with_timeout := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_callback_params_cancel_with_timeout');
  mongoc_oidc_credential_new := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_credential_new');
  mongoc_oidc_credential_new_with_expires_in := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_credential_new_with_expires_in');
  mongoc_oidc_credential_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_credential_destroy');
  mongoc_oidc_credential_get_access_token := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_credential_get_access_token');
  mongoc_oidc_credential_get_expires_in := GetProcAddress(Fmongoc2Lib,'mongoc_oidc_credential_get_expires_in');
  mongoc_rand_seed := GetProcAddress(Fmongoc2Lib,'mongoc_rand_seed');
  mongoc_rand_add := GetProcAddress(Fmongoc2Lib,'mongoc_rand_add');
  mongoc_rand_status := GetProcAddress(Fmongoc2Lib,'mongoc_rand_status');
  mongoc_read_prefs_new := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_new');
  mongoc_read_prefs_copy := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_copy');
  mongoc_read_prefs_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_destroy');
  mongoc_read_prefs_get_mode := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_get_mode');
  mongoc_read_prefs_set_mode := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_set_mode');
  mongoc_read_prefs_get_tags := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_get_tags');
  mongoc_read_prefs_set_tags := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_set_tags');
  mongoc_read_prefs_add_tag := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_add_tag');
  mongoc_read_prefs_get_max_staleness_seconds := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_get_max_staleness_seconds');
  mongoc_read_prefs_set_max_staleness_seconds := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_set_max_staleness_seconds');
  mongoc_read_prefs_get_hedge := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_get_hedge');
  mongoc_read_prefs_set_hedge := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_set_hedge');
  mongoc_read_prefs_is_valid := GetProcAddress(Fmongoc2Lib,'mongoc_read_prefs_is_valid');
  mongoc_server_api_version_to_string := GetProcAddress(Fmongoc2Lib,'mongoc_server_api_version_to_string');
  mongoc_server_api_version_from_string := GetProcAddress(Fmongoc2Lib,'mongoc_server_api_version_from_string');
  mongoc_server_api_new := GetProcAddress(Fmongoc2Lib,'mongoc_server_api_new');
  mongoc_server_api_copy := GetProcAddress(Fmongoc2Lib,'mongoc_server_api_copy');
  mongoc_server_api_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_server_api_destroy');
  mongoc_server_api_strict := GetProcAddress(Fmongoc2Lib,'mongoc_server_api_strict');
  mongoc_server_api_deprecation_errors := GetProcAddress(Fmongoc2Lib,'mongoc_server_api_deprecation_errors');
  mongoc_server_api_get_deprecation_errors := GetProcAddress(Fmongoc2Lib,'mongoc_server_api_get_deprecation_errors');
  mongoc_server_api_get_strict := GetProcAddress(Fmongoc2Lib,'mongoc_server_api_get_strict');
  mongoc_server_api_get_version := GetProcAddress(Fmongoc2Lib,'mongoc_server_api_get_version');
  mongoc_server_description_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_server_description_destroy');
  mongoc_server_description_new_copy := GetProcAddress(Fmongoc2Lib,'mongoc_server_description_new_copy');
  mongoc_server_description_id := GetProcAddress(Fmongoc2Lib,'mongoc_server_description_id');
  mongoc_server_description_host := GetProcAddress(Fmongoc2Lib,'mongoc_server_description_host');
  mongoc_server_description_last_update_time := GetProcAddress(Fmongoc2Lib,'mongoc_server_description_last_update_time');
  mongoc_server_description_round_trip_time := GetProcAddress(Fmongoc2Lib,'mongoc_server_description_round_trip_time');
  mongoc_server_description_type := GetProcAddress(Fmongoc2Lib,'mongoc_server_description_type');
  mongoc_server_description_hello_response := GetProcAddress(Fmongoc2Lib,'mongoc_server_description_hello_response');
  mongoc_server_description_compressor_id := GetProcAddress(Fmongoc2Lib,'mongoc_server_description_compressor_id');
  mongoc_ssl_opt_get_default := GetProcAddress(Fmongoc2Lib,'mongoc_ssl_opt_get_default');
  mongoc_socket_accept := GetProcAddress(Fmongoc2Lib,'mongoc_socket_accept');
  mongoc_socket_bind := GetProcAddress(Fmongoc2Lib,'mongoc_socket_bind');
  mongoc_socket_close := GetProcAddress(Fmongoc2Lib,'mongoc_socket_close');
  mongoc_socket_connect := GetProcAddress(Fmongoc2Lib,'mongoc_socket_connect');
  mongoc_socket_getnameinfo := GetProcAddress(Fmongoc2Lib,'mongoc_socket_getnameinfo');
  mongoc_socket_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_socket_destroy');
  mongoc_socket_errno := GetProcAddress(Fmongoc2Lib,'mongoc_socket_errno');
  mongoc_socket_getsockname := GetProcAddress(Fmongoc2Lib,'mongoc_socket_getsockname');
  mongoc_socket_listen := GetProcAddress(Fmongoc2Lib,'mongoc_socket_listen');
  mongoc_socket_new := GetProcAddress(Fmongoc2Lib,'mongoc_socket_new');
  mongoc_socket_recv := GetProcAddress(Fmongoc2Lib,'mongoc_socket_recv');
  mongoc_socket_setsockopt := GetProcAddress(Fmongoc2Lib,'mongoc_socket_setsockopt');
  mongoc_socket_send := GetProcAddress(Fmongoc2Lib,'mongoc_socket_send');
  mongoc_socket_sendv := GetProcAddress(Fmongoc2Lib,'mongoc_socket_sendv');
  mongoc_socket_check_closed := GetProcAddress(Fmongoc2Lib,'mongoc_socket_check_closed');
  mongoc_socket_inet_ntop := GetProcAddress(Fmongoc2Lib,'mongoc_socket_inet_ntop');
  mongoc_socket_poll := GetProcAddress(Fmongoc2Lib,'mongoc_socket_poll');
  mongoc_stream_get_base_stream := GetProcAddress(Fmongoc2Lib,'mongoc_stream_get_base_stream');
  mongoc_stream_get_tls_stream := GetProcAddress(Fmongoc2Lib,'mongoc_stream_get_tls_stream');
  mongoc_stream_close := GetProcAddress(Fmongoc2Lib,'mongoc_stream_close');
  mongoc_stream_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_stream_destroy');
  mongoc_stream_failed := GetProcAddress(Fmongoc2Lib,'mongoc_stream_failed');
  mongoc_stream_flush := GetProcAddress(Fmongoc2Lib,'mongoc_stream_flush');
  mongoc_stream_writev := GetProcAddress(Fmongoc2Lib,'mongoc_stream_writev');
  mongoc_stream_write := GetProcAddress(Fmongoc2Lib,'mongoc_stream_write');
  mongoc_stream_readv := GetProcAddress(Fmongoc2Lib,'mongoc_stream_readv');
  mongoc_stream_read := GetProcAddress(Fmongoc2Lib,'mongoc_stream_read');
  mongoc_stream_setsockopt := GetProcAddress(Fmongoc2Lib,'mongoc_stream_setsockopt');
  mongoc_stream_check_closed := GetProcAddress(Fmongoc2Lib,'mongoc_stream_check_closed');
  mongoc_stream_timed_out := GetProcAddress(Fmongoc2Lib,'mongoc_stream_timed_out');
  mongoc_stream_should_retry := GetProcAddress(Fmongoc2Lib,'mongoc_stream_should_retry');
  mongoc_stream_poll := GetProcAddress(Fmongoc2Lib,'mongoc_stream_poll');
  mongoc_stream_buffered_new := GetProcAddress(Fmongoc2Lib,'mongoc_stream_buffered_new');
  mongoc_stream_file_new := GetProcAddress(Fmongoc2Lib,'mongoc_stream_file_new');
  mongoc_stream_file_new_for_path := GetProcAddress(Fmongoc2Lib,'mongoc_stream_file_new_for_path');
  mongoc_stream_file_get_fd := GetProcAddress(Fmongoc2Lib,'mongoc_stream_file_get_fd');
  mongoc_stream_socket_new := GetProcAddress(Fmongoc2Lib,'mongoc_stream_socket_new');
  mongoc_stream_socket_get_socket := GetProcAddress(Fmongoc2Lib,'mongoc_stream_socket_get_socket');
  mongoc_structured_log_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_opts_new');
  mongoc_structured_log_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_opts_destroy');
  mongoc_structured_log_opts_set_handler := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_opts_set_handler');
  mongoc_structured_log_opts_set_max_level_for_component := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_opts_set_max_level_for_component');
  mongoc_structured_log_opts_set_max_level_for_all_components := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_opts_set_max_level_for_all_components');
  mongoc_structured_log_opts_set_max_levels_from_env := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_opts_set_max_levels_from_env');
  mongoc_structured_log_opts_get_max_level_for_component := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_opts_get_max_level_for_component');
  mongoc_structured_log_opts_get_max_document_length := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_opts_get_max_document_length');
  mongoc_structured_log_opts_set_max_document_length_from_env := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_opts_set_max_document_length_from_env');
  mongoc_structured_log_opts_set_max_document_length := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_opts_set_max_document_length');
  mongoc_structured_log_entry_message_as_bson := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_entry_message_as_bson');
  mongoc_structured_log_entry_get_level := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_entry_get_level');
  mongoc_structured_log_entry_get_component := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_entry_get_component');
  mongoc_structured_log_entry_get_message_string := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_entry_get_message_string');
  mongoc_structured_log_get_level_name := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_get_level_name');
  mongoc_structured_log_get_named_level := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_get_named_level');
  mongoc_structured_log_get_component_name := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_get_component_name');
  mongoc_structured_log_get_named_component := GetProcAddress(Fmongoc2Lib,'mongoc_structured_log_get_named_component');
  mongoc_get_major_version := GetProcAddress(Fmongoc2Lib,'mongoc_get_major_version');
  mongoc_get_minor_version := GetProcAddress(Fmongoc2Lib,'mongoc_get_minor_version');
  mongoc_get_micro_version := GetProcAddress(Fmongoc2Lib,'mongoc_get_micro_version');
  mongoc_get_version := GetProcAddress(Fmongoc2Lib,'mongoc_get_version');
  mongoc_check_version := GetProcAddress(Fmongoc2Lib,'mongoc_check_version');
  mongoc_cursor_clone := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_clone');
  mongoc_cursor_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_destroy');
  mongoc_cursor_more := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_more');
  mongoc_cursor_next := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_next');
  mongoc_cursor_error := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_error');
  mongoc_cursor_error_document := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_error_document');
  mongoc_cursor_get_host := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_get_host');
  mongoc_cursor_current := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_current');
  mongoc_cursor_set_batch_size := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_set_batch_size');
  mongoc_cursor_get_batch_size := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_get_batch_size');
  mongoc_cursor_set_limit := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_set_limit');
  mongoc_cursor_get_limit := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_get_limit');
  mongoc_cursor_set_server_id := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_set_server_id');
  mongoc_cursor_get_server_id := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_get_server_id');
  mongoc_cursor_get_id := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_get_id');
  mongoc_cursor_set_max_await_time_ms := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_set_max_await_time_ms');
  mongoc_cursor_get_max_await_time_ms := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_get_max_await_time_ms');
  mongoc_cursor_new_from_command_reply_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_cursor_new_from_command_reply_with_opts');
  mongoc_change_stream_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_change_stream_destroy');
  mongoc_change_stream_get_resume_token := GetProcAddress(Fmongoc2Lib,'mongoc_change_stream_get_resume_token');
  mongoc_change_stream_next := GetProcAddress(Fmongoc2Lib,'mongoc_change_stream_next');
  mongoc_change_stream_error_document := GetProcAddress(Fmongoc2Lib,'mongoc_change_stream_error_document');
  mongoc_bulk_operation_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_destroy');
  mongoc_bulk_operation_execute := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_execute');
  mongoc_bulk_operation_insert := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_insert');
  mongoc_bulk_operation_insert_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_insert_with_opts');
  mongoc_bulk_operation_remove := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_remove');
  mongoc_bulk_operation_remove_many_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_remove_many_with_opts');
  mongoc_bulk_operation_remove_one := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_remove_one');
  mongoc_bulk_operation_remove_one_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_remove_one_with_opts');
  mongoc_bulk_operation_replace_one := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_replace_one');
  mongoc_bulk_operation_replace_one_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_replace_one_with_opts');
  mongoc_bulk_operation_update := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_update');
  mongoc_bulk_operation_update_many_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_update_many_with_opts');
  mongoc_bulk_operation_update_one := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_update_one');
  mongoc_bulk_operation_update_one_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_update_one_with_opts');
  mongoc_bulk_operation_set_bypass_document_validation := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_set_bypass_document_validation');
  mongoc_bulk_operation_set_comment := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_set_comment');
  mongoc_bulk_operation_set_let := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_set_let');
  mongoc_bulk_operation_new := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_new');
  mongoc_bulk_operation_set_write_concern := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_set_write_concern');
  mongoc_bulk_operation_set_database := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_set_database');
  mongoc_bulk_operation_set_collection := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_set_collection');
  mongoc_bulk_operation_set_client := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_set_client');
  mongoc_bulk_operation_set_client_session := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_set_client_session');
  mongoc_bulk_operation_set_server_id := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_set_server_id');
  mongoc_bulk_operation_get_server_id := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_get_server_id');
  mongoc_bulk_operation_get_write_concern := GetProcAddress(Fmongoc2Lib,'mongoc_bulk_operation_get_write_concern');
  mongoc_auto_encryption_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_new');
  mongoc_auto_encryption_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_destroy');
  mongoc_auto_encryption_opts_set_keyvault_client := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_set_keyvault_client');
  mongoc_auto_encryption_opts_set_keyvault_client_pool := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_set_keyvault_client_pool');
  mongoc_auto_encryption_opts_set_keyvault_namespace := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_set_keyvault_namespace');
  mongoc_auto_encryption_opts_set_kms_providers := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_set_kms_providers');
  mongoc_auto_encryption_opts_set_key_expiration := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_set_key_expiration');
  mongoc_auto_encryption_opts_set_tls_opts := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_set_tls_opts');
  mongoc_auto_encryption_opts_set_schema_map := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_set_schema_map');
  mongoc_auto_encryption_opts_set_encrypted_fields_map := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_set_encrypted_fields_map');
  mongoc_auto_encryption_opts_set_bypass_auto_encryption := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_set_bypass_auto_encryption');
  mongoc_auto_encryption_opts_set_bypass_query_analysis := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_set_bypass_query_analysis');
  mongoc_auto_encryption_opts_set_extra := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_set_extra');
  mongoc_auto_encryption_opts_set_kms_credential_provider_callback := GetProcAddress(Fmongoc2Lib,'mongoc_auto_encryption_opts_set_kms_credential_provider_callback');
  mongoc_client_encryption_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_opts_new');
  mongoc_client_encryption_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_opts_destroy');
  mongoc_client_encryption_opts_set_keyvault_client := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_opts_set_keyvault_client');
  mongoc_client_encryption_opts_set_keyvault_namespace := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_opts_set_keyvault_namespace');
  mongoc_client_encryption_opts_set_kms_providers := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_opts_set_kms_providers');
  mongoc_client_encryption_opts_set_tls_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_opts_set_tls_opts');
  mongoc_client_encryption_opts_set_kms_credential_provider_callback := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_opts_set_kms_credential_provider_callback');
  mongoc_client_encryption_opts_set_key_expiration := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_opts_set_key_expiration');
  mongoc_client_encryption_rewrap_many_datakey_result_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_rewrap_many_datakey_result_new');
  mongoc_client_encryption_rewrap_many_datakey_result_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_rewrap_many_datakey_result_destroy');
  mongoc_client_encryption_rewrap_many_datakey_result_get_bulk_write_result := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_rewrap_many_datakey_result_get_bulk_write_result');
  mongoc_client_encryption_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_new');
  mongoc_client_encryption_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_destroy');
  mongoc_client_encryption_create_datakey := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_create_datakey');
  mongoc_client_encryption_rewrap_many_datakey := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_rewrap_many_datakey');
  mongoc_client_encryption_delete_key := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_delete_key');
  mongoc_client_encryption_get_key := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_get_key');
  mongoc_client_encryption_encrypt_text_prefix_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_prefix_opts_new');
  mongoc_client_encryption_encrypt_text_suffix_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_suffix_opts_new');
  mongoc_client_encryption_encrypt_text_substring_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_substring_opts_new');
  mongoc_client_encryption_encrypt_text_prefix_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_prefix_opts_destroy');
  mongoc_client_encryption_encrypt_text_suffix_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_suffix_opts_destroy');
  mongoc_client_encryption_encrypt_text_substring_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_substring_opts_destroy');
  mongoc_client_encryption_encrypt_text_prefix_opts_set_str_max_query_length := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_prefix_opts_set_str_max_query_length');
  mongoc_client_encryption_encrypt_text_prefix_opts_set_str_min_query_length := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_prefix_opts_set_str_min_query_length');
  mongoc_client_encryption_encrypt_text_suffix_opts_set_str_max_query_length := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_suffix_opts_set_str_max_query_length');
  mongoc_client_encryption_encrypt_text_suffix_opts_set_str_min_query_length := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_suffix_opts_set_str_min_query_length');
  mongoc_client_encryption_encrypt_text_substring_opts_set_str_max_length := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_substring_opts_set_str_max_length');
  mongoc_client_encryption_encrypt_text_substring_opts_set_str_max_query_length := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_substring_opts_set_str_max_query_length');
  mongoc_client_encryption_encrypt_text_substring_opts_set_str_min_query_length := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_substring_opts_set_str_min_query_length');
  mongoc_client_encryption_encrypt_text_opts_set_prefix := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_opts_set_prefix');
  mongoc_client_encryption_encrypt_text_opts_set_suffix := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_opts_set_suffix');
  mongoc_client_encryption_encrypt_text_opts_set_substring := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_opts_set_substring');
  mongoc_client_encryption_encrypt_text_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_opts_new');
  mongoc_client_encryption_encrypt_text_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_opts_destroy');
  mongoc_client_encryption_get_keys := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_get_keys');
  mongoc_client_encryption_add_key_alt_name := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_add_key_alt_name');
  mongoc_client_encryption_remove_key_alt_name := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_remove_key_alt_name');
  mongoc_client_encryption_get_key_by_alt_name := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_get_key_by_alt_name');
  mongoc_client_encryption_encrypt := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt');
  mongoc_client_encryption_encrypt_expression := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_expression');
  mongoc_client_encryption_decrypt := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_decrypt');
  mongoc_client_encryption_encrypt_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_opts_new');
  mongoc_client_encryption_encrypt_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_opts_destroy');
  mongoc_client_encryption_encrypt_opts_set_keyid := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_opts_set_keyid');
  mongoc_client_encryption_encrypt_opts_set_keyaltname := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_opts_set_keyaltname');
  mongoc_client_encryption_encrypt_opts_set_algorithm := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_opts_set_algorithm');
  mongoc_client_encryption_encrypt_opts_set_contention_factor := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_opts_set_contention_factor');
  mongoc_client_encryption_encrypt_opts_set_text_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_opts_set_text_opts');
  mongoc_client_encryption_encrypt_text_opts_set_case_sensitive := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_opts_set_case_sensitive');
  mongoc_client_encryption_encrypt_text_opts_set_diacritic_sensitive := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_text_opts_set_diacritic_sensitive');
  mongoc_client_encryption_encrypt_opts_set_query_type := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_opts_set_query_type');
  mongoc_client_encryption_encrypt_range_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_range_opts_new');
  mongoc_client_encryption_encrypt_range_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_range_opts_destroy');
  mongoc_client_encryption_encrypt_range_opts_set_trim_factor := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_range_opts_set_trim_factor');
  mongoc_client_encryption_encrypt_range_opts_set_sparsity := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_range_opts_set_sparsity');
  mongoc_client_encryption_encrypt_range_opts_set_min := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_range_opts_set_min');
  mongoc_client_encryption_encrypt_range_opts_set_max := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_range_opts_set_max');
  mongoc_client_encryption_encrypt_range_opts_set_precision := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_range_opts_set_precision');
  mongoc_client_encryption_encrypt_opts_set_range_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_encrypt_opts_set_range_opts');
  mongoc_client_encryption_datakey_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_datakey_opts_new');
  mongoc_client_encryption_datakey_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_datakey_opts_destroy');
  mongoc_client_encryption_datakey_opts_set_masterkey := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_datakey_opts_set_masterkey');
  mongoc_client_encryption_datakey_opts_set_keyaltnames := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_datakey_opts_set_keyaltnames');
  mongoc_client_encryption_datakey_opts_set_keymaterial := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_datakey_opts_set_keymaterial');
  mongoc_client_encryption_get_crypt_shared_version := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_get_crypt_shared_version');
  mongoc_client_encryption_create_encrypted_collection := GetProcAddress(Fmongoc2Lib,'mongoc_client_encryption_create_encrypted_collection');
  mongoc_stream_tls_handshake := GetProcAddress(Fmongoc2Lib,'mongoc_stream_tls_handshake');
  mongoc_stream_tls_handshake_block := GetProcAddress(Fmongoc2Lib,'mongoc_stream_tls_handshake_block');
  mongoc_stream_tls_new_with_hostname := GetProcAddress(Fmongoc2Lib,'mongoc_stream_tls_new_with_hostname');
  mongoc_topology_description_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_topology_description_destroy');
  mongoc_topology_description_new_copy := GetProcAddress(Fmongoc2Lib,'mongoc_topology_description_new_copy');
  mongoc_topology_description_has_readable_server := GetProcAddress(Fmongoc2Lib,'mongoc_topology_description_has_readable_server');
  mongoc_topology_description_has_writable_server := GetProcAddress(Fmongoc2Lib,'mongoc_topology_description_has_writable_server');
  mongoc_topology_description_type := GetProcAddress(Fmongoc2Lib,'mongoc_topology_description_type');
  mongoc_topology_description_get_servers := GetProcAddress(Fmongoc2Lib,'mongoc_topology_description_get_servers');
  mongoc_apm_command_started_get_command := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_started_get_command');
  mongoc_apm_command_started_get_database_name := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_started_get_database_name');
  mongoc_apm_command_started_get_command_name := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_started_get_command_name');
  mongoc_apm_command_started_get_request_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_started_get_request_id');
  mongoc_apm_command_started_get_operation_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_started_get_operation_id');
  mongoc_apm_command_started_get_host := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_started_get_host');
  mongoc_apm_command_started_get_server_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_started_get_server_id');
  mongoc_apm_command_started_get_service_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_started_get_service_id');
  mongoc_apm_command_started_get_server_connection_id_int64 := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_started_get_server_connection_id_int64');
  mongoc_apm_command_started_get_context := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_started_get_context');
  mongoc_apm_command_succeeded_get_duration := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_succeeded_get_duration');
  mongoc_apm_command_succeeded_get_reply := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_succeeded_get_reply');
  mongoc_apm_command_succeeded_get_command_name := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_succeeded_get_command_name');
  mongoc_apm_command_succeeded_get_database_name := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_succeeded_get_database_name');
  mongoc_apm_command_succeeded_get_request_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_succeeded_get_request_id');
  mongoc_apm_command_succeeded_get_operation_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_succeeded_get_operation_id');
  mongoc_apm_command_succeeded_get_host := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_succeeded_get_host');
  mongoc_apm_command_succeeded_get_server_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_succeeded_get_server_id');
  mongoc_apm_command_succeeded_get_service_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_succeeded_get_service_id');
  mongoc_apm_command_succeeded_get_server_connection_id_int64 := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_succeeded_get_server_connection_id_int64');
  mongoc_apm_command_succeeded_get_context := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_succeeded_get_context');
  mongoc_apm_command_failed_get_duration := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_failed_get_duration');
  mongoc_apm_command_failed_get_command_name := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_failed_get_command_name');
  mongoc_apm_command_failed_get_database_name := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_failed_get_database_name');
  mongoc_apm_command_failed_get_error := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_failed_get_error');
  mongoc_apm_command_failed_get_reply := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_failed_get_reply');
  mongoc_apm_command_failed_get_request_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_failed_get_request_id');
  mongoc_apm_command_failed_get_operation_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_failed_get_operation_id');
  mongoc_apm_command_failed_get_host := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_failed_get_host');
  mongoc_apm_command_failed_get_server_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_failed_get_server_id');
  mongoc_apm_command_failed_get_service_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_failed_get_service_id');
  mongoc_apm_command_failed_get_server_connection_id_int64 := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_failed_get_server_connection_id_int64');
  mongoc_apm_command_failed_get_context := GetProcAddress(Fmongoc2Lib,'mongoc_apm_command_failed_get_context');
  mongoc_apm_server_changed_get_host := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_changed_get_host');
  mongoc_apm_server_changed_get_topology_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_changed_get_topology_id');
  mongoc_apm_server_changed_get_previous_description := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_changed_get_previous_description');
  mongoc_apm_server_changed_get_new_description := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_changed_get_new_description');
  mongoc_apm_server_changed_get_context := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_changed_get_context');
  mongoc_apm_server_opening_get_host := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_opening_get_host');
  mongoc_apm_server_opening_get_topology_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_opening_get_topology_id');
  mongoc_apm_server_opening_get_context := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_opening_get_context');
  mongoc_apm_server_closed_get_host := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_closed_get_host');
  mongoc_apm_server_closed_get_topology_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_closed_get_topology_id');
  mongoc_apm_server_closed_get_context := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_closed_get_context');
  mongoc_apm_topology_changed_get_topology_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_topology_changed_get_topology_id');
  mongoc_apm_topology_changed_get_previous_description := GetProcAddress(Fmongoc2Lib,'mongoc_apm_topology_changed_get_previous_description');
  mongoc_apm_topology_changed_get_new_description := GetProcAddress(Fmongoc2Lib,'mongoc_apm_topology_changed_get_new_description');
  mongoc_apm_topology_changed_get_context := GetProcAddress(Fmongoc2Lib,'mongoc_apm_topology_changed_get_context');
  mongoc_apm_topology_opening_get_topology_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_topology_opening_get_topology_id');
  mongoc_apm_topology_opening_get_context := GetProcAddress(Fmongoc2Lib,'mongoc_apm_topology_opening_get_context');
  mongoc_apm_topology_closed_get_topology_id := GetProcAddress(Fmongoc2Lib,'mongoc_apm_topology_closed_get_topology_id');
  mongoc_apm_topology_closed_get_context := GetProcAddress(Fmongoc2Lib,'mongoc_apm_topology_closed_get_context');
  mongoc_apm_server_heartbeat_started_get_host := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_started_get_host');
  mongoc_apm_server_heartbeat_started_get_context := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_started_get_context');
  mongoc_apm_server_heartbeat_started_get_awaited := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_started_get_awaited');
  mongoc_apm_server_heartbeat_succeeded_get_duration := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_succeeded_get_duration');
  mongoc_apm_server_heartbeat_succeeded_get_reply := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_succeeded_get_reply');
  mongoc_apm_server_heartbeat_succeeded_get_host := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_succeeded_get_host');
  mongoc_apm_server_heartbeat_succeeded_get_context := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_succeeded_get_context');
  mongoc_apm_server_heartbeat_succeeded_get_awaited := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_succeeded_get_awaited');
  mongoc_apm_server_heartbeat_failed_get_duration := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_failed_get_duration');
  mongoc_apm_server_heartbeat_failed_get_error := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_failed_get_error');
  mongoc_apm_server_heartbeat_failed_get_host := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_failed_get_host');
  mongoc_apm_server_heartbeat_failed_get_context := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_failed_get_context');
  mongoc_apm_server_heartbeat_failed_get_awaited := GetProcAddress(Fmongoc2Lib,'mongoc_apm_server_heartbeat_failed_get_awaited');
  mongoc_apm_callbacks_new := GetProcAddress(Fmongoc2Lib,'mongoc_apm_callbacks_new');
  mongoc_apm_callbacks_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_apm_callbacks_destroy');
  mongoc_apm_set_command_started_cb := GetProcAddress(Fmongoc2Lib,'mongoc_apm_set_command_started_cb');
  mongoc_apm_set_command_succeeded_cb := GetProcAddress(Fmongoc2Lib,'mongoc_apm_set_command_succeeded_cb');
  mongoc_apm_set_command_failed_cb := GetProcAddress(Fmongoc2Lib,'mongoc_apm_set_command_failed_cb');
  mongoc_apm_set_server_changed_cb := GetProcAddress(Fmongoc2Lib,'mongoc_apm_set_server_changed_cb');
  mongoc_apm_set_server_opening_cb := GetProcAddress(Fmongoc2Lib,'mongoc_apm_set_server_opening_cb');
  mongoc_apm_set_server_closed_cb := GetProcAddress(Fmongoc2Lib,'mongoc_apm_set_server_closed_cb');
  mongoc_apm_set_topology_changed_cb := GetProcAddress(Fmongoc2Lib,'mongoc_apm_set_topology_changed_cb');
  mongoc_apm_set_topology_opening_cb := GetProcAddress(Fmongoc2Lib,'mongoc_apm_set_topology_opening_cb');
  mongoc_apm_set_topology_closed_cb := GetProcAddress(Fmongoc2Lib,'mongoc_apm_set_topology_closed_cb');
  mongoc_apm_set_server_heartbeat_started_cb := GetProcAddress(Fmongoc2Lib,'mongoc_apm_set_server_heartbeat_started_cb');
  mongoc_apm_set_server_heartbeat_succeeded_cb := GetProcAddress(Fmongoc2Lib,'mongoc_apm_set_server_heartbeat_succeeded_cb');
  mongoc_apm_set_server_heartbeat_failed_cb := GetProcAddress(Fmongoc2Lib,'mongoc_apm_set_server_heartbeat_failed_cb');
  mongoc_uri_copy := GetProcAddress(Fmongoc2Lib,'mongoc_uri_copy');
  mongoc_uri_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_uri_destroy');
  mongoc_uri_new := GetProcAddress(Fmongoc2Lib,'mongoc_uri_new');
  mongoc_uri_new_with_error := GetProcAddress(Fmongoc2Lib,'mongoc_uri_new_with_error');
  mongoc_uri_new_for_host_port := GetProcAddress(Fmongoc2Lib,'mongoc_uri_new_for_host_port');
  mongoc_uri_get_hosts := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_hosts');
  mongoc_uri_get_srv_hostname := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_srv_hostname');
  mongoc_uri_get_srv_service_name := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_srv_service_name');
  mongoc_uri_get_database := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_database');
  mongoc_uri_set_database := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_database');
  mongoc_uri_get_compressors := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_compressors');
  mongoc_uri_get_options := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_options');
  mongoc_uri_get_password := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_password');
  mongoc_uri_set_password := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_password');
  mongoc_uri_has_option := GetProcAddress(Fmongoc2Lib,'mongoc_uri_has_option');
  mongoc_uri_option_is_int32 := GetProcAddress(Fmongoc2Lib,'mongoc_uri_option_is_int32');
  mongoc_uri_option_is_int64 := GetProcAddress(Fmongoc2Lib,'mongoc_uri_option_is_int64');
  mongoc_uri_option_is_bool := GetProcAddress(Fmongoc2Lib,'mongoc_uri_option_is_bool');
  mongoc_uri_option_is_utf8 := GetProcAddress(Fmongoc2Lib,'mongoc_uri_option_is_utf8');
  mongoc_uri_get_option_as_int32 := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_option_as_int32');
  mongoc_uri_get_option_as_int64 := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_option_as_int64');
  mongoc_uri_get_option_as_bool := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_option_as_bool');
  mongoc_uri_get_option_as_utf8 := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_option_as_utf8');
  mongoc_uri_set_option_as_int32 := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_option_as_int32');
  mongoc_uri_set_option_as_int64 := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_option_as_int64');
  mongoc_uri_set_option_as_bool := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_option_as_bool');
  mongoc_uri_set_option_as_utf8 := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_option_as_utf8');
  mongoc_uri_get_replica_set := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_replica_set');
  mongoc_uri_get_string := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_string');
  mongoc_uri_get_username := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_username');
  mongoc_uri_set_username := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_username');
  mongoc_uri_get_credentials := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_credentials');
  mongoc_uri_get_auth_source := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_auth_source');
  mongoc_uri_set_auth_source := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_auth_source');
  mongoc_uri_get_appname := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_appname');
  mongoc_uri_set_appname := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_appname');
  mongoc_uri_set_compressors := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_compressors');
  mongoc_uri_get_auth_mechanism := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_auth_mechanism');
  mongoc_uri_set_auth_mechanism := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_auth_mechanism');
  mongoc_uri_get_mechanism_properties := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_mechanism_properties');
  mongoc_uri_set_mechanism_properties := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_mechanism_properties');
  mongoc_uri_get_tls := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_tls');
  mongoc_uri_unescape := GetProcAddress(Fmongoc2Lib,'mongoc_uri_unescape');
  mongoc_uri_get_read_prefs_t := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_read_prefs_t');
  mongoc_uri_set_read_prefs_t := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_read_prefs_t');
  mongoc_uri_get_write_concern := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_write_concern');
  mongoc_uri_set_write_concern := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_write_concern');
  mongoc_uri_get_read_concern := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_read_concern');
  mongoc_uri_set_read_concern := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_read_concern');
  mongoc_uri_get_server_monitoring_mode := GetProcAddress(Fmongoc2Lib,'mongoc_uri_get_server_monitoring_mode');
  mongoc_uri_set_server_monitoring_mode := GetProcAddress(Fmongoc2Lib,'mongoc_uri_set_server_monitoring_mode');
  mongoc_collection_aggregate := GetProcAddress(Fmongoc2Lib,'mongoc_collection_aggregate');
  mongoc_collection_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_collection_destroy');
  mongoc_collection_copy := GetProcAddress(Fmongoc2Lib,'mongoc_collection_copy');
  mongoc_collection_read_command_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_collection_read_command_with_opts');
  mongoc_collection_write_command_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_collection_write_command_with_opts');
  mongoc_collection_read_write_command_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_collection_read_write_command_with_opts');
  mongoc_collection_command_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_collection_command_with_opts');
  mongoc_collection_command_simple := GetProcAddress(Fmongoc2Lib,'mongoc_collection_command_simple');
  mongoc_collection_drop := GetProcAddress(Fmongoc2Lib,'mongoc_collection_drop');
  mongoc_collection_drop_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_collection_drop_with_opts');
  mongoc_collection_drop_index := GetProcAddress(Fmongoc2Lib,'mongoc_collection_drop_index');
  mongoc_collection_drop_index_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_collection_drop_index_with_opts');
  mongoc_collection_find_indexes_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_collection_find_indexes_with_opts');
  mongoc_index_model_new := GetProcAddress(Fmongoc2Lib,'mongoc_index_model_new');
  mongoc_index_model_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_index_model_destroy');
  mongoc_collection_create_indexes_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_collection_create_indexes_with_opts');
  mongoc_collection_find_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_collection_find_with_opts');
  mongoc_collection_insert := GetProcAddress(Fmongoc2Lib,'mongoc_collection_insert');
  mongoc_collection_insert_one := GetProcAddress(Fmongoc2Lib,'mongoc_collection_insert_one');
  mongoc_collection_insert_many := GetProcAddress(Fmongoc2Lib,'mongoc_collection_insert_many');
  mongoc_collection_update := GetProcAddress(Fmongoc2Lib,'mongoc_collection_update');
  mongoc_collection_update_one := GetProcAddress(Fmongoc2Lib,'mongoc_collection_update_one');
  mongoc_collection_update_many := GetProcAddress(Fmongoc2Lib,'mongoc_collection_update_many');
  mongoc_collection_replace_one := GetProcAddress(Fmongoc2Lib,'mongoc_collection_replace_one');
  mongoc_collection_remove := GetProcAddress(Fmongoc2Lib,'mongoc_collection_remove');
  mongoc_collection_delete_one := GetProcAddress(Fmongoc2Lib,'mongoc_collection_delete_one');
  mongoc_collection_delete_many := GetProcAddress(Fmongoc2Lib,'mongoc_collection_delete_many');
  mongoc_collection_rename := GetProcAddress(Fmongoc2Lib,'mongoc_collection_rename');
  mongoc_collection_rename_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_collection_rename_with_opts');
  mongoc_collection_find_and_modify_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_collection_find_and_modify_with_opts');
  mongoc_collection_find_and_modify := GetProcAddress(Fmongoc2Lib,'mongoc_collection_find_and_modify');
  mongoc_collection_create_bulk_operation_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_collection_create_bulk_operation_with_opts');
  mongoc_collection_get_read_prefs := GetProcAddress(Fmongoc2Lib,'mongoc_collection_get_read_prefs');
  mongoc_collection_set_read_prefs := GetProcAddress(Fmongoc2Lib,'mongoc_collection_set_read_prefs');
  mongoc_collection_get_read_concern := GetProcAddress(Fmongoc2Lib,'mongoc_collection_get_read_concern');
  mongoc_collection_set_read_concern := GetProcAddress(Fmongoc2Lib,'mongoc_collection_set_read_concern');
  mongoc_collection_get_write_concern := GetProcAddress(Fmongoc2Lib,'mongoc_collection_get_write_concern');
  mongoc_collection_set_write_concern := GetProcAddress(Fmongoc2Lib,'mongoc_collection_set_write_concern');
  mongoc_collection_get_name := GetProcAddress(Fmongoc2Lib,'mongoc_collection_get_name');
  mongoc_collection_keys_to_index_string := GetProcAddress(Fmongoc2Lib,'mongoc_collection_keys_to_index_string');
  mongoc_collection_watch := GetProcAddress(Fmongoc2Lib,'mongoc_collection_watch');
  mongoc_collection_count_documents := GetProcAddress(Fmongoc2Lib,'mongoc_collection_count_documents');
  mongoc_collection_estimated_document_count := GetProcAddress(Fmongoc2Lib,'mongoc_collection_estimated_document_count');
  mongoc_database_get_name := GetProcAddress(Fmongoc2Lib,'mongoc_database_get_name');
  mongoc_database_remove_user := GetProcAddress(Fmongoc2Lib,'mongoc_database_remove_user');
  mongoc_database_remove_all_users := GetProcAddress(Fmongoc2Lib,'mongoc_database_remove_all_users');
  mongoc_database_add_user := GetProcAddress(Fmongoc2Lib,'mongoc_database_add_user');
  mongoc_database_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_database_destroy');
  mongoc_database_aggregate := GetProcAddress(Fmongoc2Lib,'mongoc_database_aggregate');
  mongoc_database_copy := GetProcAddress(Fmongoc2Lib,'mongoc_database_copy');
  mongoc_database_read_command_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_database_read_command_with_opts');
  mongoc_database_write_command_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_database_write_command_with_opts');
  mongoc_database_read_write_command_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_database_read_write_command_with_opts');
  mongoc_database_command_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_database_command_with_opts');
  mongoc_database_command_simple := GetProcAddress(Fmongoc2Lib,'mongoc_database_command_simple');
  mongoc_database_drop := GetProcAddress(Fmongoc2Lib,'mongoc_database_drop');
  mongoc_database_drop_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_database_drop_with_opts');
  mongoc_database_has_collection := GetProcAddress(Fmongoc2Lib,'mongoc_database_has_collection');
  mongoc_database_create_collection := GetProcAddress(Fmongoc2Lib,'mongoc_database_create_collection');
  mongoc_database_get_read_prefs := GetProcAddress(Fmongoc2Lib,'mongoc_database_get_read_prefs');
  mongoc_database_set_read_prefs := GetProcAddress(Fmongoc2Lib,'mongoc_database_set_read_prefs');
  mongoc_database_get_write_concern := GetProcAddress(Fmongoc2Lib,'mongoc_database_get_write_concern');
  mongoc_database_set_write_concern := GetProcAddress(Fmongoc2Lib,'mongoc_database_set_write_concern');
  mongoc_database_get_read_concern := GetProcAddress(Fmongoc2Lib,'mongoc_database_get_read_concern');
  mongoc_database_set_read_concern := GetProcAddress(Fmongoc2Lib,'mongoc_database_set_read_concern');
  mongoc_database_find_collections_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_database_find_collections_with_opts');
  mongoc_database_get_collection_names_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_database_get_collection_names_with_opts');
  mongoc_database_get_collection := GetProcAddress(Fmongoc2Lib,'mongoc_database_get_collection');
  mongoc_database_watch := GetProcAddress(Fmongoc2Lib,'mongoc_database_watch');
  mongoc_gridfs_file_get_id := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_get_id');
  mongoc_gridfs_file_get_length := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_get_length');
  mongoc_gridfs_file_get_chunk_size := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_get_chunk_size');
  mongoc_gridfs_file_get_upload_date := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_get_upload_date');
  mongoc_gridfs_file_writev := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_writev');
  mongoc_gridfs_file_readv := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_readv');
  mongoc_gridfs_file_seek := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_seek');
  mongoc_gridfs_file_tell := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_tell');
  mongoc_gridfs_file_set_id := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_set_id');
  mongoc_gridfs_file_save := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_save');
  mongoc_gridfs_file_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_destroy');
  mongoc_gridfs_file_error := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_error');
  mongoc_gridfs_file_remove := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_remove');
  mongoc_gridfs_file_list_next := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_list_next');
  mongoc_gridfs_file_list_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_list_destroy');
  mongoc_gridfs_file_list_error := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_file_list_error');
  mongoc_gridfs_bucket_new := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_bucket_new');
  mongoc_gridfs_bucket_open_upload_stream := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_bucket_open_upload_stream');
  mongoc_gridfs_bucket_open_upload_stream_with_id := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_bucket_open_upload_stream_with_id');
  mongoc_gridfs_bucket_upload_from_stream := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_bucket_upload_from_stream');
  mongoc_gridfs_bucket_upload_from_stream_with_id := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_bucket_upload_from_stream_with_id');
  mongoc_gridfs_bucket_open_download_stream := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_bucket_open_download_stream');
  mongoc_gridfs_bucket_download_to_stream := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_bucket_download_to_stream');
  mongoc_gridfs_bucket_delete_by_id := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_bucket_delete_by_id');
  mongoc_gridfs_bucket_find := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_bucket_find');
  mongoc_gridfs_bucket_stream_error := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_bucket_stream_error');
  mongoc_gridfs_bucket_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_bucket_destroy');
  mongoc_gridfs_bucket_abort_upload := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_bucket_abort_upload');
  mongoc_gridfs_create_file_from_stream := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_create_file_from_stream');
  mongoc_gridfs_create_file := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_create_file');
  mongoc_gridfs_find_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_find_with_opts');
  mongoc_gridfs_find_one_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_find_one_with_opts');
  mongoc_gridfs_find_one_by_filename := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_find_one_by_filename');
  mongoc_gridfs_drop := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_drop');
  mongoc_gridfs_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_destroy');
  mongoc_gridfs_get_files := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_get_files');
  mongoc_gridfs_get_chunks := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_get_chunks');
  mongoc_gridfs_remove_by_filename := GetProcAddress(Fmongoc2Lib,'mongoc_gridfs_remove_by_filename');
  mongoc_stream_gridfs_new := GetProcAddress(Fmongoc2Lib,'mongoc_stream_gridfs_new');
  mongoc_client_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_new');
  mongoc_client_new_from_uri := GetProcAddress(Fmongoc2Lib,'mongoc_client_new_from_uri');
  mongoc_client_new_from_uri_with_error := GetProcAddress(Fmongoc2Lib,'mongoc_client_new_from_uri_with_error');
  mongoc_client_set_sockettimeoutms := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_sockettimeoutms');
  mongoc_client_get_uri := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_uri');
  mongoc_client_set_stream_initiator := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_stream_initiator');
  mongoc_client_command_simple := GetProcAddress(Fmongoc2Lib,'mongoc_client_command_simple');
  mongoc_client_read_command_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_read_command_with_opts');
  mongoc_client_write_command_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_write_command_with_opts');
  mongoc_client_read_write_command_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_read_write_command_with_opts');
  mongoc_client_command_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_command_with_opts');
  mongoc_client_command_simple_with_server_id := GetProcAddress(Fmongoc2Lib,'mongoc_client_command_simple_with_server_id');
  mongoc_client_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_destroy');
  mongoc_client_start_session := GetProcAddress(Fmongoc2Lib,'mongoc_client_start_session');
  mongoc_client_get_database := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_database');
  mongoc_client_get_default_database := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_default_database');
  mongoc_client_get_gridfs := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_gridfs');
  mongoc_client_get_collection := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_collection');
  mongoc_client_get_database_names := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_database_names');
  mongoc_client_get_database_names_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_database_names_with_opts');
  mongoc_client_find_databases := GetProcAddress(Fmongoc2Lib,'mongoc_client_find_databases');
  mongoc_client_find_databases_with_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_find_databases_with_opts');
  mongoc_client_get_write_concern := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_write_concern');
  mongoc_client_set_write_concern := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_write_concern');
  mongoc_client_get_read_concern := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_read_concern');
  mongoc_client_set_read_concern := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_read_concern');
  mongoc_client_get_read_prefs := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_read_prefs');
  mongoc_client_set_read_prefs := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_read_prefs');
  mongoc_client_set_ssl_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_ssl_opts');
  mongoc_client_set_apm_callbacks := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_apm_callbacks');
  mongoc_client_set_structured_log_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_structured_log_opts');
  mongoc_client_get_server_description := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_server_description');
  mongoc_client_get_server_descriptions := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_server_descriptions');
  mongoc_server_descriptions_destroy_all := GetProcAddress(Fmongoc2Lib,'mongoc_server_descriptions_destroy_all');
  mongoc_client_select_server := GetProcAddress(Fmongoc2Lib,'mongoc_client_select_server');
  mongoc_client_set_error_api := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_error_api');
  mongoc_client_set_appname := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_appname');
  mongoc_client_watch := GetProcAddress(Fmongoc2Lib,'mongoc_client_watch');
  mongoc_client_reset := GetProcAddress(Fmongoc2Lib,'mongoc_client_reset');
  mongoc_client_enable_auto_encryption := GetProcAddress(Fmongoc2Lib,'mongoc_client_enable_auto_encryption');
  mongoc_client_get_crypt_shared_version := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_crypt_shared_version');
  mongoc_client_set_server_api := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_server_api');
  mongoc_client_get_handshake_description := GetProcAddress(Fmongoc2Lib,'mongoc_client_get_handshake_description');
  mongoc_client_set_oidc_callback := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_oidc_callback');
  mongoc_client_pool_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_new');
  mongoc_client_pool_new_with_error := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_new_with_error');
  mongoc_client_pool_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_destroy');
  mongoc_client_pool_pop := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_pop');
  mongoc_client_pool_push := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_push');
  mongoc_client_pool_try_pop := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_try_pop');
  mongoc_client_pool_max_size := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_max_size');
  mongoc_client_pool_set_ssl_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_set_ssl_opts');
  mongoc_client_pool_set_apm_callbacks := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_set_apm_callbacks');
  mongoc_client_pool_set_error_api := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_set_error_api');
  mongoc_client_pool_set_appname := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_set_appname');
  mongoc_client_pool_enable_auto_encryption := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_enable_auto_encryption');
  mongoc_client_pool_set_server_api := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_set_server_api');
  mongoc_client_pool_set_structured_log_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_set_structured_log_opts');
  mongoc_client_pool_set_oidc_callback := GetProcAddress(Fmongoc2Lib,'mongoc_client_pool_set_oidc_callback');
  mongoc_transaction_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_transaction_opts_new');
  mongoc_transaction_opts_clone := GetProcAddress(Fmongoc2Lib,'mongoc_transaction_opts_clone');
  mongoc_transaction_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_transaction_opts_destroy');
  mongoc_transaction_opts_set_max_commit_time_ms := GetProcAddress(Fmongoc2Lib,'mongoc_transaction_opts_set_max_commit_time_ms');
  mongoc_transaction_opts_get_max_commit_time_ms := GetProcAddress(Fmongoc2Lib,'mongoc_transaction_opts_get_max_commit_time_ms');
  mongoc_transaction_opts_set_read_concern := GetProcAddress(Fmongoc2Lib,'mongoc_transaction_opts_set_read_concern');
  mongoc_transaction_opts_get_read_concern := GetProcAddress(Fmongoc2Lib,'mongoc_transaction_opts_get_read_concern');
  mongoc_transaction_opts_set_write_concern := GetProcAddress(Fmongoc2Lib,'mongoc_transaction_opts_set_write_concern');
  mongoc_transaction_opts_get_write_concern := GetProcAddress(Fmongoc2Lib,'mongoc_transaction_opts_get_write_concern');
  mongoc_transaction_opts_set_read_prefs := GetProcAddress(Fmongoc2Lib,'mongoc_transaction_opts_set_read_prefs');
  mongoc_transaction_opts_get_read_prefs := GetProcAddress(Fmongoc2Lib,'mongoc_transaction_opts_get_read_prefs');
  mongoc_session_opts_new := GetProcAddress(Fmongoc2Lib,'mongoc_session_opts_new');
  mongoc_session_opts_set_causal_consistency := GetProcAddress(Fmongoc2Lib,'mongoc_session_opts_set_causal_consistency');
  mongoc_session_opts_get_causal_consistency := GetProcAddress(Fmongoc2Lib,'mongoc_session_opts_get_causal_consistency');
  mongoc_session_opts_set_snapshot := GetProcAddress(Fmongoc2Lib,'mongoc_session_opts_set_snapshot');
  mongoc_session_opts_get_snapshot := GetProcAddress(Fmongoc2Lib,'mongoc_session_opts_get_snapshot');
  mongoc_session_opts_set_default_transaction_opts := GetProcAddress(Fmongoc2Lib,'mongoc_session_opts_set_default_transaction_opts');
  mongoc_session_opts_get_default_transaction_opts := GetProcAddress(Fmongoc2Lib,'mongoc_session_opts_get_default_transaction_opts');
  mongoc_session_opts_get_transaction_opts := GetProcAddress(Fmongoc2Lib,'mongoc_session_opts_get_transaction_opts');
  mongoc_session_opts_clone := GetProcAddress(Fmongoc2Lib,'mongoc_session_opts_clone');
  mongoc_session_opts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_session_opts_destroy');
  mongoc_client_session_get_client := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_get_client');
  mongoc_client_session_get_opts := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_get_opts');
  mongoc_client_session_get_lsid := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_get_lsid');
  mongoc_client_session_get_cluster_time := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_get_cluster_time');
  mongoc_client_session_advance_cluster_time := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_advance_cluster_time');
  mongoc_client_session_get_operation_time := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_get_operation_time');
  mongoc_client_session_get_server_id := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_get_server_id');
  mongoc_client_session_advance_operation_time := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_advance_operation_time');
  mongoc_client_session_with_transaction := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_with_transaction');
  mongoc_client_session_start_transaction := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_start_transaction');
  mongoc_client_session_in_transaction := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_in_transaction');
  mongoc_client_session_get_transaction_state := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_get_transaction_state');
  mongoc_client_session_commit_transaction := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_commit_transaction');
  mongoc_client_session_abort_transaction := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_abort_transaction');
  mongoc_client_session_append := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_append');
  mongoc_client_session_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_destroy');
  mongoc_client_session_get_dirty := GetProcAddress(Fmongoc2Lib,'mongoc_client_session_get_dirty');
  mongoc_bulkwriteopts_new := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteopts_new');
  mongoc_bulkwriteopts_set_ordered := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteopts_set_ordered');
  mongoc_bulkwriteopts_set_bypassdocumentvalidation := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteopts_set_bypassdocumentvalidation');
  mongoc_bulkwriteopts_set_let := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteopts_set_let');
  mongoc_bulkwriteopts_set_writeconcern := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteopts_set_writeconcern');
  mongoc_bulkwriteopts_set_comment := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteopts_set_comment');
  mongoc_bulkwriteopts_set_verboseresults := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteopts_set_verboseresults');
  mongoc_bulkwriteopts_set_extra := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteopts_set_extra');
  mongoc_bulkwriteopts_set_serverid := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteopts_set_serverid');
  mongoc_bulkwriteopts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteopts_destroy');
  mongoc_bulkwriteresult_insertedcount := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteresult_insertedcount');
  mongoc_bulkwriteresult_upsertedcount := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteresult_upsertedcount');
  mongoc_bulkwriteresult_matchedcount := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteresult_matchedcount');
  mongoc_bulkwriteresult_modifiedcount := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteresult_modifiedcount');
  mongoc_bulkwriteresult_deletedcount := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteresult_deletedcount');
  mongoc_bulkwriteresult_insertresults := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteresult_insertresults');
  mongoc_bulkwriteresult_updateresults := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteresult_updateresults');
  mongoc_bulkwriteresult_deleteresults := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteresult_deleteresults');
  mongoc_bulkwriteresult_serverid := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteresult_serverid');
  mongoc_bulkwriteresult_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteresult_destroy');
  mongoc_bulkwriteexception_error := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteexception_error');
  mongoc_bulkwriteexception_writeerrors := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteexception_writeerrors');
  mongoc_bulkwriteexception_writeconcernerrors := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteexception_writeconcernerrors');
  mongoc_bulkwriteexception_errorreply := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteexception_errorreply');
  mongoc_bulkwriteexception_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwriteexception_destroy');
  mongoc_client_bulkwrite_new := GetProcAddress(Fmongoc2Lib,'mongoc_client_bulkwrite_new');
  mongoc_bulkwrite_insertoneopts_new := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_insertoneopts_new');
  mongoc_bulkwrite_insertoneopts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_insertoneopts_destroy');
  mongoc_bulkwrite_append_insertone := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_append_insertone');
  mongoc_bulkwrite_updateoneopts_new := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updateoneopts_new');
  mongoc_bulkwrite_updateoneopts_set_arrayfilters := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updateoneopts_set_arrayfilters');
  mongoc_bulkwrite_updateoneopts_set_collation := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updateoneopts_set_collation');
  mongoc_bulkwrite_updateoneopts_set_hint := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updateoneopts_set_hint');
  mongoc_bulkwrite_updateoneopts_set_upsert := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updateoneopts_set_upsert');
  mongoc_bulkwrite_updateoneopts_set_sort := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updateoneopts_set_sort');
  mongoc_bulkwrite_updateoneopts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updateoneopts_destroy');
  mongoc_bulkwrite_append_updateone := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_append_updateone');
  mongoc_bulkwrite_updatemanyopts_new := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updatemanyopts_new');
  mongoc_bulkwrite_updatemanyopts_set_arrayfilters := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updatemanyopts_set_arrayfilters');
  mongoc_bulkwrite_updatemanyopts_set_collation := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updatemanyopts_set_collation');
  mongoc_bulkwrite_updatemanyopts_set_hint := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updatemanyopts_set_hint');
  mongoc_bulkwrite_updatemanyopts_set_upsert := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updatemanyopts_set_upsert');
  mongoc_bulkwrite_updatemanyopts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_updatemanyopts_destroy');
  mongoc_bulkwrite_append_updatemany := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_append_updatemany');
  mongoc_bulkwrite_replaceoneopts_new := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_replaceoneopts_new');
  mongoc_bulkwrite_replaceoneopts_set_collation := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_replaceoneopts_set_collation');
  mongoc_bulkwrite_replaceoneopts_set_hint := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_replaceoneopts_set_hint');
  mongoc_bulkwrite_replaceoneopts_set_upsert := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_replaceoneopts_set_upsert');
  mongoc_bulkwrite_replaceoneopts_set_sort := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_replaceoneopts_set_sort');
  mongoc_bulkwrite_replaceoneopts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_replaceoneopts_destroy');
  mongoc_bulkwrite_append_replaceone := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_append_replaceone');
  mongoc_bulkwrite_deleteoneopts_new := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_deleteoneopts_new');
  mongoc_bulkwrite_deleteoneopts_set_collation := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_deleteoneopts_set_collation');
  mongoc_bulkwrite_deleteoneopts_set_hint := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_deleteoneopts_set_hint');
  mongoc_bulkwrite_deleteoneopts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_deleteoneopts_destroy');
  mongoc_bulkwrite_append_deleteone := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_append_deleteone');
  mongoc_bulkwrite_deletemanyopts_new := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_deletemanyopts_new');
  mongoc_bulkwrite_deletemanyopts_set_collation := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_deletemanyopts_set_collation');
  mongoc_bulkwrite_deletemanyopts_set_hint := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_deletemanyopts_set_hint');
  mongoc_bulkwrite_deletemanyopts_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_deletemanyopts_destroy');
  mongoc_bulkwrite_append_deletemany := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_append_deletemany');
  mongoc_bulkwrite_new := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_new');
  mongoc_bulkwrite_set_client := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_set_client');
  mongoc_bulkwrite_set_session := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_set_session');
  mongoc_bulkwrite_execute := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_execute');
  mongoc_bulkwrite_check_acknowledged := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_check_acknowledged');
  mongoc_bulkwrite_serverid := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_serverid');
  mongoc_bulkwrite_destroy := GetProcAddress(Fmongoc2Lib,'mongoc_bulkwrite_destroy');
  mongoc_client_set_usleep_impl := GetProcAddress(Fmongoc2Lib,'mongoc_client_set_usleep_impl');
  mongoc_usleep_default_impl := GetProcAddress(Fmongoc2Lib,'mongoc_usleep_default_impl');

  mongoc_init;

end;

{***********************************}
destructor TALMongoDBLibrary.Destroy;
begin

  mongoc_cleanup;

  if (Fbson2Lib <> 0) and
     (not FreeLibrary(Fbson2Lib)) then
    raiseLastOsError;

  if (Fmongoc2Lib <> 0) and
     (not FreeLibrary(Fmongoc2Lib)) then
    raiseLastOsError;

  inherited Destroy;

end;

{**************************************************************************************************}
procedure bson_set_error(error: Pbson_error_t; domain: uint32_t; code: uint32_t; format: PAnsiChar);
begin
  ALMongoDBLibrary.bson_set_error(error, domain, code, format);
end;

{*************************************************************************************}
function bson_strerror_r(err_code: Integer; buf: PAnsiChar; buflen: size_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_strerror_r(err_code, buf, buflen);
end;

{********************************************************}
procedure bson_mem_set_vtable(vtable: Pbson_mem_vtable_t);
begin
  ALMongoDBLibrary.bson_mem_set_vtable(vtable);
end;

{**********************************}
procedure bson_mem_restore_vtable();
begin
  ALMongoDBLibrary.bson_mem_restore_vtable();
end;

{*********************************************}
function bson_malloc(num_bytes: size_t): Pvoid;
begin
  Result := ALMongoDBLibrary.bson_malloc(num_bytes);
end;

{**********************************************}
function bson_malloc0(num_bytes: size_t): Pvoid;
begin
  Result := ALMongoDBLibrary.bson_malloc0(num_bytes);
end;

{***********************************************************************}
function bson_aligned_alloc(alignment: size_t; num_bytes: size_t): Pvoid;
begin
  Result := ALMongoDBLibrary.bson_aligned_alloc(alignment, num_bytes);
end;

{************************************************************************}
function bson_aligned_alloc0(alignment: size_t; num_bytes: size_t): Pvoid;
begin
  Result := ALMongoDBLibrary.bson_aligned_alloc0(alignment, num_bytes);
end;

{*********************************************************************}
function bson_array_alloc(num_elems: size_t; elem_size: size_t): Pvoid;
begin
  Result := ALMongoDBLibrary.bson_array_alloc(num_elems, elem_size);
end;

{**********************************************************************}
function bson_array_alloc0(num_elems: size_t; elem_size: size_t): Pvoid;
begin
  Result := ALMongoDBLibrary.bson_array_alloc0(num_elems, elem_size);
end;

{**********************************************************}
function bson_realloc(mem: Pvoid; num_bytes: size_t): Pvoid;
begin
  Result := ALMongoDBLibrary.bson_realloc(mem, num_bytes);
end;

{**************************************************************************}
function bson_realloc_ctx(mem: Pvoid; num_bytes: size_t; ctx: Pvoid): Pvoid;
begin
  Result := ALMongoDBLibrary.bson_realloc_ctx(mem, num_bytes, ctx);
end;

{******************************}
procedure bson_free(mem: Pvoid);
begin
  ALMongoDBLibrary.bson_free(mem);
end;

{*************************************************}
procedure bson_zero_free(mem: Pvoid; size: size_t);
begin
  ALMongoDBLibrary.bson_zero_free(mem, size);
end;

{**************************************************************************************************************************************************}
function bson_writer_new(buf: PPuint8_t; buflen: Psize_t; offset: size_t; realloc_func: bson_realloc_func; realloc_func_ctx: Pvoid): Pbson_writer_t;
begin
  Result := ALMongoDBLibrary.bson_writer_new(buf, buflen, offset, realloc_func, realloc_func_ctx);
end;

{****************************************************}
procedure bson_writer_destroy(writer: Pbson_writer_t);
begin
  ALMongoDBLibrary.bson_writer_destroy(writer);
end;

{**************************************************************}
function bson_writer_get_length(writer: Pbson_writer_t): size_t;
begin
  Result := ALMongoDBLibrary.bson_writer_get_length(writer);
end;

{***************************************************************************}
function bson_writer_begin(writer: Pbson_writer_t; bson: PPbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_writer_begin(writer, bson);
end;

{************************************************}
procedure bson_writer_end(writer: Pbson_writer_t);
begin
  ALMongoDBLibrary.bson_writer_end(writer);
end;

{*****************************************************}
procedure bson_writer_rollback(writer: Pbson_writer_t);
begin
  ALMongoDBLibrary.bson_writer_rollback(writer);
end;

{**********************************************************************}
function bson_context_new(flags: bson_context_flags_t): Pbson_context_t;
begin
  Result := ALMongoDBLibrary.bson_context_new(flags);
end;

{*******************************************************}
procedure bson_context_destroy(context: Pbson_context_t);
begin
  ALMongoDBLibrary.bson_context_destroy(context);
end;

{***************************************************}
function bson_context_get_default(): Pbson_context_t;
begin
  Result := ALMongoDBLibrary.bson_context_get_default();
end;

{******************************************}
function bson_get_monotonic_time(): int64_t;
begin
  Result := ALMongoDBLibrary.bson_get_monotonic_time();
end;

{************************************************}
function bson_gettimeofday(tv: Ptimeval): Integer;
begin
  Result := ALMongoDBLibrary.bson_gettimeofday(tv);
end;

{***************************************************************************}
procedure bson_decimal128_to_string(dec: Pbson_decimal128_t; str: PAnsiChar);
begin
  ALMongoDBLibrary.bson_decimal128_to_string(dec, str);
end;

{******************************************************************************************}
function bson_decimal128_from_string(&string: PAnsiChar; dec: Pbson_decimal128_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_decimal128_from_string(&string, dec);
end;

{**************************************************************************************************************}
function bson_decimal128_from_string_w_len(&string: PAnsiChar; len: Integer; dec: Pbson_decimal128_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_decimal128_from_string_w_len(&string, len, dec);
end;

{***************************************************************************************}
function bson_json_opts_new(mode: bson_json_mode_t; max_len: int32_t): Pbson_json_opts_t;
begin
  Result := ALMongoDBLibrary.bson_json_opts_new(mode, max_len);
end;

{********************************************************}
procedure bson_json_opts_destroy(opts: Pbson_json_opts_t);
begin
  ALMongoDBLibrary.bson_json_opts_destroy(opts);
end;

{**************************************************************************************************}
procedure bson_json_opts_set_outermost_array(opts: Pbson_json_opts_t; is_outermost_array: ByteBool);
begin
  ALMongoDBLibrary.bson_json_opts_set_outermost_array(opts, is_outermost_array);
end;

{**************************************************************************************************************************************************************}
function bson_json_reader_new(data: Pvoid; cb: bson_json_reader_cb; dcb: bson_json_destroy_cb; allow_multiple: ByteBool; buf_size: size_t): Pbson_json_reader_t;
begin
  Result := ALMongoDBLibrary.bson_json_reader_new(data, cb, dcb, allow_multiple, buf_size);
end;

{**************************************************************************************************}
function bson_json_reader_new_from_fd(fd: Integer; close_on_destroy: ByteBool): Pbson_json_reader_t;
begin
  Result := ALMongoDBLibrary.bson_json_reader_new_from_fd(fd, close_on_destroy);
end;

{******************************************************************************************************}
function bson_json_reader_new_from_file(filename: PAnsiChar; error: Pbson_error_t): Pbson_json_reader_t;
begin
  Result := ALMongoDBLibrary.bson_json_reader_new_from_file(filename, error);
end;

{**************************************************************}
procedure bson_json_reader_destroy(reader: Pbson_json_reader_t);
begin
  ALMongoDBLibrary.bson_json_reader_destroy(reader);
end;

{********************************************************************************************************}
function bson_json_reader_read(reader: Pbson_json_reader_t; bson: Pbson_t; error: Pbson_error_t): Integer;
begin
  Result := ALMongoDBLibrary.bson_json_reader_read(reader, bson, error);
end;

{**********************************************************************************************}
function bson_json_data_reader_new(allow_multiple: ByteBool; size: size_t): Pbson_json_reader_t;
begin
  Result := ALMongoDBLibrary.bson_json_data_reader_new(allow_multiple, size);
end;

{***********************************************************************************************}
procedure bson_json_data_reader_ingest(reader: Pbson_json_reader_t; data: Puint8_t; len: size_t);
begin
  ALMongoDBLibrary.bson_json_data_reader_ingest(reader, data, len);
end;

{********************************************************************************************************}
function bson_uint32_to_string(value: uint32_t; strptr: PPAnsiChar; str: PAnsiChar; size: size_t): size_t;
begin
  Result := ALMongoDBLibrary.bson_uint32_to_string(value, strptr, str, size);
end;

{**********************************************}
function bson_strdup(str: PAnsiChar): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_strdup(str);
end;

{********************************************************}
function bson_strdup_printf(format: PAnsiChar): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_strdup_printf(format);
end;

{************************************************************************}
function bson_strdupv_printf(format: PAnsiChar; args: va_list): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_strdupv_printf(format, args);
end;

{****************************************************************}
function bson_strndup(str: PAnsiChar; n_bytes: size_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_strndup(str, n_bytes);
end;

{*******************************************************************}
procedure bson_strncpy(dst: PAnsiChar; src: PAnsiChar; size: size_t);
begin
  ALMongoDBLibrary.bson_strncpy(dst, src, size);
end;

{*********************************************************************************************}
function bson_vsnprintf(str: PAnsiChar; size: size_t; format: PAnsiChar; ap: va_list): Integer;
begin
  Result := ALMongoDBLibrary.bson_vsnprintf(str, size, format, ap);
end;

{*******************************************************************************}
function bson_snprintf(str: PAnsiChar; size: size_t; format: PAnsiChar): Integer;
begin
  Result := ALMongoDBLibrary.bson_snprintf(str, size, format);
end;

{****************************************}
procedure bson_strfreev(strv: PPAnsiChar);
begin
  ALMongoDBLibrary.bson_strfreev(strv);
end;

{**********************************************************}
function bson_strnlen(s: PAnsiChar; maxlen: size_t): size_t;
begin
  Result := ALMongoDBLibrary.bson_strnlen(s, maxlen);
end;

{**************************************************************************************}
function bson_ascii_strtoll(str: PAnsiChar; endptr: PPAnsiChar; base: Integer): int64_t;
begin
  Result := ALMongoDBLibrary.bson_ascii_strtoll(str, endptr, base);
end;

{**************************************************************}
function bson_strcasecmp(s1: PAnsiChar; s2: PAnsiChar): Integer;
begin
  Result := ALMongoDBLibrary.bson_strcasecmp(s1, s2);
end;

{******************************************}
function bson_isspace(c: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_isspace(c);
end;

{*********************************************************************************************}
function bson_utf8_validate(utf8: PAnsiChar; utf8_len: size_t; allow_null: ByteBool): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_utf8_validate(utf8, utf8_len, allow_null);
end;

{********************************************************************************}
function bson_utf8_escape_for_json(utf8: PAnsiChar; utf8_len: ssize_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_utf8_escape_for_json(utf8, utf8_len);
end;

{***********************************************************}
function bson_utf8_get_char(utf8: PAnsiChar): bson_unichar_t;
begin
  Result := ALMongoDBLibrary.bson_utf8_get_char(utf8);
end;

{*******************************************************}
function bson_utf8_next_char(utf8: PAnsiChar): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_utf8_next_char(utf8);
end;

{*******************************************************************************************}
procedure bson_utf8_from_unichar(unichar: bson_unichar_t; utf8: TCharArray6; len: Puint32_t);
begin
  ALMongoDBLibrary.bson_utf8_from_unichar(unichar, utf8, len);
end;

{****************************************************************}
procedure bson_value_copy(src: Pbson_value_t; dst: Pbson_value_t);
begin
  ALMongoDBLibrary.bson_value_copy(src, dst);
end;

{*************************************************}
procedure bson_value_destroy(value: Pbson_value_t);
begin
  ALMongoDBLibrary.bson_value_destroy(value);
end;

{*****************************************}
function bson_get_major_version(): Integer;
begin
  Result := ALMongoDBLibrary.bson_get_major_version();
end;

{*****************************************}
function bson_get_minor_version(): Integer;
begin
  Result := ALMongoDBLibrary.bson_get_minor_version();
end;

{*****************************************}
function bson_get_micro_version(): Integer;
begin
  Result := ALMongoDBLibrary.bson_get_micro_version();
end;

{*************************************}
function bson_get_version(): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_get_version();
end;

{***************************************************************************************************************}
function bson_check_version(required_major: Integer; required_minor: Integer; required_micro: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_check_version(required_major, required_minor, required_micro);
end;

{***********************************}
procedure bcon_append(bson: Pbson_t);
begin
  ALMongoDBLibrary.bcon_append(bson);
end;

{****************************************************************}
procedure bcon_append_ctx(bson: Pbson_t; ctx: Pbcon_append_ctx_t);
begin
  ALMongoDBLibrary.bcon_append_ctx(bson, ctx);
end;

{*********************************************************************************}
procedure bcon_append_ctx_va(bson: Pbson_t; ctx: Pbcon_append_ctx_t; va: Pva_list);
begin
  ALMongoDBLibrary.bcon_append_ctx_va(bson, ctx, va);
end;

{******************************************************}
procedure bcon_append_ctx_init(ctx: Pbcon_append_ctx_t);
begin
  ALMongoDBLibrary.bcon_append_ctx_init(ctx);
end;

{********************************************************}
procedure bcon_extract_ctx_init(ctx: Pbcon_extract_ctx_t);
begin
  ALMongoDBLibrary.bcon_extract_ctx_init(ctx);
end;

{******************************************************************}
procedure bcon_extract_ctx(bson: Pbson_t; ctx: Pbcon_extract_ctx_t);
begin
  ALMongoDBLibrary.bcon_extract_ctx(bson, ctx);
end;

{********************************************************************************************}
function bcon_extract_ctx_va(bson: Pbson_t; ctx: Pbcon_extract_ctx_t; ap: Pva_list): ByteBool;
begin
  Result := ALMongoDBLibrary.bcon_extract_ctx_va(bson, ctx, ap);
end;

{*********************************************}
function bcon_extract(bson: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bcon_extract(bson);
end;

{****************************************}
function bcon_new(unused: Pvoid): Pbson_t;
begin
  Result := ALMongoDBLibrary.bcon_new(unused);
end;

{************************************}
function bson_bcon_magic(): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_bcon_magic();
end;

{*************************************}
function bson_bcone_magic(): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_bcone_magic();
end;

{*******************************************************************************************************************************}
function bson_reader_new_from_handle(handle: Pvoid; rf: bson_reader_read_func_t; df: bson_reader_destroy_func_t): Pbson_reader_t;
begin
  Result := ALMongoDBLibrary.bson_reader_new_from_handle(handle, rf, df);
end;

{****************************************************************************************}
function bson_reader_new_from_fd(fd: Integer; close_on_destroy: ByteBool): Pbson_reader_t;
begin
  Result := ALMongoDBLibrary.bson_reader_new_from_fd(fd, close_on_destroy);
end;

{****************************************************************************************}
function bson_reader_new_from_file(path: PAnsiChar; error: Pbson_error_t): Pbson_reader_t;
begin
  Result := ALMongoDBLibrary.bson_reader_new_from_file(path, error);
end;

{*********************************************************************************}
function bson_reader_new_from_data(data: Puint8_t; length: size_t): Pbson_reader_t;
begin
  Result := ALMongoDBLibrary.bson_reader_new_from_data(data, length);
end;

{****************************************************}
procedure bson_reader_destroy(reader: Pbson_reader_t);
begin
  ALMongoDBLibrary.bson_reader_destroy(reader);
end;

{*****************************************************************************************}
procedure bson_reader_set_read_func(reader: Pbson_reader_t; func: bson_reader_read_func_t);
begin
  ALMongoDBLibrary.bson_reader_set_read_func(reader, func);
end;

{***********************************************************************************************}
procedure bson_reader_set_destroy_func(reader: Pbson_reader_t; func: bson_reader_destroy_func_t);
begin
  ALMongoDBLibrary.bson_reader_set_destroy_func(reader, func);
end;

{*********************************************************************************}
function bson_reader_read(reader: Pbson_reader_t; reached_eof: PByteBool): Pbson_t;
begin
  Result := ALMongoDBLibrary.bson_reader_read(reader, reached_eof);
end;

{*******************************************************}
function bson_reader_tell(reader: Pbson_reader_t): off_t;
begin
  Result := ALMongoDBLibrary.bson_reader_tell(reader);
end;

{**************************************************}
procedure bson_reader_reset(reader: Pbson_reader_t);
begin
  ALMongoDBLibrary.bson_reader_reset(reader);
end;

{***********************************************************************}
function bson_oid_compare(oid1: Pbson_oid_t; oid2: Pbson_oid_t): Integer;
begin
  Result := ALMongoDBLibrary.bson_oid_compare(oid1, oid2);
end;

{**********************************************************}
procedure bson_oid_copy(src: Pbson_oid_t; dst: Pbson_oid_t);
begin
  ALMongoDBLibrary.bson_oid_copy(src, dst);
end;

{**********************************************************************}
function bson_oid_equal(oid1: Pbson_oid_t; oid2: Pbson_oid_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_oid_equal(oid1, oid2);
end;

{*******************************************************************}
function bson_oid_is_valid(str: PAnsiChar; length: size_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_oid_is_valid(str, length);
end;

{*****************************************************}
function bson_oid_get_time_t(oid: Pbson_oid_t): time_t;
begin
  Result := ALMongoDBLibrary.bson_oid_get_time_t(oid);
end;

{*************************************************}
function bson_oid_hash(oid: Pbson_oid_t): uint32_t;
begin
  Result := ALMongoDBLibrary.bson_oid_hash(oid);
end;

{******************************************************************}
procedure bson_oid_init(oid: Pbson_oid_t; context: Pbson_context_t);
begin
  ALMongoDBLibrary.bson_oid_init(oid, context);
end;

{******************************************************************}
procedure bson_oid_init_from_data(oid: Pbson_oid_t; data: Puint8_t);
begin
  ALMongoDBLibrary.bson_oid_init_from_data(oid, data);
end;

{********************************************************************}
procedure bson_oid_init_from_string(oid: Pbson_oid_t; str: PAnsiChar);
begin
  ALMongoDBLibrary.bson_oid_init_from_string(oid, str);
end;

{****************************************************************}
procedure bson_oid_to_string(oid: Pbson_oid_t; str: TCharArray25);
begin
  ALMongoDBLibrary.bson_oid_to_string(oid, str);
end;

{**********************************************************}
function bson_iter_value(iter: Pbson_iter_t): Pbson_value_t;
begin
  Result := ALMongoDBLibrary.bson_iter_value(iter);
end;

{*************************************************************************************}
procedure bson_iter_array(iter: Pbson_iter_t; array_len: Puint32_t; &array: PPuint8_t);
begin
  ALMongoDBLibrary.bson_iter_array(iter, array_len, &array);
end;

{*****************************************************************************************************************}
procedure bson_iter_binary(iter: Pbson_iter_t; subtype: Pbson_subtype_t; binary_len: Puint32_t; binary: PPuint8_t);
begin
  ALMongoDBLibrary.bson_iter_binary(iter, subtype, binary_len, binary);
end;

{**************************************************************************************************************************}
procedure bson_iter_overwrite_binary(iter: Pbson_iter_t; subtype: bson_subtype_t; binary_len: Puint32_t; binary: PPuint8_t);
begin
  ALMongoDBLibrary.bson_iter_overwrite_binary(iter, subtype, binary_len, binary);
end;

{********************************************************************}
function bson_iter_binary_subtype(iter: Pbson_iter_t): bson_subtype_t;
begin
  Result := ALMongoDBLibrary.bson_iter_binary_subtype(iter);
end;

{************************************************************************************}
function bson_iter_binary_equal(iter_a: Pbson_iter_t; iter_b: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_binary_equal(iter_a, iter_b);
end;

{************************************************************************}
function bson_iter_code(iter: Pbson_iter_t; length: Puint32_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_iter_code(iter, length);
end;

{**********************************************************************************************************************}
function bson_iter_codewscope(iter: Pbson_iter_t; length: Puint32_t; scope_len: Puint32_t; scope: PPuint8_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_iter_codewscope(iter, length, scope_len, scope);
end;

{**********************************************************************************************************************}
procedure bson_iter_dbpointer(iter: Pbson_iter_t; collection_len: Puint32_t; collection: PPAnsiChar; oid: PPbson_oid_t);
begin
  ALMongoDBLibrary.bson_iter_dbpointer(iter, collection_len, collection, oid);
end;

{*********************************************************************************************}
procedure bson_iter_document(iter: Pbson_iter_t; document_len: Puint32_t; document: PPuint8_t);
begin
  ALMongoDBLibrary.bson_iter_document(iter, document_len, document);
end;

{****************************************************}
function bson_iter_double(iter: Pbson_iter_t): double;
begin
  Result := ALMongoDBLibrary.bson_iter_double(iter);
end;

{*******************************************************}
function bson_iter_as_double(iter: Pbson_iter_t): double;
begin
  Result := ALMongoDBLibrary.bson_iter_as_double(iter);
end;

{*******************************************************************}
function bson_iter_init(iter: Pbson_iter_t; bson: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_init(iter, bson);
end;

{**********************************************************************************************}
function bson_iter_init_from_data(iter: Pbson_iter_t; data: Puint8_t; length: size_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_init_from_data(iter, data, length);
end;

{****************************************************************************************}
function bson_iter_init_find(iter: Pbson_iter_t; bson: Pbson_t; key: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_init_find(iter, bson, key);
end;

{***************************************************************************************************************}
function bson_iter_init_find_w_len(iter: Pbson_iter_t; bson: Pbson_t; key: PAnsiChar; keylen: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_init_find_w_len(iter, bson, key, keylen);
end;

{*********************************************************************************************}
function bson_iter_init_find_case(iter: Pbson_iter_t; bson: Pbson_t; key: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_init_find_case(iter, bson, key);
end;

{********************************************************************************************************************************************}
function bson_iter_init_from_data_at_offset(iter: Pbson_iter_t; data: Puint8_t; length: size_t; offset: uint32_t; keylen: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_init_from_data_at_offset(iter, data, length, offset, keylen);
end;

{****************************************************}
function bson_iter_int32(iter: Pbson_iter_t): int32_t;
begin
  Result := ALMongoDBLibrary.bson_iter_int32(iter);
end;

{****************************************************}
function bson_iter_int64(iter: Pbson_iter_t): int64_t;
begin
  Result := ALMongoDBLibrary.bson_iter_int64(iter);
end;

{*******************************************************}
function bson_iter_as_int64(iter: Pbson_iter_t): int64_t;
begin
  Result := ALMongoDBLibrary.bson_iter_as_int64(iter);
end;

{********************************************************************}
function bson_iter_find(iter: Pbson_iter_t; key: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_find(iter, key);
end;

{*******************************************************************************************}
function bson_iter_find_w_len(iter: Pbson_iter_t; key: PAnsiChar; keylen: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_find_w_len(iter, key, keylen);
end;

{*************************************************************************}
function bson_iter_find_case(iter: Pbson_iter_t; key: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_find_case(iter, key);
end;

{************************************************************************************************************}
function bson_iter_find_descendant(iter: Pbson_iter_t; dotkey: PAnsiChar; descendant: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_find_descendant(iter, dotkey, descendant);
end;

{****************************************************}
function bson_iter_next(iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_next(iter);
end;

{******************************************************}
function bson_iter_oid(iter: Pbson_iter_t): Pbson_oid_t;
begin
  Result := ALMongoDBLibrary.bson_iter_oid(iter);
end;

{***********************************************************************************}
function bson_iter_decimal128(iter: Pbson_iter_t; dec: Pbson_decimal128_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_decimal128(iter, dec);
end;

{****************************************************}
function bson_iter_key(iter: Pbson_iter_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_iter_key(iter);
end;

{*******************************************************}
function bson_iter_key_len(iter: Pbson_iter_t): uint32_t;
begin
  Result := ALMongoDBLibrary.bson_iter_key_len(iter);
end;

{************************************************************************}
function bson_iter_utf8(iter: Pbson_iter_t; length: Puint32_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_iter_utf8(iter, length);
end;

{****************************************************************************}
function bson_iter_dup_utf8(iter: Pbson_iter_t; length: Puint32_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_iter_dup_utf8(iter, length);
end;

{********************************************************}
function bson_iter_date_time(iter: Pbson_iter_t): int64_t;
begin
  Result := ALMongoDBLibrary.bson_iter_date_time(iter);
end;

{****************************************************}
function bson_iter_time_t(iter: Pbson_iter_t): time_t;
begin
  Result := ALMongoDBLibrary.bson_iter_time_t(iter);
end;

{************************************************************}
procedure bson_iter_timeval(iter: Pbson_iter_t; tv: Ptimeval);
begin
  ALMongoDBLibrary.bson_iter_timeval(iter, tv);
end;

{********************************************************************************************}
procedure bson_iter_timestamp(iter: Pbson_iter_t; timestamp: Puint32_t; increment: Puint32_t);
begin
  ALMongoDBLibrary.bson_iter_timestamp(iter, timestamp, increment);
end;

{****************************************************}
function bson_iter_bool(iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_bool(iter);
end;

{*******************************************************}
function bson_iter_as_bool(iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_as_bool(iter);
end;

{***************************************************************************}
function bson_iter_regex(iter: Pbson_iter_t; options: PPAnsiChar): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_iter_regex(iter, options);
end;

{**************************************************************************}
function bson_iter_symbol(iter: Pbson_iter_t; length: Puint32_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_iter_symbol(iter, length);
end;

{*******************************************************}
function bson_iter_type(iter: Pbson_iter_t): bson_type_t;
begin
  Result := ALMongoDBLibrary.bson_iter_type(iter);
end;

{****************************************************************************}
function bson_iter_recurse(iter: Pbson_iter_t; child: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_recurse(iter, child);
end;

{**********************************************************************}
procedure bson_iter_overwrite_int32(iter: Pbson_iter_t; value: int32_t);
begin
  ALMongoDBLibrary.bson_iter_overwrite_int32(iter, value);
end;

{**********************************************************************}
procedure bson_iter_overwrite_int64(iter: Pbson_iter_t; value: int64_t);
begin
  ALMongoDBLibrary.bson_iter_overwrite_int64(iter, value);
end;

{**********************************************************************}
procedure bson_iter_overwrite_double(iter: Pbson_iter_t; value: double);
begin
  ALMongoDBLibrary.bson_iter_overwrite_double(iter, value);
end;

{**************************************************************************************}
procedure bson_iter_overwrite_decimal128(iter: Pbson_iter_t; value: Pbson_decimal128_t);
begin
  ALMongoDBLibrary.bson_iter_overwrite_decimal128(iter, value);
end;

{**********************************************************************}
procedure bson_iter_overwrite_bool(iter: Pbson_iter_t; value: ByteBool);
begin
  ALMongoDBLibrary.bson_iter_overwrite_bool(iter, value);
end;

{************************************************************************}
procedure bson_iter_overwrite_oid(iter: Pbson_iter_t; value: Pbson_oid_t);
begin
  ALMongoDBLibrary.bson_iter_overwrite_oid(iter, value);
end;

{****************************************************************************************************}
procedure bson_iter_overwrite_timestamp(iter: Pbson_iter_t; timestamp: uint32_t; increment: uint32_t);
begin
  ALMongoDBLibrary.bson_iter_overwrite_timestamp(iter, timestamp, increment);
end;

{**************************************************************************}
procedure bson_iter_overwrite_date_time(iter: Pbson_iter_t; value: int64_t);
begin
  ALMongoDBLibrary.bson_iter_overwrite_date_time(iter, value);
end;

{************************************************************************************************}
function bson_iter_visit_all(iter: Pbson_iter_t; visitor: Pbson_visitor_t; data: Pvoid): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_iter_visit_all(iter, visitor, data);
end;

{******************************************************}
function bson_iter_offset(iter: Pbson_iter_t): uint32_t;
begin
  Result := ALMongoDBLibrary.bson_iter_offset(iter);
end;

{**********************************************************************************************************************************}
function bson_vector_int8_view_init(view_out: Pbson_vector_int8_view_t; binary_data: Puint8_t; binary_data_len: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_vector_int8_view_init(view_out, binary_data, binary_data_len);
end;

{**********************************************************************************************************************************************}
function bson_vector_int8_const_view_init(view_out: Pbson_vector_int8_const_view_t; binary_data: Puint8_t; binary_data_len: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_vector_int8_const_view_init(view_out, binary_data, binary_data_len);
end;

{****************************************************************************************************************************************}
function bson_vector_float32_view_init(view_out: Pbson_vector_float32_view_t; binary_data: Puint8_t; binary_data_len: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_vector_float32_view_init(view_out, binary_data, binary_data_len);
end;

{****************************************************************************************************************************************************}
function bson_vector_float32_const_view_init(view_out: Pbson_vector_float32_const_view_t; binary_data: Puint8_t; binary_data_len: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_vector_float32_const_view_init(view_out, binary_data, binary_data_len);
end;

{**********************************************************************************************************************************************}
function bson_vector_packed_bit_view_init(view_out: Pbson_vector_packed_bit_view_t; binary_data: Puint8_t; binary_data_len: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_vector_packed_bit_view_init(view_out, binary_data, binary_data_len);
end;

{**********************************************************************************************************************************************************}
function bson_vector_packed_bit_const_view_init(view_out: Pbson_vector_packed_bit_const_view_t; binary_data: Puint8_t; binary_data_len: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_vector_packed_bit_const_view_init(view_out, binary_data, binary_data_len);
end;

{*********************************************************************************************************}
function bson_vector_int8_view_from_iter(view_out: Pbson_vector_int8_view_t; iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_vector_int8_view_from_iter(view_out, iter);
end;

{*********************************************************************************************************************}
function bson_vector_int8_const_view_from_iter(view_out: Pbson_vector_int8_const_view_t; iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_vector_int8_const_view_from_iter(view_out, iter);
end;

{***************************************************************************************************************}
function bson_vector_float32_view_from_iter(view_out: Pbson_vector_float32_view_t; iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_vector_float32_view_from_iter(view_out, iter);
end;

{***************************************************************************************************************************}
function bson_vector_float32_const_view_from_iter(view_out: Pbson_vector_float32_const_view_t; iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_vector_float32_const_view_from_iter(view_out, iter);
end;

{*********************************************************************************************************************}
function bson_vector_packed_bit_view_from_iter(view_out: Pbson_vector_packed_bit_view_t; iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_vector_packed_bit_view_from_iter(view_out, iter);
end;

{*********************************************************************************************************************************}
function bson_vector_packed_bit_const_view_from_iter(view_out: Pbson_vector_packed_bit_const_view_t; iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_vector_packed_bit_const_view_from_iter(view_out, iter);
end;

{**************************************************************************************************************************************}
function bson_array_builder_append_vector_int8_elements(builder: P_bson_array_builder_t; view: bson_vector_int8_const_view_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_vector_int8_elements(builder, view);
end;

{********************************************************************************************************************************************}
function bson_array_builder_append_vector_float32_elements(builder: P_bson_array_builder_t; view: bson_vector_float32_const_view_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_vector_float32_elements(builder, view);
end;

{**************************************************************************************************************************************************}
function bson_array_builder_append_vector_packed_bit_elements(builder: P_bson_array_builder_t; view: bson_vector_packed_bit_const_view_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_vector_packed_bit_elements(builder, view);
end;

{****************************************************************************************************************}
function bson_array_builder_append_vector_elements(builder: P_bson_array_builder_t; iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_vector_elements(builder, iter);
end;

{***************************************************************************************************************************************************************}
function bson_append_vector_int8_uninit(bson: Pbson_t; key: PAnsiChar; key_length: Integer; element_count: size_t; view_out: Pbson_vector_int8_view_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_vector_int8_uninit(bson, key, key_length, element_count, view_out);
end;

{*********************************************************************************************************************************************************************}
function bson_append_vector_float32_uninit(bson: Pbson_t; key: PAnsiChar; key_length: Integer; element_count: size_t; view_out: Pbson_vector_float32_view_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_vector_float32_uninit(bson, key, key_length, element_count, view_out);
end;

{***************************************************************************************************************************************************************************}
function bson_append_vector_packed_bit_uninit(bson: Pbson_t; key: PAnsiChar; key_length: Integer; element_count: size_t; view_out: Pbson_vector_packed_bit_view_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_vector_packed_bit_uninit(bson, key, key_length, element_count, view_out);
end;

{**************************************************************************************************************************************************}
function bson_append_vector_int8_from_array(bson: Pbson_t; key: PAnsiChar; key_length: Integer; iter: Pbson_iter_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_vector_int8_from_array(bson, key, key_length, iter, error);
end;

{*****************************************************************************************************************************************************}
function bson_append_vector_float32_from_array(bson: Pbson_t; key: PAnsiChar; key_length: Integer; iter: Pbson_iter_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_vector_float32_from_array(bson, key, key_length, iter, error);
end;

{********************************************************************************************************************************************************}
function bson_append_vector_packed_bit_from_array(bson: Pbson_t; key: PAnsiChar; key_length: Integer; iter: Pbson_iter_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_vector_packed_bit_from_array(bson, key, key_length, iter, error);
end;

{*********************************************************************************************************************************************}
function bson_append_array_from_vector_int8(bson: Pbson_t; key: PAnsiChar; key_length: Integer; view: bson_vector_int8_const_view_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_array_from_vector_int8(bson, key, key_length, view);
end;

{***************************************************************************************************************************************************}
function bson_append_array_from_vector_float32(bson: Pbson_t; key: PAnsiChar; key_length: Integer; view: bson_vector_float32_const_view_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_array_from_vector_float32(bson, key, key_length, view);
end;

{*********************************************************************************************************************************************************}
function bson_append_array_from_vector_packed_bit(bson: Pbson_t; key: PAnsiChar; key_length: Integer; view: bson_vector_packed_bit_const_view_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_array_from_vector_packed_bit(bson, key, key_length, view);
end;

{***************************}
function bson_new(): Pbson_t;
begin
  Result := ALMongoDBLibrary.bson_new();
end;

{***************************************************************************************}
function bson_new_from_json(data: Puint8_t; len: ssize_t; error: Pbson_error_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.bson_new_from_json(data, len, error);
end;

{*********************************************************************************************************}
function bson_init_from_json(bson: Pbson_t; data: PAnsiChar; len: ssize_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_init_from_json(bson, data, len, error);
end;

{******************************************************************************}
function bson_init_static(b: Pbson_t; data: Puint8_t; length: size_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_init_static(b, data, length);
end;

{******************************}
procedure bson_init(b: Pbson_t);
begin
  ALMongoDBLibrary.bson_init(b);
end;

{********************************}
procedure bson_reinit(b: Pbson_t);
begin
  ALMongoDBLibrary.bson_reinit(b);
end;

{*******************************************************************}
function bson_new_from_data(data: Puint8_t; length: size_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.bson_new_from_data(data, length);
end;

{*********************************************************************************************************************************}
function bson_new_from_buffer(buf: PPuint8_t; buf_len: Psize_t; realloc_func: bson_realloc_func; realloc_func_ctx: Pvoid): Pbson_t;
begin
  Result := ALMongoDBLibrary.bson_new_from_buffer(buf, buf_len, realloc_func, realloc_func_ctx);
end;

{*********************************************}
function bson_sized_new(size: size_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.bson_sized_new(size);
end;

{*****************************************}
function bson_copy(bson: Pbson_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.bson_copy(bson);
end;

{*************************************************}
procedure bson_copy_to(src: Pbson_t; dst: Pbson_t);
begin
  ALMongoDBLibrary.bson_copy_to(src, dst);
end;

{********************************************************************************************}
procedure bson_copy_to_excluding_noinit(src: Pbson_t; dst: Pbson_t; first_exclude: PAnsiChar);
begin
  ALMongoDBLibrary.bson_copy_to_excluding_noinit(src, dst, first_exclude);
end;

{**************************************************************************************************************}
procedure bson_copy_to_excluding_noinit_va(src: Pbson_t; dst: Pbson_t; first_exclude: PAnsiChar; args: va_list);
begin
  ALMongoDBLibrary.bson_copy_to_excluding_noinit_va(src, dst, first_exclude, args);
end;

{************************************}
procedure bson_destroy(bson: Pbson_t);
begin
  ALMongoDBLibrary.bson_destroy(bson);
end;

{**************************************************************************}
function bson_reserve_buffer(bson: Pbson_t; total_size: uint32_t): Puint8_t;
begin
  Result := ALMongoDBLibrary.bson_reserve_buffer(bson, total_size);
end;

{********************************************************}
function bson_steal(dst: Pbson_t; src: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_steal(dst, src);
end;

{********************************************************************************************}
function bson_destroy_with_steal(bson: Pbson_t; steal: ByteBool; length: Puint32_t): Puint8_t;
begin
  Result := ALMongoDBLibrary.bson_destroy_with_steal(bson, steal, length);
end;

{**********************************************}
function bson_get_data(bson: Pbson_t): Puint8_t;
begin
  Result := ALMongoDBLibrary.bson_get_data(bson);
end;

{************************************************}
function bson_count_keys(bson: Pbson_t): uint32_t;
begin
  Result := ALMongoDBLibrary.bson_count_keys(bson);
end;

{***************************************************************}
function bson_has_field(bson: Pbson_t; key: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_has_field(bson, key);
end;

{************************************************************}
function bson_compare(bson: Pbson_t; other: Pbson_t): Integer;
begin
  Result := ALMongoDBLibrary.bson_compare(bson, other);
end;

{***********************************************************}
function bson_equal(bson: Pbson_t; other: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_equal(bson, other);
end;

{*********************************************************************************************}
function bson_validate(bson: Pbson_t; flags: bson_validate_flags_t; offset: Psize_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_validate(bson, flags, offset);
end;

{*************************************************************************************************************}
function bson_validate_with_error(bson: Pbson_t; flags: bson_validate_flags_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_validate_with_error(bson, flags, error);
end;

{*****************************************************************************************************************************************}
function bson_validate_with_error_and_offset(bson: Pbson_t; flags: bson_validate_flags_t; offset: Psize_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_validate_with_error_and_offset(bson, flags, offset, error);
end;

{**************************************************************************************************}
function bson_as_json_with_opts(bson: Pbson_t; length: Psize_t; opts: Pbson_json_opts_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_as_json_with_opts(bson, length, opts);
end;

{**********************************************************************************}
function bson_as_canonical_extended_json(bson: Pbson_t; length: Psize_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_as_canonical_extended_json(bson, length);
end;

{*******************************************************************************}
function bson_as_legacy_extended_json(bson: Pbson_t; length: Psize_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_as_legacy_extended_json(bson, length);
end;

{********************************************************************************}
function bson_as_relaxed_extended_json(bson: Pbson_t; length: Psize_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_as_relaxed_extended_json(bson, length);
end;

{*************************************************************************************}
function bson_array_as_legacy_extended_json(bson: Pbson_t; length: Psize_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_array_as_legacy_extended_json(bson, length);
end;

{**************************************************************************************}
function bson_array_as_relaxed_extended_json(bson: Pbson_t; length: Psize_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_array_as_relaxed_extended_json(bson, length);
end;

{****************************************************************************************}
function bson_array_as_canonical_extended_json(bson: Pbson_t; length: Psize_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.bson_array_as_canonical_extended_json(bson, length);
end;

{*******************************************************}
function bson_array_builder_new(): Pbson_array_builder_t;
begin
  Result := ALMongoDBLibrary.bson_array_builder_new();
end;

{***************************************************************************************}
function bson_array_builder_build(bab: Pbson_array_builder_t; param1: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_build(bab, param1);
end;

{***************************************************************}
procedure bson_array_builder_destroy(bab: Pbson_array_builder_t);
begin
  ALMongoDBLibrary.bson_array_builder_destroy(bab);
end;

{*************************************************************************************************************}
function bson_append_value(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: Pbson_value_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_value(bson, key, key_length, value);
end;

{***************************************************************************************************}
function bson_array_builder_append_value(bab: Pbson_array_builder_t; value: Pbson_value_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_value(bab, value);
end;

{********************************************************************************************************}
function bson_append_array(bson: Pbson_t; key: PAnsiChar; key_length: Integer; &array: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_array(bson, key, key_length, &array);
end;

{**********************************************************************************************}
function bson_array_builder_append_array(bab: Pbson_array_builder_t; &array: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_array(bab, &array);
end;

{***********************************************************************************************************************}
function bson_append_array_from_vector(bson: Pbson_t; key: PAnsiChar; key_length: Integer; iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_array_from_vector(bson, key, key_length, iter);
end;

{*************************************************************************************************************}
function bson_array_builder_append_array_from_vector(bab: Pbson_array_builder_t; iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_array_from_vector(bab, iter);
end;

{*****************************************************************************************************************************************************}
function bson_append_binary(bson: Pbson_t; key: PAnsiChar; key_length: Integer; subtype: bson_subtype_t; binary: Puint8_t; length: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_binary(bson, key, key_length, subtype, binary, length);
end;

{*******************************************************************************************************************************************}
function bson_array_builder_append_binary(bab: Pbson_array_builder_t; subtype: bson_subtype_t; binary: Puint8_t; length: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_binary(bab, subtype, binary, length);
end;

{*************************************************************************************************************************************************************}
function bson_append_binary_uninit(bson: Pbson_t; key: PAnsiChar; key_length: Integer; subtype: bson_subtype_t; binary: PPuint8_t; length: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_binary_uninit(bson, key, key_length, subtype, binary, length);
end;

{***************************************************************************************************************************************************}
function bson_array_builder_append_binary_uninit(bab: Pbson_array_builder_t; subtype: bson_subtype_t; binary: PPuint8_t; length: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_binary_uninit(bab, subtype, binary, length);
end;

{*******************************************************************************************************}
function bson_append_bool(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: ByteBool): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_bool(bson, key, key_length, value);
end;

{*********************************************************************************************}
function bson_array_builder_append_bool(bab: Pbson_array_builder_t; value: ByteBool): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_bool(bab, value);
end;

{*************************************************************************************************************}
function bson_append_code(bson: Pbson_t; key: PAnsiChar; key_length: Integer; javascript: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_code(bson, key, key_length, javascript);
end;

{***************************************************************************************************}
function bson_array_builder_append_code(bab: Pbson_array_builder_t; javascript: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_code(bab, javascript);
end;

{****************************************************************************************************************************************}
function bson_append_code_with_scope(bson: Pbson_t; key: PAnsiChar; key_length: Integer; javascript: PAnsiChar; scope: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_code_with_scope(bson, key, key_length, javascript, scope);
end;

{******************************************************************************************************************************}
function bson_array_builder_append_code_with_scope(bab: Pbson_array_builder_t; javascript: PAnsiChar; scope: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_code_with_scope(bab, javascript, scope);
end;

{************************************************************************************************************************************}
function bson_append_dbpointer(bson: Pbson_t; key: PAnsiChar; key_length: Integer; collection: PAnsiChar; oid: Pbson_oid_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_dbpointer(bson, key, key_length, collection, oid);
end;

{**************************************************************************************************************************}
function bson_array_builder_append_dbpointer(bab: Pbson_array_builder_t; collection: PAnsiChar; oid: Pbson_oid_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_dbpointer(bab, collection, oid);
end;

{*******************************************************************************************************}
function bson_append_double(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: double): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_double(bson, key, key_length, value);
end;

{*********************************************************************************************}
function bson_array_builder_append_double(bab: Pbson_array_builder_t; value: double): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_double(bab, value);
end;

{**********************************************************************************************************}
function bson_append_document(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_document(bson, key, key_length, value);
end;

{************************************************************************************************}
function bson_array_builder_append_document(bab: Pbson_array_builder_t; value: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_document(bab, value);
end;

{****************************************************************************************************************}
function bson_append_document_begin(bson: Pbson_t; key: PAnsiChar; key_length: Integer; child: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_document_begin(bson, key, key_length, child);
end;

{******************************************************************************************************}
function bson_array_builder_append_document_begin(bab: Pbson_array_builder_t; child: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_document_begin(bab, child);
end;

{*************************************************************************}
function bson_append_document_end(bson: Pbson_t; child: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_document_end(bson, child);
end;

{****************************************************************************************************}
function bson_array_builder_append_document_end(bab: Pbson_array_builder_t; child: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_document_end(bab, child);
end;

{*************************************************************************************************************}
function bson_append_array_begin(bson: Pbson_t; key: PAnsiChar; key_length: Integer; child: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_array_begin(bson, key, key_length, child);
end;

{**********************************************************************}
function bson_append_array_end(bson: Pbson_t; child: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_array_end(bson, child);
end;

{*******************************************************************************************************}
function bson_append_int32(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: int32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_int32(bson, key, key_length, value);
end;

{*********************************************************************************************}
function bson_array_builder_append_int32(bab: Pbson_array_builder_t; value: int32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_int32(bab, value);
end;

{*******************************************************************************************************}
function bson_append_int64(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: int64_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_int64(bson, key, key_length, value);
end;

{*********************************************************************************************}
function bson_array_builder_append_int64(bab: Pbson_array_builder_t; value: int64_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_int64(bab, value);
end;

{***********************************************************************************************************************}
function bson_append_decimal128(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: Pbson_decimal128_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_decimal128(bson, key, key_length, value);
end;

{*************************************************************************************************************}
function bson_array_builder_append_decimal128(bab: Pbson_array_builder_t; value: Pbson_decimal128_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_decimal128(bab, value);
end;

{**********************************************************************************************************}
function bson_append_iter(bson: Pbson_t; key: PAnsiChar; key_length: Integer; iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_iter(bson, key, key_length, iter);
end;

{************************************************************************************************}
function bson_array_builder_append_iter(bab: Pbson_array_builder_t; iter: Pbson_iter_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_iter(bab, iter);
end;

{****************************************************************************************}
function bson_append_minkey(bson: Pbson_t; key: PAnsiChar; key_length: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_minkey(bson, key, key_length);
end;

{******************************************************************************}
function bson_array_builder_append_minkey(bab: Pbson_array_builder_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_minkey(bab);
end;

{****************************************************************************************}
function bson_append_maxkey(bson: Pbson_t; key: PAnsiChar; key_length: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_maxkey(bson, key, key_length);
end;

{******************************************************************************}
function bson_array_builder_append_maxkey(bab: Pbson_array_builder_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_maxkey(bab);
end;

{**************************************************************************************}
function bson_append_null(bson: Pbson_t; key: PAnsiChar; key_length: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_null(bson, key, key_length);
end;

{****************************************************************************}
function bson_array_builder_append_null(bab: Pbson_array_builder_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_null(bab);
end;

{*******************************************************************************************************}
function bson_append_oid(bson: Pbson_t; key: PAnsiChar; key_length: Integer; oid: Pbson_oid_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_oid(bson, key, key_length, oid);
end;

{*********************************************************************************************}
function bson_array_builder_append_oid(bab: Pbson_array_builder_t; oid: Pbson_oid_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_oid(bab, oid);
end;

{*****************************************************************************************************************************}
function bson_append_regex(bson: Pbson_t; key: PAnsiChar; key_length: Integer; regex: PAnsiChar; options: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_regex(bson, key, key_length, regex, options);
end;

{*******************************************************************************************************************}
function bson_array_builder_append_regex(bab: Pbson_array_builder_t; regex: PAnsiChar; options: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_regex(bab, regex, options);
end;

{**********************************************************************************************************************************************************}
function bson_append_regex_w_len(bson: Pbson_t; key: PAnsiChar; key_length: Integer; regex: PAnsiChar; regex_length: Integer; options: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_regex_w_len(bson, key, key_length, regex, regex_length, options);
end;

{************************************************************************************************************************************************}
function bson_array_builder_append_regex_w_len(bab: Pbson_array_builder_t; regex: PAnsiChar; regex_length: Integer; options: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_regex_w_len(bab, regex, regex_length, options);
end;

{*************************************************************************************************************************}
function bson_append_utf8(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: PAnsiChar; length: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_utf8(bson, key, key_length, value, length);
end;

{***************************************************************************************************************}
function bson_array_builder_append_utf8(bab: Pbson_array_builder_t; value: PAnsiChar; length: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_utf8(bab, value, length);
end;

{***************************************************************************************************************************}
function bson_append_symbol(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: PAnsiChar; length: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_symbol(bson, key, key_length, value, length);
end;

{*****************************************************************************************************************}
function bson_array_builder_append_symbol(bab: Pbson_array_builder_t; value: PAnsiChar; length: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_symbol(bab, value, length);
end;

{*******************************************************************************************************}
function bson_append_time_t(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: time_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_time_t(bson, key, key_length, value);
end;

{*********************************************************************************************}
function bson_array_builder_append_time_t(bab: Pbson_array_builder_t; value: time_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_time_t(bab, value);
end;

{**********************************************************************************************************}
function bson_append_timeval(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: Ptimeval): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_timeval(bson, key, key_length, value);
end;

{************************************************************************************************}
function bson_array_builder_append_timeval(bab: Pbson_array_builder_t; value: Ptimeval): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_timeval(bab, value);
end;

{***********************************************************************************************************}
function bson_append_date_time(bson: Pbson_t; key: PAnsiChar; key_length: Integer; value: int64_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_date_time(bson, key, key_length, value);
end;

{*************************************************************************************************}
function bson_array_builder_append_date_time(bab: Pbson_array_builder_t; value: int64_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_date_time(bab, value);
end;

{*****************************************************************************************}
function bson_append_now_utc(bson: Pbson_t; key: PAnsiChar; key_length: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_now_utc(bson, key, key_length);
end;

{*******************************************************************************}
function bson_array_builder_append_now_utc(bab: Pbson_array_builder_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_now_utc(bab);
end;

{*************************************************************************************************************************************}
function bson_append_timestamp(bson: Pbson_t; key: PAnsiChar; key_length: Integer; timestamp: uint32_t; increment: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_timestamp(bson, key, key_length, timestamp, increment);
end;

{***************************************************************************************************************************}
function bson_array_builder_append_timestamp(bab: Pbson_array_builder_t; timestamp: uint32_t; increment: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_timestamp(bab, timestamp, increment);
end;

{*******************************************************************************************}
function bson_append_undefined(bson: Pbson_t; key: PAnsiChar; key_length: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_undefined(bson, key, key_length);
end;

{*********************************************************************************}
function bson_array_builder_append_undefined(bab: Pbson_array_builder_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_undefined(bab);
end;

{*********************************************************}
function bson_concat(dst: Pbson_t; src: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_concat(dst, src);
end;

{************************************************************************************************************************************}
function bson_append_array_builder_begin(bson: Pbson_t; key: PAnsiChar; key_length: Integer; child: PPbson_array_builder_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_array_builder_begin(bson, key, key_length, child);
end;

{**************************************************************************************************************************}
function bson_array_builder_append_array_builder_begin(bab: Pbson_array_builder_t; child: PPbson_array_builder_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_array_builder_begin(bab, child);
end;

{********************************************************************************************}
function bson_append_array_builder_end(bson: Pbson_t; child: Pbson_array_builder_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_append_array_builder_end(bson, child);
end;

{***********************************************************************************************************************}
function bson_array_builder_append_array_builder_end(bab: Pbson_array_builder_t; child: Pbson_array_builder_t): ByteBool;
begin
  Result := ALMongoDBLibrary.bson_array_builder_append_array_builder_end(bab, child);
end;

{***********************************************************}
function mongoc_write_concern_new(): Pmongoc_write_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_new();
end;

{**************************************************************************************************}
function mongoc_write_concern_copy(write_concern: Pmongoc_write_concern_t): Pmongoc_write_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_copy(write_concern);
end;

{*****************************************************************************}
procedure mongoc_write_concern_destroy(write_concern: Pmongoc_write_concern_t);
begin
  ALMongoDBLibrary.mongoc_write_concern_destroy(write_concern);
end;

{******************************************************************************************}
function mongoc_write_concern_get_journal(write_concern: Pmongoc_write_concern_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_get_journal(write_concern);
end;

{*********************************************************************************************}
function mongoc_write_concern_journal_is_set(write_concern: Pmongoc_write_concern_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_journal_is_set(write_concern);
end;

{****************************************************************************************************}
procedure mongoc_write_concern_set_journal(write_concern: Pmongoc_write_concern_t; journal: ByteBool);
begin
  ALMongoDBLibrary.mongoc_write_concern_set_journal(write_concern, journal);
end;

{***********************************************************************************}
function mongoc_write_concern_get_w(write_concern: Pmongoc_write_concern_t): int32_t;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_get_w(write_concern);
end;

{***************************************************************************************}
procedure mongoc_write_concern_set_w(write_concern: Pmongoc_write_concern_t; w: int32_t);
begin
  ALMongoDBLibrary.mongoc_write_concern_set_w(write_concern, w);
end;

{****************************************************************************************}
function mongoc_write_concern_get_wtag(write_concern: Pmongoc_write_concern_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_get_wtag(write_concern);
end;

{**********************************************************************************************}
procedure mongoc_write_concern_set_wtag(write_concern: Pmongoc_write_concern_t; tag: PAnsiChar);
begin
  ALMongoDBLibrary.mongoc_write_concern_set_wtag(write_concern, tag);
end;

{******************************************************************************************}
function mongoc_write_concern_get_wtimeout(write_concern: Pmongoc_write_concern_t): int32_t;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_get_wtimeout(write_concern);
end;

{************************************************************************************************}
function mongoc_write_concern_get_wtimeout_int64(write_concern: Pmongoc_write_concern_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_get_wtimeout_int64(write_concern);
end;

{**********************************************************************************************************}
procedure mongoc_write_concern_set_wtimeout(write_concern: Pmongoc_write_concern_t; wtimeout_msec: int32_t);
begin
  ALMongoDBLibrary.mongoc_write_concern_set_wtimeout(write_concern, wtimeout_msec);
end;

{****************************************************************************************************************}
procedure mongoc_write_concern_set_wtimeout_int64(write_concern: Pmongoc_write_concern_t; wtimeout_msec: int64_t);
begin
  ALMongoDBLibrary.mongoc_write_concern_set_wtimeout_int64(write_concern, wtimeout_msec);
end;

{********************************************************************************************}
function mongoc_write_concern_get_wmajority(write_concern: Pmongoc_write_concern_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_get_wmajority(write_concern);
end;

{***********************************************************************************************************}
procedure mongoc_write_concern_set_wmajority(write_concern: Pmongoc_write_concern_t; wtimeout_msec: int32_t);
begin
  ALMongoDBLibrary.mongoc_write_concern_set_wmajority(write_concern, wtimeout_msec);
end;

{**********************************************************************************************}
function mongoc_write_concern_is_acknowledged(write_concern: Pmongoc_write_concern_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_is_acknowledged(write_concern);
end;

{***************************************************************************************}
function mongoc_write_concern_is_valid(write_concern: Pmongoc_write_concern_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_is_valid(write_concern);
end;

{***************************************************************************************************}
function mongoc_write_concern_append(write_concern: Pmongoc_write_concern_t; doc: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_append(write_concern, doc);
end;

{*****************************************************************************************}
function mongoc_write_concern_is_default(write_concern: Pmongoc_write_concern_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_write_concern_is_default(write_concern);
end;

{*********************************************************}
function mongoc_read_concern_new(): Pmongoc_read_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_read_concern_new();
end;

{**********************************************************************************************}
function mongoc_read_concern_copy(read_concern: Pmongoc_read_concern_t): Pmongoc_read_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_read_concern_copy(read_concern);
end;

{**************************************************************************}
procedure mongoc_read_concern_destroy(read_concern: Pmongoc_read_concern_t);
begin
  ALMongoDBLibrary.mongoc_read_concern_destroy(read_concern);
end;

{**************************************************************************************}
function mongoc_read_concern_get_level(read_concern: Pmongoc_read_concern_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_read_concern_get_level(read_concern);
end;

{*******************************************************************************************************}
function mongoc_read_concern_set_level(read_concern: Pmongoc_read_concern_t; level: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_read_concern_set_level(read_concern, level);
end;

{************************************************************************************************}
function mongoc_read_concern_append(read_concern: Pmongoc_read_concern_t; doc: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_read_concern_append(read_concern, doc);
end;

{**************************************************************************************}
function mongoc_read_concern_is_default(read_concern: Pmongoc_read_concern_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_read_concern_is_default(read_concern);
end;

{******************************************************}
procedure mongoc_optional_init(opt: Pmongoc_optional_t);
begin
  ALMongoDBLibrary.mongoc_optional_init(opt);
end;

{*****************************************************************}
function mongoc_optional_is_set(opt: Pmongoc_optional_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_optional_is_set(opt);
end;

{****************************************************************}
function mongoc_optional_value(opt: Pmongoc_optional_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_optional_value(opt);
end;

{**************************************************************************}
procedure mongoc_optional_set_value(opt: Pmongoc_optional_t; val: ByteBool);
begin
  ALMongoDBLibrary.mongoc_optional_set_value(opt, val);
end;

{***********************************************************************************}
procedure mongoc_optional_copy(source: Pmongoc_optional_t; copy: Pmongoc_optional_t);
begin
  ALMongoDBLibrary.mongoc_optional_copy(source, copy);
end;

{***************************************************************************}
function mongoc_error_has_label(reply: Pbson_t; &label: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_error_has_label(reply, &label);
end;

{*************************************************************************}
function mongoc_find_and_modify_opts_new(): Pmongoc_find_and_modify_opts_t;
begin
  Result := ALMongoDBLibrary.mongoc_find_and_modify_opts_new();
end;

{***********************************************************************************************************}
function mongoc_find_and_modify_opts_set_sort(opts: Pmongoc_find_and_modify_opts_t; sort: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_find_and_modify_opts_set_sort(opts, sort);
end;

{**************************************************************************************************}
procedure mongoc_find_and_modify_opts_get_sort(opts: Pmongoc_find_and_modify_opts_t; sort: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_find_and_modify_opts_get_sort(opts, sort);
end;

{***************************************************************************************************************}
function mongoc_find_and_modify_opts_set_update(opts: Pmongoc_find_and_modify_opts_t; update: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_find_and_modify_opts_set_update(opts, update);
end;

{******************************************************************************************************}
procedure mongoc_find_and_modify_opts_get_update(opts: Pmongoc_find_and_modify_opts_t; update: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_find_and_modify_opts_get_update(opts, update);
end;

{***************************************************************************************************************}
function mongoc_find_and_modify_opts_set_fields(opts: Pmongoc_find_and_modify_opts_t; fields: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_find_and_modify_opts_set_fields(opts, fields);
end;

{******************************************************************************************************}
procedure mongoc_find_and_modify_opts_get_fields(opts: Pmongoc_find_and_modify_opts_t; fields: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_find_and_modify_opts_get_fields(opts, fields);
end;

{************************************************************************************************************}
function mongoc_find_and_modify_opts_set_flags(opts: Pmongoc_find_and_modify_opts_t; flags: UInt32): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_find_and_modify_opts_set_flags(opts, flags);
end;

{*******************************************************************************************************************}
function mongoc_find_and_modify_opts_get_flags(opts: Pmongoc_find_and_modify_opts_t): mongoc_find_and_modify_flags_t;
begin
  Result := ALMongoDBLibrary.mongoc_find_and_modify_opts_get_flags(opts);
end;

{************************************************************************************************************************************}
function mongoc_find_and_modify_opts_set_bypass_document_validation(opts: Pmongoc_find_and_modify_opts_t; bypass: ByteBool): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_find_and_modify_opts_set_bypass_document_validation(opts, bypass);
end;

{******************************************************************************************************************}
function mongoc_find_and_modify_opts_get_bypass_document_validation(opts: Pmongoc_find_and_modify_opts_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_find_and_modify_opts_get_bypass_document_validation(opts);
end;

{**************************************************************************************************************************}
function mongoc_find_and_modify_opts_set_max_time_ms(opts: Pmongoc_find_and_modify_opts_t; max_time_ms: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_find_and_modify_opts_set_max_time_ms(opts, max_time_ms);
end;

{***************************************************************************************************}
function mongoc_find_and_modify_opts_get_max_time_ms(opts: Pmongoc_find_and_modify_opts_t): uint32_t;
begin
  Result := ALMongoDBLibrary.mongoc_find_and_modify_opts_get_max_time_ms(opts);
end;

{**********************************************************************************************************}
function mongoc_find_and_modify_opts_append(opts: Pmongoc_find_and_modify_opts_t; extra: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_find_and_modify_opts_append(opts, extra);
end;

{****************************************************************************************************}
procedure mongoc_find_and_modify_opts_get_extra(opts: Pmongoc_find_and_modify_opts_t; extra: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_find_and_modify_opts_get_extra(opts, extra);
end;

{**********************************************************************************}
procedure mongoc_find_and_modify_opts_destroy(opts: Pmongoc_find_and_modify_opts_t);
begin
  ALMongoDBLibrary.mongoc_find_and_modify_opts_destroy(opts);
end;

{**********************************************************************************************************************}
function mongoc_handshake_data_append(driver_name: PAnsiChar; driver_version: PAnsiChar; platform: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_handshake_data_append(driver_name, driver_version, platform);
end;

{**********************}
procedure mongoc_init();
begin
  ALMongoDBLibrary.mongoc_init();
end;

{*************************}
procedure mongoc_cleanup();
begin
  ALMongoDBLibrary.mongoc_cleanup();
end;

{******************************************************************************}
procedure mongoc_log_set_handler(log_func: mongoc_log_func_t; user_data: Pvoid);
begin
  ALMongoDBLibrary.mongoc_log_set_handler(log_func, user_data);
end;

{********************************************************************************************}
procedure mongoc_log(log_level: mongoc_log_level_t; log_domain: PAnsiChar; format: PAnsiChar);
begin
  ALMongoDBLibrary.mongoc_log(log_level, log_domain, format);
end;

{*******************************************************************************************************************************}
procedure mongoc_log_default_handler(log_level: mongoc_log_level_t; log_domain: PAnsiChar; message: PAnsiChar; user_data: Pvoid);
begin
  ALMongoDBLibrary.mongoc_log_default_handler(log_level, log_domain, message, user_data);
end;

{**********************************************************************}
function mongoc_log_level_str(log_level: mongoc_log_level_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_log_level_str(log_level);
end;

{**********************************}
procedure mongoc_log_trace_enable();
begin
  ALMongoDBLibrary.mongoc_log_trace_enable();
end;

{***********************************}
procedure mongoc_log_trace_disable();
begin
  ALMongoDBLibrary.mongoc_log_trace_disable();
end;

{****************************************************************************************}
function mongoc_oidc_callback_new(fn: mongoc_oidc_callback_fn_t): Pmongoc_oidc_callback_t;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_callback_new(fn);
end;

{*************************************************************************************************************************}
function mongoc_oidc_callback_new_with_user_data(fn: mongoc_oidc_callback_fn_t; user_data: Pvoid): Pmongoc_oidc_callback_t;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_callback_new_with_user_data(fn, user_data);
end;

{************************************************************************}
procedure mongoc_oidc_callback_destroy(callback: Pmongoc_oidc_callback_t);
begin
  ALMongoDBLibrary.mongoc_oidc_callback_destroy(callback);
end;

{*************************************************************************************************}
function mongoc_oidc_callback_get_fn(callback: Pmongoc_oidc_callback_t): mongoc_oidc_callback_fn_t;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_callback_get_fn(callback);
end;

{************************************************************************************}
function mongoc_oidc_callback_get_user_data(callback: Pmongoc_oidc_callback_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_callback_get_user_data(callback);
end;

{************************************************************************************************}
procedure mongoc_oidc_callback_set_user_data(callback: Pmongoc_oidc_callback_t; user_data: Pvoid);
begin
  ALMongoDBLibrary.mongoc_oidc_callback_set_user_data(callback, user_data);
end;

{************************************************************************************************}
function mongoc_oidc_callback_params_get_version(params: Pmongoc_oidc_callback_params_t): int32_t;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_callback_params_get_version(params);
end;

{************************************************************************************************}
function mongoc_oidc_callback_params_get_user_data(params: Pmongoc_oidc_callback_params_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_callback_params_get_user_data(params);
end;

{*************************************************************************************************}
function mongoc_oidc_callback_params_get_timeout(params: Pmongoc_oidc_callback_params_t): Pint64_t;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_callback_params_get_timeout(params);
end;

{***************************************************************************************************}
function mongoc_oidc_callback_params_get_username(params: Pmongoc_oidc_callback_params_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_callback_params_get_username(params);
end;

{**************************************************************************************************************************}
function mongoc_oidc_callback_params_cancel_with_timeout(params: Pmongoc_oidc_callback_params_t): Pmongoc_oidc_credential_t;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_callback_params_cancel_with_timeout(params);
end;

{**************************************************************************************}
function mongoc_oidc_credential_new(access_token: PAnsiChar): Pmongoc_oidc_credential_t;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_credential_new(access_token);
end;

{***************************************************************************************************************************}
function mongoc_oidc_credential_new_with_expires_in(access_token: PAnsiChar; expires_in: int64_t): Pmongoc_oidc_credential_t;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_credential_new_with_expires_in(access_token, expires_in);
end;

{************************************************************************}
procedure mongoc_oidc_credential_destroy(cred: Pmongoc_oidc_credential_t);
begin
  ALMongoDBLibrary.mongoc_oidc_credential_destroy(cred);
end;

{*******************************************************************************************}
function mongoc_oidc_credential_get_access_token(cred: Pmongoc_oidc_credential_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_credential_get_access_token(cred);
end;

{****************************************************************************************}
function mongoc_oidc_credential_get_expires_in(cred: Pmongoc_oidc_credential_t): Pint64_t;
begin
  Result := ALMongoDBLibrary.mongoc_oidc_credential_get_expires_in(cred);
end;

{***************************************************}
procedure mongoc_rand_seed(buf: Pvoid; num: Integer);
begin
  ALMongoDBLibrary.mongoc_rand_seed(buf, num);
end;

{*******************************************************************}
procedure mongoc_rand_add(buf: Pvoid; num: Integer; entropy: double);
begin
  ALMongoDBLibrary.mongoc_rand_add(buf, num, entropy);
end;

{*************************************}
function mongoc_rand_status(): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_rand_status();
end;

{**********************************************************************************}
function mongoc_read_prefs_new(read_mode: mongoc_read_mode_t): Pmongoc_read_prefs_t;
begin
  Result := ALMongoDBLibrary.mongoc_read_prefs_new(read_mode);
end;

{**************************************************************************************}
function mongoc_read_prefs_copy(read_prefs: Pmongoc_read_prefs_t): Pmongoc_read_prefs_t;
begin
  Result := ALMongoDBLibrary.mongoc_read_prefs_copy(read_prefs);
end;

{********************************************************************}
procedure mongoc_read_prefs_destroy(read_prefs: Pmongoc_read_prefs_t);
begin
  ALMongoDBLibrary.mongoc_read_prefs_destroy(read_prefs);
end;

{****************************************************************************************}
function mongoc_read_prefs_get_mode(read_prefs: Pmongoc_read_prefs_t): mongoc_read_mode_t;
begin
  Result := ALMongoDBLibrary.mongoc_read_prefs_get_mode(read_prefs);
end;

{***********************************************************************************************}
procedure mongoc_read_prefs_set_mode(read_prefs: Pmongoc_read_prefs_t; mode: mongoc_read_mode_t);
begin
  ALMongoDBLibrary.mongoc_read_prefs_set_mode(read_prefs, mode);
end;

{*****************************************************************************}
function mongoc_read_prefs_get_tags(read_prefs: Pmongoc_read_prefs_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_read_prefs_get_tags(read_prefs);
end;

{************************************************************************************}
procedure mongoc_read_prefs_set_tags(read_prefs: Pmongoc_read_prefs_t; tags: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_read_prefs_set_tags(read_prefs, tags);
end;

{**********************************************************************************}
procedure mongoc_read_prefs_add_tag(read_prefs: Pmongoc_read_prefs_t; tag: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_read_prefs_add_tag(read_prefs, tag);
end;

{**********************************************************************************************}
function mongoc_read_prefs_get_max_staleness_seconds(read_prefs: Pmongoc_read_prefs_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_read_prefs_get_max_staleness_seconds(read_prefs);
end;

{**********************************************************************************************************************}
procedure mongoc_read_prefs_set_max_staleness_seconds(read_prefs: Pmongoc_read_prefs_t; max_staleness_seconds: int64_t);
begin
  ALMongoDBLibrary.mongoc_read_prefs_set_max_staleness_seconds(read_prefs, max_staleness_seconds);
end;

{******************************************************************************}
function mongoc_read_prefs_get_hedge(read_prefs: Pmongoc_read_prefs_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_read_prefs_get_hedge(read_prefs);
end;

{**************************************************************************************}
procedure mongoc_read_prefs_set_hedge(read_prefs: Pmongoc_read_prefs_t; hedge: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_read_prefs_set_hedge(read_prefs, hedge);
end;

{******************************************************************************}
function mongoc_read_prefs_is_valid(read_prefs: Pmongoc_read_prefs_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_read_prefs_is_valid(read_prefs);
end;

{********************************************************************************************}
function mongoc_server_api_version_to_string(version: mongoc_server_api_version_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_server_api_version_to_string(version);
end;

{*****************************************************************************************************************}
function mongoc_server_api_version_from_string(version: PAnsiChar; param1: Pmongoc_server_api_version_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_server_api_version_from_string(version, param1);
end;

{*****************************************************************************************}
function mongoc_server_api_new(version: mongoc_server_api_version_t): Pmongoc_server_api_t;
begin
  Result := ALMongoDBLibrary.mongoc_server_api_new(version);
end;

{*******************************************************************************}
function mongoc_server_api_copy(api: Pmongoc_server_api_t): Pmongoc_server_api_t;
begin
  Result := ALMongoDBLibrary.mongoc_server_api_copy(api);
end;

{*************************************************************}
procedure mongoc_server_api_destroy(api: Pmongoc_server_api_t);
begin
  ALMongoDBLibrary.mongoc_server_api_destroy(api);
end;

{******************************************************************************}
procedure mongoc_server_api_strict(api: Pmongoc_server_api_t; strict: ByteBool);
begin
  ALMongoDBLibrary.mongoc_server_api_strict(api, strict);
end;

{******************************************************************************************************}
procedure mongoc_server_api_deprecation_errors(api: Pmongoc_server_api_t; deprecation_errors: ByteBool);
begin
  ALMongoDBLibrary.mongoc_server_api_deprecation_errors(api, deprecation_errors);
end;

{***********************************************************************************************}
function mongoc_server_api_get_deprecation_errors(api: Pmongoc_server_api_t): Pmongoc_optional_t;
begin
  Result := ALMongoDBLibrary.mongoc_server_api_get_deprecation_errors(api);
end;

{***********************************************************************************}
function mongoc_server_api_get_strict(api: Pmongoc_server_api_t): Pmongoc_optional_t;
begin
  Result := ALMongoDBLibrary.mongoc_server_api_get_strict(api);
end;

{*********************************************************************************************}
function mongoc_server_api_get_version(api: Pmongoc_server_api_t): mongoc_server_api_version_t;
begin
  Result := ALMongoDBLibrary.mongoc_server_api_get_version(api);
end;

{*************************************************************************************}
procedure mongoc_server_description_destroy(description: Pmongoc_server_description_t);
begin
  ALMongoDBLibrary.mongoc_server_description_destroy(description);
end;

{*******************************************************************************************************************}
function mongoc_server_description_new_copy(description: Pmongoc_server_description_t): Pmongoc_server_description_t;
begin
  Result := ALMongoDBLibrary.mongoc_server_description_new_copy(description);
end;

{*****************************************************************************************}
function mongoc_server_description_id(description: Pmongoc_server_description_t): uint32_t;
begin
  Result := ALMongoDBLibrary.mongoc_server_description_id(description);
end;

{******************************************************************************************************}
function mongoc_server_description_host(description: Pmongoc_server_description_t): Pmongoc_host_list_t;
begin
  Result := ALMongoDBLibrary.mongoc_server_description_host(description);
end;

{******************************************************************************************************}
function mongoc_server_description_last_update_time(description: Pmongoc_server_description_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_server_description_last_update_time(description);
end;

{*****************************************************************************************************}
function mongoc_server_description_round_trip_time(description: Pmongoc_server_description_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_server_description_round_trip_time(description);
end;

{********************************************************************************************}
function mongoc_server_description_type(description: Pmongoc_server_description_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_server_description_type(description);
end;

{****************************************************************************************************}
function mongoc_server_description_hello_response(description: Pmongoc_server_description_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_server_description_hello_response(description);
end;

{***************************************************************************************************}
function mongoc_server_description_compressor_id(description: Pmongoc_server_description_t): int32_t;
begin
  Result := ALMongoDBLibrary.mongoc_server_description_compressor_id(description);
end;

{*******************************************************}
function mongoc_ssl_opt_get_default(): Pmongoc_ssl_opt_t;
begin
  Result := ALMongoDBLibrary.mongoc_ssl_opt_get_default();
end;

{******************************************************************************************}
function mongoc_socket_accept(sock: Pmongoc_socket_t; expire_at: int64_t): Pmongoc_socket_t;
begin
  Result := ALMongoDBLibrary.mongoc_socket_accept(sock, expire_at);
end;

{*******************************************************************************************************}
function mongoc_socket_bind(sock: Pmongoc_socket_t; addr: Psockaddr; addrlen: mongoc_socklen_t): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_socket_bind(sock, addr, addrlen);
end;

{**************************************************************}
function mongoc_socket_close(socket: Pmongoc_socket_t): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_socket_close(socket);
end;

{******************************************************************************************************************************}
function mongoc_socket_connect(sock: Pmongoc_socket_t; addr: Psockaddr; addrlen: mongoc_socklen_t; expire_at: int64_t): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_socket_connect(sock, addr, addrlen, expire_at);
end;

{********************************************************************}
function mongoc_socket_getnameinfo(sock: Pmongoc_socket_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_socket_getnameinfo(sock);
end;

{******************************************************}
procedure mongoc_socket_destroy(sock: Pmongoc_socket_t);
begin
  ALMongoDBLibrary.mongoc_socket_destroy(sock);
end;

{************************************************************}
function mongoc_socket_errno(sock: Pmongoc_socket_t): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_socket_errno(sock);
end;

{***************************************************************************************************************}
function mongoc_socket_getsockname(sock: Pmongoc_socket_t; addr: Psockaddr; addrlen: Pmongoc_socklen_t): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_socket_getsockname(sock, addr, addrlen);
end;

{****************************************************************************}
function mongoc_socket_listen(sock: Pmongoc_socket_t; backlog: UINT): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_socket_listen(sock, backlog);
end;

{***********************************************************************************************}
function mongoc_socket_new(domain: Integer; &type: Integer; protocol: Integer): Pmongoc_socket_t;
begin
  Result := ALMongoDBLibrary.mongoc_socket_new(domain, &type, protocol);
end;

{***************************************************************************************************************************}
function mongoc_socket_recv(sock: Pmongoc_socket_t; buf: Pvoid; buflen: size_t; flags: Integer; expire_at: int64_t): ssize_t;
begin
  Result := ALMongoDBLibrary.mongoc_socket_recv(sock, buf, buflen, flags, expire_at);
end;

{********************************************************************************************************************************************}
function mongoc_socket_setsockopt(sock: Pmongoc_socket_t; level: Integer; optname: Integer; optval: Pvoid; optlen: mongoc_socklen_t): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_socket_setsockopt(sock, level, optname, optval, optlen);
end;

{***********************************************************************************************************}
function mongoc_socket_send(sock: Pmongoc_socket_t; buf: Pvoid; buflen: size_t; expire_at: int64_t): ssize_t;
begin
  Result := ALMongoDBLibrary.mongoc_socket_send(sock, buf, buflen, expire_at);
end;

{**********************************************************************************************************************}
function mongoc_socket_sendv(sock: Pmongoc_socket_t; iov: Pmongoc_iovec_t; iovcnt: size_t; expire_at: int64_t): ssize_t;
begin
  Result := ALMongoDBLibrary.mongoc_socket_sendv(sock, iov, iovcnt, expire_at);
end;

{********************************************************************}
function mongoc_socket_check_closed(sock: Pmongoc_socket_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_socket_check_closed(sock);
end;

{*******************************************************************************}
procedure mongoc_socket_inet_ntop(rp: Paddrinfo; buf: PAnsiChar; buflen: size_t);
begin
  ALMongoDBLibrary.mongoc_socket_inet_ntop(rp, buf, buflen);
end;

{***********************************************************************************************}
function mongoc_socket_poll(sds: Pmongoc_socket_poll_t; nsds: size_t; timeout: int32_t): ssize_t;
begin
  Result := ALMongoDBLibrary.mongoc_socket_poll(sds, nsds, timeout);
end;

{*********************************************************************************}
function mongoc_stream_get_base_stream(stream: Pmongoc_stream_t): Pmongoc_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_get_base_stream(stream);
end;

{********************************************************************************}
function mongoc_stream_get_tls_stream(stream: Pmongoc_stream_t): Pmongoc_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_get_tls_stream(stream);
end;

{**************************************************************}
function mongoc_stream_close(stream: Pmongoc_stream_t): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_stream_close(stream);
end;

{********************************************************}
procedure mongoc_stream_destroy(stream: Pmongoc_stream_t);
begin
  ALMongoDBLibrary.mongoc_stream_destroy(stream);
end;

{*******************************************************}
procedure mongoc_stream_failed(stream: Pmongoc_stream_t);
begin
  ALMongoDBLibrary.mongoc_stream_failed(stream);
end;

{**************************************************************}
function mongoc_stream_flush(stream: Pmongoc_stream_t): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_stream_flush(stream);
end;

{****************************************************************************************************************************}
function mongoc_stream_writev(stream: Pmongoc_stream_t; iov: Pmongoc_iovec_t; iovcnt: size_t; timeout_msec: int32_t): ssize_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_writev(stream, iov, iovcnt, timeout_msec);
end;

{****************************************************************************************************************}
function mongoc_stream_write(stream: Pmongoc_stream_t; buf: Pvoid; count: size_t; timeout_msec: int32_t): ssize_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_write(stream, buf, count, timeout_msec);
end;

{**********************************************************************************************************************************************}
function mongoc_stream_readv(stream: Pmongoc_stream_t; iov: Pmongoc_iovec_t; iovcnt: size_t; min_bytes: size_t; timeout_msec: int32_t): ssize_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_readv(stream, iov, iovcnt, min_bytes, timeout_msec);
end;

{**********************************************************************************************************************************}
function mongoc_stream_read(stream: Pmongoc_stream_t; buf: Pvoid; count: size_t; min_bytes: size_t; timeout_msec: int32_t): ssize_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_read(stream, buf, count, min_bytes, timeout_msec);
end;

{**********************************************************************************************************************************************}
function mongoc_stream_setsockopt(stream: Pmongoc_stream_t; level: Integer; optname: Integer; optval: Pvoid; optlen: mongoc_socklen_t): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_stream_setsockopt(stream, level, optname, optval, optlen);
end;

{**********************************************************************}
function mongoc_stream_check_closed(stream: Pmongoc_stream_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_stream_check_closed(stream);
end;

{*******************************************************************}
function mongoc_stream_timed_out(stream: Pmongoc_stream_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_stream_timed_out(stream);
end;

{**********************************************************************}
function mongoc_stream_should_retry(stream: Pmongoc_stream_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_stream_should_retry(stream);
end;

{**********************************************************************************************************}
function mongoc_stream_poll(streams: Pmongoc_stream_poll_t; nstreams: size_t; timeout_ms: int32_t): ssize_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_poll(streams, nstreams, timeout_ms);
end;

{********************************************************************************************************}
function mongoc_stream_buffered_new(base_stream: Pmongoc_stream_t; buffer_size: size_t): Pmongoc_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_buffered_new(base_stream, buffer_size);
end;

{*************************************************************}
function mongoc_stream_file_new(fd: Integer): Pmongoc_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_file_new(fd);
end;

{*********************************************************************************************************}
function mongoc_stream_file_new_for_path(path: PAnsiChar; flags: Integer; mode: Integer): Pmongoc_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_file_new_for_path(path, flags, mode);
end;

{*************************************************************************}
function mongoc_stream_file_get_fd(stream: Pmongoc_stream_file_t): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_stream_file_get_fd(stream);
end;

{****************************************************************************}
function mongoc_stream_socket_new(socket: Pmongoc_socket_t): Pmongoc_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_socket_new(socket);
end;

{******************************************************************************************}
function mongoc_stream_socket_get_socket(stream: Pmongoc_stream_socket_t): Pmongoc_socket_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_socket_get_socket(stream);
end;

{***********************************************************************}
function mongoc_structured_log_opts_new(): Pmongoc_structured_log_opts_t;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_opts_new();
end;

{********************************************************************************}
procedure mongoc_structured_log_opts_destroy(opts: Pmongoc_structured_log_opts_t);
begin
  ALMongoDBLibrary.mongoc_structured_log_opts_destroy(opts);
end;

{**********************************************************************************************************************************************}
procedure mongoc_structured_log_opts_set_handler(opts: Pmongoc_structured_log_opts_t; log_func: mongoc_structured_log_func_t; user_data: Pvoid);
begin
  ALMongoDBLibrary.mongoc_structured_log_opts_set_handler(opts, log_func, user_data);
end;

{*************************************************************************************************************************************************************************************************}
function mongoc_structured_log_opts_set_max_level_for_component(opts: Pmongoc_structured_log_opts_t; component: mongoc_structured_log_component_t; level: mongoc_structured_log_level_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_opts_set_max_level_for_component(opts, component, level);
end;

{********************************************************************************************************************************************************}
function mongoc_structured_log_opts_set_max_level_for_all_components(opts: Pmongoc_structured_log_opts_t; level: mongoc_structured_log_level_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_opts_set_max_level_for_all_components(opts, level);
end;

{*********************************************************************************************************}
function mongoc_structured_log_opts_set_max_levels_from_env(opts: Pmongoc_structured_log_opts_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_opts_set_max_levels_from_env(opts);
end;

{********************************************************************************************************************************************************************************}
function mongoc_structured_log_opts_get_max_level_for_component(opts: Pmongoc_structured_log_opts_t; component: mongoc_structured_log_component_t): mongoc_structured_log_level_t;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_opts_get_max_level_for_component(opts, component);
end;

{*******************************************************************************************************}
function mongoc_structured_log_opts_get_max_document_length(opts: Pmongoc_structured_log_opts_t): size_t;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_opts_get_max_document_length(opts);
end;

{******************************************************************************************************************}
function mongoc_structured_log_opts_set_max_document_length_from_env(opts: Pmongoc_structured_log_opts_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_opts_set_max_document_length_from_env(opts);
end;

{**************************************************************************************************************************************}
function mongoc_structured_log_opts_set_max_document_length(opts: Pmongoc_structured_log_opts_t; max_document_length: size_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_opts_set_max_document_length(opts, max_document_length);
end;

{***************************************************************************************************}
function mongoc_structured_log_entry_message_as_bson(entry: Pmongoc_structured_log_entry_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_entry_message_as_bson(entry);
end;

{*******************************************************************************************************************}
function mongoc_structured_log_entry_get_level(entry: Pmongoc_structured_log_entry_t): mongoc_structured_log_level_t;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_entry_get_level(entry);
end;

{***************************************************************************************************************************}
function mongoc_structured_log_entry_get_component(entry: Pmongoc_structured_log_entry_t): mongoc_structured_log_component_t;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_entry_get_component(entry);
end;

{********************************************************************************************************}
function mongoc_structured_log_entry_get_message_string(entry: Pmongoc_structured_log_entry_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_entry_get_message_string(entry);
end;

{*********************************************************************************************}
function mongoc_structured_log_get_level_name(level: mongoc_structured_log_level_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_get_level_name(level);
end;

{****************************************************************************************************************}
function mongoc_structured_log_get_named_level(name: PAnsiChar; param1: Pmongoc_structured_log_level_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_get_named_level(name, param1);
end;

{*********************************************************************************************************}
function mongoc_structured_log_get_component_name(component: mongoc_structured_log_component_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_get_component_name(component);
end;

{************************************************************************************************************************}
function mongoc_structured_log_get_named_component(name: PAnsiChar; param1: Pmongoc_structured_log_component_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_structured_log_get_named_component(name, param1);
end;

{*******************************************}
function mongoc_get_major_version(): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_get_major_version();
end;

{*******************************************}
function mongoc_get_minor_version(): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_get_minor_version();
end;

{*******************************************}
function mongoc_get_micro_version(): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_get_micro_version();
end;

{***************************************}
function mongoc_get_version(): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_get_version();
end;

{*****************************************************************************************************************}
function mongoc_check_version(required_major: Integer; required_minor: Integer; required_micro: Integer): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_check_version(required_major, required_minor, required_micro);
end;

{***********************************************************************}
function mongoc_cursor_clone(cursor: Pmongoc_cursor_t): Pmongoc_cursor_t;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_clone(cursor);
end;

{********************************************************}
procedure mongoc_cursor_destroy(cursor: Pmongoc_cursor_t);
begin
  ALMongoDBLibrary.mongoc_cursor_destroy(cursor);
end;

{**************************************************************}
function mongoc_cursor_more(cursor: Pmongoc_cursor_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_more(cursor);
end;

{******************************************************************************}
function mongoc_cursor_next(cursor: Pmongoc_cursor_t; bson: PPbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_next(cursor, bson);
end;

{*************************************************************************************}
function mongoc_cursor_error(cursor: Pmongoc_cursor_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_error(cursor, error);
end;

{*************************************************************************************************************}
function mongoc_cursor_error_document(cursor: Pmongoc_cursor_t; error: Pbson_error_t; doc: PPbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_error_document(cursor, error, doc);
end;

{************************************************************************************}
procedure mongoc_cursor_get_host(cursor: Pmongoc_cursor_t; host: Pmongoc_host_list_t);
begin
  ALMongoDBLibrary.mongoc_cursor_get_host(cursor, host);
end;

{****************************************************************}
function mongoc_cursor_current(cursor: Pmongoc_cursor_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_current(cursor);
end;

{*************************************************************************************}
procedure mongoc_cursor_set_batch_size(cursor: Pmongoc_cursor_t; batch_size: uint32_t);
begin
  ALMongoDBLibrary.mongoc_cursor_set_batch_size(cursor, batch_size);
end;

{************************************************************************}
function mongoc_cursor_get_batch_size(cursor: Pmongoc_cursor_t): uint32_t;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_get_batch_size(cursor);
end;

{***********************************************************************************}
function mongoc_cursor_set_limit(cursor: Pmongoc_cursor_t; limit: int64_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_set_limit(cursor, limit);
end;

{******************************************************************}
function mongoc_cursor_get_limit(cursor: Pmongoc_cursor_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_get_limit(cursor);
end;

{********************************************************************************************}
function mongoc_cursor_set_server_id(cursor: Pmongoc_cursor_t; server_id: uint32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_set_server_id(cursor, server_id);
end;

{***********************************************************************}
function mongoc_cursor_get_server_id(cursor: Pmongoc_cursor_t): uint32_t;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_get_server_id(cursor);
end;

{***************************************************************}
function mongoc_cursor_get_id(cursor: Pmongoc_cursor_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_get_id(cursor);
end;

{***************************************************************************************************}
procedure mongoc_cursor_set_max_await_time_ms(cursor: Pmongoc_cursor_t; max_await_time_ms: uint32_t);
begin
  ALMongoDBLibrary.mongoc_cursor_set_max_await_time_ms(cursor, max_await_time_ms);
end;

{*******************************************************************************}
function mongoc_cursor_get_max_await_time_ms(cursor: Pmongoc_cursor_t): uint32_t;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_get_max_await_time_ms(cursor);
end;

{**********************************************************************************************************************************}
function mongoc_cursor_new_from_command_reply_with_opts(client: P_mongoc_client_t; reply: Pbson_t; opts: Pbson_t): Pmongoc_cursor_t;
begin
  Result := ALMongoDBLibrary.mongoc_cursor_new_from_command_reply_with_opts(client, reply, opts);
end;

{**********************************************************************}
procedure mongoc_change_stream_destroy(stream: Pmongoc_change_stream_t);
begin
  ALMongoDBLibrary.mongoc_change_stream_destroy(stream);
end;

{***************************************************************************************}
function mongoc_change_stream_get_resume_token(stream: Pmongoc_change_stream_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_change_stream_get_resume_token(stream);
end;

{********************************************************************************************}
function mongoc_change_stream_next(stream: Pmongoc_change_stream_t; bson: PPbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_change_stream_next(stream, bson);
end;

{**************************************************************************************************************************}
function mongoc_change_stream_error_document(stream: Pmongoc_change_stream_t; err: Pbson_error_t; bson: PPbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_change_stream_error_document(stream, err, bson);
end;

{**********************************************************************}
procedure mongoc_bulk_operation_destroy(bulk: Pmongoc_bulk_operation_t);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_destroy(bulk);
end;

{*********************************************************************************************************************}
function mongoc_bulk_operation_execute(bulk: Pmongoc_bulk_operation_t; reply: Pbson_t; error: Pbson_error_t): uint32_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulk_operation_execute(bulk, reply, error);
end;

{****************************************************************************************}
procedure mongoc_bulk_operation_insert(bulk: Pmongoc_bulk_operation_t; document: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_insert(bulk, document);
end;

{************************************************************************************************************************************************}
function mongoc_bulk_operation_insert_with_opts(bulk: Pmongoc_bulk_operation_t; document: Pbson_t; opts: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulk_operation_insert_with_opts(bulk, document, opts, error);
end;

{****************************************************************************************}
procedure mongoc_bulk_operation_remove(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_remove(bulk, selector);
end;

{*****************************************************************************************************************************************************}
function mongoc_bulk_operation_remove_many_with_opts(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; opts: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulk_operation_remove_many_with_opts(bulk, selector, opts, error);
end;

{********************************************************************************************}
procedure mongoc_bulk_operation_remove_one(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_remove_one(bulk, selector);
end;

{****************************************************************************************************************************************************}
function mongoc_bulk_operation_remove_one_with_opts(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; opts: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulk_operation_remove_one_with_opts(bulk, selector, opts, error);
end;

{**********************************************************************************************************************************}
procedure mongoc_bulk_operation_replace_one(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; document: Pbson_t; upsert: ByteBool);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_replace_one(bulk, selector, document, upsert);
end;

{************************************************************************************************************************************************************************}
function mongoc_bulk_operation_replace_one_with_opts(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; document: Pbson_t; opts: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulk_operation_replace_one_with_opts(bulk, selector, document, opts, error);
end;

{*****************************************************************************************************************************}
procedure mongoc_bulk_operation_update(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; document: Pbson_t; upsert: ByteBool);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_update(bulk, selector, document, upsert);
end;

{************************************************************************************************************************************************************************}
function mongoc_bulk_operation_update_many_with_opts(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; document: Pbson_t; opts: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulk_operation_update_many_with_opts(bulk, selector, document, opts, error);
end;

{*********************************************************************************************************************************}
procedure mongoc_bulk_operation_update_one(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; document: Pbson_t; upsert: ByteBool);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_update_one(bulk, selector, document, upsert);
end;

{***********************************************************************************************************************************************************************}
function mongoc_bulk_operation_update_one_with_opts(bulk: Pmongoc_bulk_operation_t; selector: Pbson_t; document: Pbson_t; opts: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulk_operation_update_one_with_opts(bulk, selector, document, opts, error);
end;

{***************************************************************************************************************}
procedure mongoc_bulk_operation_set_bypass_document_validation(bulk: Pmongoc_bulk_operation_t; bypass: ByteBool);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_set_bypass_document_validation(bulk, bypass);
end;

{**************************************************************************************************}
procedure mongoc_bulk_operation_set_comment(bulk: Pmongoc_bulk_operation_t; comment: Pbson_value_t);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_set_comment(bulk, comment);
end;

{************************************************************************************}
procedure mongoc_bulk_operation_set_let(bulk: Pmongoc_bulk_operation_t; let: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_set_let(bulk, let);
end;

{******************************************************************************}
function mongoc_bulk_operation_new(ordered: ByteBool): Pmongoc_bulk_operation_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulk_operation_new(ordered);
end;

{************************************************************************************************************************}
procedure mongoc_bulk_operation_set_write_concern(bulk: Pmongoc_bulk_operation_t; write_concern: Pmongoc_write_concern_t);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_set_write_concern(bulk, write_concern);
end;

{************************************************************************************************}
procedure mongoc_bulk_operation_set_database(bulk: Pmongoc_bulk_operation_t; database: PAnsiChar);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_set_database(bulk, database);
end;

{****************************************************************************************************}
procedure mongoc_bulk_operation_set_collection(bulk: Pmongoc_bulk_operation_t; collection: PAnsiChar);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_set_collection(bulk, collection);
end;

{****************************************************************************************}
procedure mongoc_bulk_operation_set_client(bulk: Pmongoc_bulk_operation_t; client: Pvoid);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_set_client(bulk, client);
end;

{****************************************************************************************************************************}
procedure mongoc_bulk_operation_set_client_session(bulk: Pmongoc_bulk_operation_t; client_session: P_mongoc_client_session_t);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_set_client_session(bulk, client_session);
end;

{*************************************************************************************************}
procedure mongoc_bulk_operation_set_server_id(bulk: Pmongoc_bulk_operation_t; server_id: uint32_t);
begin
  ALMongoDBLibrary.mongoc_bulk_operation_set_server_id(bulk, server_id);
end;

{*************************************************************************************}
function mongoc_bulk_operation_get_server_id(bulk: Pmongoc_bulk_operation_t): uint32_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulk_operation_get_server_id(bulk);
end;

{********************************************************************************************************}
function mongoc_bulk_operation_get_write_concern(bulk: Pmongoc_bulk_operation_t): Pmongoc_write_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulk_operation_get_write_concern(bulk);
end;

{*************************************************************************}
function mongoc_auto_encryption_opts_new(): Pmongoc_auto_encryption_opts_t;
begin
  Result := ALMongoDBLibrary.mongoc_auto_encryption_opts_new();
end;

{**********************************************************************************}
procedure mongoc_auto_encryption_opts_destroy(opts: Pmongoc_auto_encryption_opts_t);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_destroy(opts);
end;

{*************************************************************************************************************************}
procedure mongoc_auto_encryption_opts_set_keyvault_client(opts: Pmongoc_auto_encryption_opts_t; client: P_mongoc_client_t);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_set_keyvault_client(opts, client);
end;

{*********************************************************************************************************************************}
procedure mongoc_auto_encryption_opts_set_keyvault_client_pool(opts: Pmongoc_auto_encryption_opts_t; pool: P_mongoc_client_pool_t);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_set_keyvault_client_pool(opts, pool);
end;

{*********************************************************************************************************************************}
procedure mongoc_auto_encryption_opts_set_keyvault_namespace(opts: Pmongoc_auto_encryption_opts_t; db: PAnsiChar; coll: PAnsiChar);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_set_keyvault_namespace(opts, db, coll);
end;

{********************************************************************************************************************}
procedure mongoc_auto_encryption_opts_set_kms_providers(opts: Pmongoc_auto_encryption_opts_t; kms_providers: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_set_kms_providers(opts, kms_providers);
end;

{*******************************************************************************************************************}
procedure mongoc_auto_encryption_opts_set_key_expiration(opts: Pmongoc_auto_encryption_opts_t; expiration: uint64_t);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_set_key_expiration(opts, expiration);
end;

{**********************************************************************************************************}
procedure mongoc_auto_encryption_opts_set_tls_opts(opts: Pmongoc_auto_encryption_opts_t; tls_opts: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_set_tls_opts(opts, tls_opts);
end;

{**************************************************************************************************************}
procedure mongoc_auto_encryption_opts_set_schema_map(opts: Pmongoc_auto_encryption_opts_t; schema_map: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_set_schema_map(opts, schema_map);
end;

{**********************************************************************************************************************************}
procedure mongoc_auto_encryption_opts_set_encrypted_fields_map(opts: Pmongoc_auto_encryption_opts_t; encrypted_fields_map: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_set_encrypted_fields_map(opts, encrypted_fields_map);
end;

{***************************************************************************************************************************************}
procedure mongoc_auto_encryption_opts_set_bypass_auto_encryption(opts: Pmongoc_auto_encryption_opts_t; bypass_auto_encryption: ByteBool);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_set_bypass_auto_encryption(opts, bypass_auto_encryption);
end;

{*************************************************************************************************************************************}
procedure mongoc_auto_encryption_opts_set_bypass_query_analysis(opts: Pmongoc_auto_encryption_opts_t; bypass_query_analysis: ByteBool);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_set_bypass_query_analysis(opts, bypass_query_analysis);
end;

{****************************************************************************************************}
procedure mongoc_auto_encryption_opts_set_extra(opts: Pmongoc_auto_encryption_opts_t; extra: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_set_extra(opts, extra);
end;

{*********************************************************************************************************************************************************************************}
procedure mongoc_auto_encryption_opts_set_kms_credential_provider_callback(opts: Pmongoc_auto_encryption_opts_t; fn: mongoc_kms_credentials_provider_callback_fn; userdata: Pvoid);
begin
  ALMongoDBLibrary.mongoc_auto_encryption_opts_set_kms_credential_provider_callback(opts, fn, userdata);
end;

{*****************************************************************************}
function mongoc_client_encryption_opts_new(): Pmongoc_client_encryption_opts_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_opts_new();
end;

{**************************************************************************************}
procedure mongoc_client_encryption_opts_destroy(opts: Pmongoc_client_encryption_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_opts_destroy(opts);
end;

{**************************************************************************************************************************************}
procedure mongoc_client_encryption_opts_set_keyvault_client(opts: Pmongoc_client_encryption_opts_t; keyvault_client: P_mongoc_client_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_opts_set_keyvault_client(opts, keyvault_client);
end;

{*************************************************************************************************************************************}
procedure mongoc_client_encryption_opts_set_keyvault_namespace(opts: Pmongoc_client_encryption_opts_t; db: PAnsiChar; coll: PAnsiChar);
begin
  ALMongoDBLibrary.mongoc_client_encryption_opts_set_keyvault_namespace(opts, db, coll);
end;

{************************************************************************************************************************}
procedure mongoc_client_encryption_opts_set_kms_providers(opts: Pmongoc_client_encryption_opts_t; kms_providers: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_opts_set_kms_providers(opts, kms_providers);
end;

{**************************************************************************************************************}
procedure mongoc_client_encryption_opts_set_tls_opts(opts: Pmongoc_client_encryption_opts_t; tls_opts: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_opts_set_tls_opts(opts, tls_opts);
end;

{*************************************************************************************************************************************************************************************}
procedure mongoc_client_encryption_opts_set_kms_credential_provider_callback(opts: Pmongoc_client_encryption_opts_t; fn: mongoc_kms_credentials_provider_callback_fn; userdata: Pvoid);
begin
  ALMongoDBLibrary.mongoc_client_encryption_opts_set_kms_credential_provider_callback(opts, fn, userdata);
end;

{********************************************************************************************************************************}
procedure mongoc_client_encryption_opts_set_key_expiration(opts: Pmongoc_client_encryption_opts_t; cache_expiration_ms: uint64_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_opts_set_key_expiration(opts, cache_expiration_ms);
end;

{*************************************************************************************************************************}
function mongoc_client_encryption_rewrap_many_datakey_result_new(): Pmongoc_client_encryption_rewrap_many_datakey_result_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_rewrap_many_datakey_result_new();
end;

{*************************************************************************************************************************************}
procedure mongoc_client_encryption_rewrap_many_datakey_result_destroy(_result: Pmongoc_client_encryption_rewrap_many_datakey_result_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_rewrap_many_datakey_result_destroy(_result);
end;

{***********************************************************************************************************************************************************}
function mongoc_client_encryption_rewrap_many_datakey_result_get_bulk_write_result(_result: Pmongoc_client_encryption_rewrap_many_datakey_result_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_rewrap_many_datakey_result_get_bulk_write_result(_result);
end;

{*******************************************************************************************************************************}
function mongoc_client_encryption_new(opts: Pmongoc_client_encryption_opts_t; error: Pbson_error_t): Pmongoc_client_encryption_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_new(opts, error);
end;

{*****************************************************************************************}
procedure mongoc_client_encryption_destroy(client_encryption: Pmongoc_client_encryption_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_destroy(client_encryption);
end;

{******************************************************************************************************************************************************************************************************************************}
function mongoc_client_encryption_create_datakey(client_encryption: Pmongoc_client_encryption_t; kms_provider: PAnsiChar; opts: Pmongoc_client_encryption_datakey_opts_t; keyid: Pbson_value_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_create_datakey(client_encryption, kms_provider, opts, keyid, error);
end;

{****************************************************************************************************************************************************************************************************************************************************************}
function mongoc_client_encryption_rewrap_many_datakey(client_encryption: Pmongoc_client_encryption_t; filter: Pbson_t; provider: PAnsiChar; master_key: Pbson_t; _result: Pmongoc_client_encryption_rewrap_many_datakey_result_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_rewrap_many_datakey(client_encryption, filter, provider, master_key, _result, error);
end;

{*****************************************************************************************************************************************************************}
function mongoc_client_encryption_delete_key(client_encryption: Pmongoc_client_encryption_t; keyid: Pbson_value_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_delete_key(client_encryption, keyid, reply, error);
end;

{****************************************************************************************************************************************************************}
function mongoc_client_encryption_get_key(client_encryption: Pmongoc_client_encryption_t; keyid: Pbson_value_t; key_doc: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_get_key(client_encryption, keyid, key_doc, error);
end;

{*********************************************************************************************************************}
function mongoc_client_encryption_encrypt_text_prefix_opts_new(): Pmongoc_client_encryption_encrypt_text_prefix_opts_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_prefix_opts_new();
end;

{*********************************************************************************************************************}
function mongoc_client_encryption_encrypt_text_suffix_opts_new(): Pmongoc_client_encryption_encrypt_text_suffix_opts_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_suffix_opts_new();
end;

{***************************************************************************************************************************}
function mongoc_client_encryption_encrypt_text_substring_opts_new(): Pmongoc_client_encryption_encrypt_text_substring_opts_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_substring_opts_new();
end;

{******************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_prefix_opts_destroy(opts: Pmongoc_client_encryption_encrypt_text_prefix_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_prefix_opts_destroy(opts);
end;

{******************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_suffix_opts_destroy(opts: Pmongoc_client_encryption_encrypt_text_suffix_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_suffix_opts_destroy(opts);
end;

{************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_substring_opts_destroy(opts: Pmongoc_client_encryption_encrypt_text_substring_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_substring_opts_destroy(opts);
end;

{******************************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_prefix_opts_set_str_max_query_length(opts: Pmongoc_client_encryption_encrypt_text_prefix_opts_t; str_max_query_length: int32_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_prefix_opts_set_str_max_query_length(opts, str_max_query_length);
end;

{******************************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_prefix_opts_set_str_min_query_length(opts: Pmongoc_client_encryption_encrypt_text_prefix_opts_t; str_min_query_length: int32_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_prefix_opts_set_str_min_query_length(opts, str_min_query_length);
end;

{******************************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_suffix_opts_set_str_max_query_length(opts: Pmongoc_client_encryption_encrypt_text_suffix_opts_t; str_max_query_length: int32_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_suffix_opts_set_str_max_query_length(opts, str_max_query_length);
end;

{******************************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_suffix_opts_set_str_min_query_length(opts: Pmongoc_client_encryption_encrypt_text_suffix_opts_t; str_min_query_length: int32_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_suffix_opts_set_str_min_query_length(opts, str_min_query_length);
end;

{************************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_substring_opts_set_str_max_length(opts: Pmongoc_client_encryption_encrypt_text_substring_opts_t; str_max_length: int32_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_substring_opts_set_str_max_length(opts, str_max_length);
end;

{************************************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_substring_opts_set_str_max_query_length(opts: Pmongoc_client_encryption_encrypt_text_substring_opts_t; str_max_query_length: int32_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_substring_opts_set_str_max_query_length(opts, str_max_query_length);
end;

{************************************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_substring_opts_set_str_min_query_length(opts: Pmongoc_client_encryption_encrypt_text_substring_opts_t; str_min_query_length: int32_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_substring_opts_set_str_min_query_length(opts, str_min_query_length);
end;

{********************************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_opts_set_prefix(opts: Pmongoc_client_encryption_encrypt_text_opts_t; popts: Pmongoc_client_encryption_encrypt_text_prefix_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_opts_set_prefix(opts, popts);
end;

{********************************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_opts_set_suffix(opts: Pmongoc_client_encryption_encrypt_text_opts_t; sopts: Pmongoc_client_encryption_encrypt_text_suffix_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_opts_set_suffix(opts, sopts);
end;

{***************************************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_opts_set_substring(opts: Pmongoc_client_encryption_encrypt_text_opts_t; ssopts: Pmongoc_client_encryption_encrypt_text_substring_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_opts_set_substring(opts, ssopts);
end;

{*******************************************************************************************************}
function mongoc_client_encryption_encrypt_text_opts_new(): Pmongoc_client_encryption_encrypt_text_opts_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_opts_new();
end;

{*****************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_opts_destroy(topts: Pmongoc_client_encryption_encrypt_text_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_opts_destroy(topts);
end;

{**********************************************************************************************************************************}
function mongoc_client_encryption_get_keys(client_encryption: Pmongoc_client_encryption_t; error: Pbson_error_t): P_mongoc_cursor_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_get_keys(client_encryption, error);
end;

{************************************************************************************************************************************************************************************************}
function mongoc_client_encryption_add_key_alt_name(client_encryption: Pmongoc_client_encryption_t; keyid: Pbson_value_t; keyaltname: PAnsiChar; key_doc: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_add_key_alt_name(client_encryption, keyid, keyaltname, key_doc, error);
end;

{***************************************************************************************************************************************************************************************************}
function mongoc_client_encryption_remove_key_alt_name(client_encryption: Pmongoc_client_encryption_t; keyid: Pbson_value_t; keyaltname: PAnsiChar; key_doc: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_remove_key_alt_name(client_encryption, keyid, keyaltname, key_doc, error);
end;

{*****************************************************************************************************************************************************************************}
function mongoc_client_encryption_get_key_by_alt_name(client_encryption: Pmongoc_client_encryption_t; keyaltname: PAnsiChar; key_doc: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_get_key_by_alt_name(client_encryption, keyaltname, key_doc, error);
end;

{*************************************************************************************************************************************************************************************************************************}
function mongoc_client_encryption_encrypt(client_encryption: Pmongoc_client_encryption_t; value: Pbson_value_t; opts: Pmongoc_client_encryption_encrypt_opts_t; ciphertext: Pbson_value_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_encrypt(client_encryption, value, opts, ciphertext, error);
end;

{*********************************************************************************************************************************************************************************************************************}
function mongoc_client_encryption_encrypt_expression(client_encryption: Pmongoc_client_encryption_t; expr: Pbson_t; opts: Pmongoc_client_encryption_encrypt_opts_t; expr_out: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_encrypt_expression(client_encryption, expr, opts, expr_out, error);
end;

{*************************************************************************************************************************************************************************}
function mongoc_client_encryption_decrypt(client_encryption: Pmongoc_client_encryption_t; ciphertext: Pbson_value_t; value: Pbson_value_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_decrypt(client_encryption, ciphertext, value, error);
end;

{*********************************************************************************************}
function mongoc_client_encryption_encrypt_opts_new(): Pmongoc_client_encryption_encrypt_opts_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_encrypt_opts_new();
end;

{******************************************************************************************************}
procedure mongoc_client_encryption_encrypt_opts_destroy(opts: Pmongoc_client_encryption_encrypt_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_opts_destroy(opts);
end;

{******************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_opts_set_keyid(opts: Pmongoc_client_encryption_encrypt_opts_t; keyid: Pbson_value_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_opts_set_keyid(opts, keyid);
end;

{************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_opts_set_keyaltname(opts: Pmongoc_client_encryption_encrypt_opts_t; keyaltname: PAnsiChar);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_opts_set_keyaltname(opts, keyaltname);
end;

{**********************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_opts_set_algorithm(opts: Pmongoc_client_encryption_encrypt_opts_t; algorithm: PAnsiChar);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_opts_set_algorithm(opts, algorithm);
end;

{************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_opts_set_contention_factor(opts: Pmongoc_client_encryption_encrypt_opts_t; contention_factor: int64_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_opts_set_contention_factor(opts, contention_factor);
end;

{**********************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_opts_set_text_opts(opts: Pmongoc_client_encryption_encrypt_opts_t; text_opts: Pmongoc_client_encryption_encrypt_text_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_opts_set_text_opts(opts, text_opts);
end;

{*****************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_opts_set_case_sensitive(opts: Pmongoc_client_encryption_encrypt_text_opts_t; case_sensitive: ByteBool);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_opts_set_case_sensitive(opts, case_sensitive);
end;

{***************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_text_opts_set_diacritic_sensitive(opts: Pmongoc_client_encryption_encrypt_text_opts_t; diacritic_sensitive: ByteBool);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_text_opts_set_diacritic_sensitive(opts, diacritic_sensitive);
end;

{************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_opts_set_query_type(opts: Pmongoc_client_encryption_encrypt_opts_t; query_type: PAnsiChar);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_opts_set_query_type(opts, query_type);
end;

{*********************************************************************************************************}
function mongoc_client_encryption_encrypt_range_opts_new(): Pmongoc_client_encryption_encrypt_range_opts_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_encrypt_range_opts_new();
end;

{************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_range_opts_destroy(range_opts: Pmongoc_client_encryption_encrypt_range_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_range_opts_destroy(range_opts);
end;

{******************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_range_opts_set_trim_factor(range_opts: Pmongoc_client_encryption_encrypt_range_opts_t; trim_factor: int32_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_range_opts_set_trim_factor(range_opts, trim_factor);
end;

{************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_range_opts_set_sparsity(range_opts: Pmongoc_client_encryption_encrypt_range_opts_t; sparsity: int64_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_range_opts_set_sparsity(range_opts, sparsity);
end;

{********************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_range_opts_set_min(range_opts: Pmongoc_client_encryption_encrypt_range_opts_t; min: Pbson_value_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_range_opts_set_min(range_opts, min);
end;

{********************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_range_opts_set_max(range_opts: Pmongoc_client_encryption_encrypt_range_opts_t; max: Pbson_value_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_range_opts_set_max(range_opts, max);
end;

{**************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_range_opts_set_precision(range_opts: Pmongoc_client_encryption_encrypt_range_opts_t; precision: int32_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_range_opts_set_precision(range_opts, precision);
end;

{*************************************************************************************************************************************************************************}
procedure mongoc_client_encryption_encrypt_opts_set_range_opts(opts: Pmongoc_client_encryption_encrypt_opts_t; range_opts: Pmongoc_client_encryption_encrypt_range_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_encrypt_opts_set_range_opts(opts, range_opts);
end;

{*********************************************************************************************}
function mongoc_client_encryption_datakey_opts_new(): Pmongoc_client_encryption_datakey_opts_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_datakey_opts_new();
end;

{******************************************************************************************************}
procedure mongoc_client_encryption_datakey_opts_destroy(opts: Pmongoc_client_encryption_datakey_opts_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_datakey_opts_destroy(opts);
end;

{********************************************************************************************************************************}
procedure mongoc_client_encryption_datakey_opts_set_masterkey(opts: Pmongoc_client_encryption_datakey_opts_t; masterkey: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_datakey_opts_set_masterkey(opts, masterkey);
end;

{********************************************************************************************************************************************************************}
procedure mongoc_client_encryption_datakey_opts_set_keyaltnames(opts: Pmongoc_client_encryption_datakey_opts_t; keyaltnames: PPAnsiChar; keyaltnames_count: uint32_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_datakey_opts_set_keyaltnames(opts, keyaltnames, keyaltnames_count);
end;

{*********************************************************************************************************************************************}
procedure mongoc_client_encryption_datakey_opts_set_keymaterial(opts: Pmongoc_client_encryption_datakey_opts_t; data: Puint8_t; len: uint32_t);
begin
  ALMongoDBLibrary.mongoc_client_encryption_datakey_opts_set_keymaterial(opts, data, len);
end;

{******************************************************************************************************}
function mongoc_client_encryption_get_crypt_shared_version(enc: Pmongoc_client_encryption_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_get_crypt_shared_version(enc);
end;

{*******************************************************************************************************************************************************************************************************************************************************************************************}
function mongoc_client_encryption_create_encrypted_collection(enc: Pmongoc_client_encryption_t; database: P_mongoc_database_t; name: PAnsiChar; in_options: Pbson_t; opt_out_options: Pbson_t; kms_provider: PAnsiChar; opt_masterkey: Pbson_t; error: Pbson_error_t): P_mongoc_collection_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_encryption_create_encrypted_collection(enc, database, name, in_options, opt_out_options, kms_provider, opt_masterkey, error);
end;

{*******************************************************************************************************************************************************}
function mongoc_stream_tls_handshake(stream: Pmongoc_stream_t; host: PAnsiChar; timeout_msec: int32_t; events: PInteger; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_stream_tls_handshake(stream, host, timeout_msec, events, error);
end;

{*******************************************************************************************************************************************}
function mongoc_stream_tls_handshake_block(stream: Pmongoc_stream_t; host: PAnsiChar; timeout_msec: int32_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_stream_tls_handshake_block(stream, host, timeout_msec, error);
end;

{******************************************************************************************************************************************************}
function mongoc_stream_tls_new_with_hostname(base_stream: Pmongoc_stream_t; host: PAnsiChar; opt: Pmongoc_ssl_opt_t; client: Integer): Pmongoc_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_tls_new_with_hostname(base_stream, host, opt, client);
end;

{*****************************************************************************************}
procedure mongoc_topology_description_destroy(description: Pmongoc_topology_description_t);
begin
  ALMongoDBLibrary.mongoc_topology_description_destroy(description);
end;

{*************************************************************************************************************************}
function mongoc_topology_description_new_copy(description: Pmongoc_topology_description_t): Pmongoc_topology_description_t;
begin
  Result := ALMongoDBLibrary.mongoc_topology_description_new_copy(description);
end;

{**********************************************************************************************************************************}
function mongoc_topology_description_has_readable_server(td: Pmongoc_topology_description_t; prefs: Pmongoc_read_prefs_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_topology_description_has_readable_server(td, prefs);
end;

{*****************************************************************************************************}
function mongoc_topology_description_has_writable_server(td: Pmongoc_topology_description_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_topology_description_has_writable_server(td);
end;

{***************************************************************************************}
function mongoc_topology_description_type(td: Pmongoc_topology_description_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_topology_description_type(td);
end;

{******************************************************************************************************************************}
function mongoc_topology_description_get_servers(td: Pmongoc_topology_description_t; n: Psize_t): PPmongoc_server_description_t;
begin
  Result := ALMongoDBLibrary.mongoc_topology_description_get_servers(td, n);
end;

{*********************************************************************************************}
function mongoc_apm_command_started_get_command(event: Pmongoc_apm_command_started_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_started_get_command(event);
end;

{*****************************************************************************************************}
function mongoc_apm_command_started_get_database_name(event: Pmongoc_apm_command_started_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_started_get_database_name(event);
end;

{****************************************************************************************************}
function mongoc_apm_command_started_get_command_name(event: Pmongoc_apm_command_started_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_started_get_command_name(event);
end;

{************************************************************************************************}
function mongoc_apm_command_started_get_request_id(event: Pmongoc_apm_command_started_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_started_get_request_id(event);
end;

{**************************************************************************************************}
function mongoc_apm_command_started_get_operation_id(event: Pmongoc_apm_command_started_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_started_get_operation_id(event);
end;

{******************************************************************************************************}
function mongoc_apm_command_started_get_host(event: Pmongoc_apm_command_started_t): Pmongoc_host_list_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_started_get_host(event);
end;

{************************************************************************************************}
function mongoc_apm_command_started_get_server_id(event: Pmongoc_apm_command_started_t): uint32_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_started_get_server_id(event);
end;

{****************************************************************************************************}
function mongoc_apm_command_started_get_service_id(event: Pmongoc_apm_command_started_t): Pbson_oid_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_started_get_service_id(event);
end;

{****************************************************************************************************************}
function mongoc_apm_command_started_get_server_connection_id_int64(event: Pmongoc_apm_command_started_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_started_get_server_connection_id_int64(event);
end;

{*******************************************************************************************}
function mongoc_apm_command_started_get_context(event: Pmongoc_apm_command_started_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_started_get_context(event);
end;

{**************************************************************************************************}
function mongoc_apm_command_succeeded_get_duration(event: Pmongoc_apm_command_succeeded_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_succeeded_get_duration(event);
end;

{***********************************************************************************************}
function mongoc_apm_command_succeeded_get_reply(event: Pmongoc_apm_command_succeeded_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_succeeded_get_reply(event);
end;

{********************************************************************************************************}
function mongoc_apm_command_succeeded_get_command_name(event: Pmongoc_apm_command_succeeded_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_succeeded_get_command_name(event);
end;

{*********************************************************************************************************}
function mongoc_apm_command_succeeded_get_database_name(event: Pmongoc_apm_command_succeeded_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_succeeded_get_database_name(event);
end;

{****************************************************************************************************}
function mongoc_apm_command_succeeded_get_request_id(event: Pmongoc_apm_command_succeeded_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_succeeded_get_request_id(event);
end;

{******************************************************************************************************}
function mongoc_apm_command_succeeded_get_operation_id(event: Pmongoc_apm_command_succeeded_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_succeeded_get_operation_id(event);
end;

{**********************************************************************************************************}
function mongoc_apm_command_succeeded_get_host(event: Pmongoc_apm_command_succeeded_t): Pmongoc_host_list_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_succeeded_get_host(event);
end;

{****************************************************************************************************}
function mongoc_apm_command_succeeded_get_server_id(event: Pmongoc_apm_command_succeeded_t): uint32_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_succeeded_get_server_id(event);
end;

{********************************************************************************************************}
function mongoc_apm_command_succeeded_get_service_id(event: Pmongoc_apm_command_succeeded_t): Pbson_oid_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_succeeded_get_service_id(event);
end;

{********************************************************************************************************************}
function mongoc_apm_command_succeeded_get_server_connection_id_int64(event: Pmongoc_apm_command_succeeded_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_succeeded_get_server_connection_id_int64(event);
end;

{***********************************************************************************************}
function mongoc_apm_command_succeeded_get_context(event: Pmongoc_apm_command_succeeded_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_succeeded_get_context(event);
end;

{********************************************************************************************}
function mongoc_apm_command_failed_get_duration(event: Pmongoc_apm_command_failed_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_failed_get_duration(event);
end;

{**************************************************************************************************}
function mongoc_apm_command_failed_get_command_name(event: Pmongoc_apm_command_failed_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_failed_get_command_name(event);
end;

{***************************************************************************************************}
function mongoc_apm_command_failed_get_database_name(event: Pmongoc_apm_command_failed_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_failed_get_database_name(event);
end;

{*******************************************************************************************************}
procedure mongoc_apm_command_failed_get_error(event: Pmongoc_apm_command_failed_t; error: Pbson_error_t);
begin
  ALMongoDBLibrary.mongoc_apm_command_failed_get_error(event, error);
end;

{*****************************************************************************************}
function mongoc_apm_command_failed_get_reply(event: Pmongoc_apm_command_failed_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_failed_get_reply(event);
end;

{**********************************************************************************************}
function mongoc_apm_command_failed_get_request_id(event: Pmongoc_apm_command_failed_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_failed_get_request_id(event);
end;

{************************************************************************************************}
function mongoc_apm_command_failed_get_operation_id(event: Pmongoc_apm_command_failed_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_failed_get_operation_id(event);
end;

{****************************************************************************************************}
function mongoc_apm_command_failed_get_host(event: Pmongoc_apm_command_failed_t): Pmongoc_host_list_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_failed_get_host(event);
end;

{**********************************************************************************************}
function mongoc_apm_command_failed_get_server_id(event: Pmongoc_apm_command_failed_t): uint32_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_failed_get_server_id(event);
end;

{**************************************************************************************************}
function mongoc_apm_command_failed_get_service_id(event: Pmongoc_apm_command_failed_t): Pbson_oid_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_failed_get_service_id(event);
end;

{**************************************************************************************************************}
function mongoc_apm_command_failed_get_server_connection_id_int64(event: Pmongoc_apm_command_failed_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_failed_get_server_connection_id_int64(event);
end;

{*****************************************************************************************}
function mongoc_apm_command_failed_get_context(event: Pmongoc_apm_command_failed_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_apm_command_failed_get_context(event);
end;

{****************************************************************************************************}
function mongoc_apm_server_changed_get_host(event: Pmongoc_apm_server_changed_t): Pmongoc_host_list_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_changed_get_host(event);
end;

{*****************************************************************************************************************}
procedure mongoc_apm_server_changed_get_topology_id(event: Pmongoc_apm_server_changed_t; topology_id: Pbson_oid_t);
begin
  ALMongoDBLibrary.mongoc_apm_server_changed_get_topology_id(event, topology_id);
end;

{*****************************************************************************************************************************}
function mongoc_apm_server_changed_get_previous_description(event: Pmongoc_apm_server_changed_t): Pmongoc_server_description_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_changed_get_previous_description(event);
end;

{************************************************************************************************************************}
function mongoc_apm_server_changed_get_new_description(event: Pmongoc_apm_server_changed_t): Pmongoc_server_description_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_changed_get_new_description(event);
end;

{*****************************************************************************************}
function mongoc_apm_server_changed_get_context(event: Pmongoc_apm_server_changed_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_changed_get_context(event);
end;

{****************************************************************************************************}
function mongoc_apm_server_opening_get_host(event: Pmongoc_apm_server_opening_t): Pmongoc_host_list_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_opening_get_host(event);
end;

{*****************************************************************************************************************}
procedure mongoc_apm_server_opening_get_topology_id(event: Pmongoc_apm_server_opening_t; topology_id: Pbson_oid_t);
begin
  ALMongoDBLibrary.mongoc_apm_server_opening_get_topology_id(event, topology_id);
end;

{*****************************************************************************************}
function mongoc_apm_server_opening_get_context(event: Pmongoc_apm_server_opening_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_opening_get_context(event);
end;

{**************************************************************************************************}
function mongoc_apm_server_closed_get_host(event: Pmongoc_apm_server_closed_t): Pmongoc_host_list_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_closed_get_host(event);
end;

{***************************************************************************************************************}
procedure mongoc_apm_server_closed_get_topology_id(event: Pmongoc_apm_server_closed_t; topology_id: Pbson_oid_t);
begin
  ALMongoDBLibrary.mongoc_apm_server_closed_get_topology_id(event, topology_id);
end;

{***************************************************************************************}
function mongoc_apm_server_closed_get_context(event: Pmongoc_apm_server_closed_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_closed_get_context(event);
end;

{*********************************************************************************************************************}
procedure mongoc_apm_topology_changed_get_topology_id(event: Pmongoc_apm_topology_changed_t; topology_id: Pbson_oid_t);
begin
  ALMongoDBLibrary.mongoc_apm_topology_changed_get_topology_id(event, topology_id);
end;

{***********************************************************************************************************************************}
function mongoc_apm_topology_changed_get_previous_description(event: Pmongoc_apm_topology_changed_t): Pmongoc_topology_description_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_topology_changed_get_previous_description(event);
end;

{******************************************************************************************************************************}
function mongoc_apm_topology_changed_get_new_description(event: Pmongoc_apm_topology_changed_t): Pmongoc_topology_description_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_topology_changed_get_new_description(event);
end;

{*********************************************************************************************}
function mongoc_apm_topology_changed_get_context(event: Pmongoc_apm_topology_changed_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_apm_topology_changed_get_context(event);
end;

{*********************************************************************************************************************}
procedure mongoc_apm_topology_opening_get_topology_id(event: Pmongoc_apm_topology_opening_t; topology_id: Pbson_oid_t);
begin
  ALMongoDBLibrary.mongoc_apm_topology_opening_get_topology_id(event, topology_id);
end;

{*********************************************************************************************}
function mongoc_apm_topology_opening_get_context(event: Pmongoc_apm_topology_opening_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_apm_topology_opening_get_context(event);
end;

{*******************************************************************************************************************}
procedure mongoc_apm_topology_closed_get_topology_id(event: Pmongoc_apm_topology_closed_t; topology_id: Pbson_oid_t);
begin
  ALMongoDBLibrary.mongoc_apm_topology_closed_get_topology_id(event, topology_id);
end;

{*******************************************************************************************}
function mongoc_apm_topology_closed_get_context(event: Pmongoc_apm_topology_closed_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_apm_topology_closed_get_context(event);
end;

{************************************************************************************************************************}
function mongoc_apm_server_heartbeat_started_get_host(event: Pmongoc_apm_server_heartbeat_started_t): Pmongoc_host_list_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_heartbeat_started_get_host(event);
end;

{*************************************************************************************************************}
function mongoc_apm_server_heartbeat_started_get_context(event: Pmongoc_apm_server_heartbeat_started_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_heartbeat_started_get_context(event);
end;

{****************************************************************************************************************}
function mongoc_apm_server_heartbeat_started_get_awaited(event: Pmongoc_apm_server_heartbeat_started_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_heartbeat_started_get_awaited(event);
end;

{********************************************************************************************************************}
function mongoc_apm_server_heartbeat_succeeded_get_duration(event: Pmongoc_apm_server_heartbeat_succeeded_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_heartbeat_succeeded_get_duration(event);
end;

{*****************************************************************************************************************}
function mongoc_apm_server_heartbeat_succeeded_get_reply(event: Pmongoc_apm_server_heartbeat_succeeded_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_heartbeat_succeeded_get_reply(event);
end;

{****************************************************************************************************************************}
function mongoc_apm_server_heartbeat_succeeded_get_host(event: Pmongoc_apm_server_heartbeat_succeeded_t): Pmongoc_host_list_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_heartbeat_succeeded_get_host(event);
end;

{*****************************************************************************************************************}
function mongoc_apm_server_heartbeat_succeeded_get_context(event: Pmongoc_apm_server_heartbeat_succeeded_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_heartbeat_succeeded_get_context(event);
end;

{********************************************************************************************************************}
function mongoc_apm_server_heartbeat_succeeded_get_awaited(event: Pmongoc_apm_server_heartbeat_succeeded_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_heartbeat_succeeded_get_awaited(event);
end;

{**************************************************************************************************************}
function mongoc_apm_server_heartbeat_failed_get_duration(event: Pmongoc_apm_server_heartbeat_failed_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_heartbeat_failed_get_duration(event);
end;

{*************************************************************************************************************************}
procedure mongoc_apm_server_heartbeat_failed_get_error(event: Pmongoc_apm_server_heartbeat_failed_t; error: Pbson_error_t);
begin
  ALMongoDBLibrary.mongoc_apm_server_heartbeat_failed_get_error(event, error);
end;

{**********************************************************************************************************************}
function mongoc_apm_server_heartbeat_failed_get_host(event: Pmongoc_apm_server_heartbeat_failed_t): Pmongoc_host_list_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_heartbeat_failed_get_host(event);
end;

{***********************************************************************************************************}
function mongoc_apm_server_heartbeat_failed_get_context(event: Pmongoc_apm_server_heartbeat_failed_t): Pvoid;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_heartbeat_failed_get_context(event);
end;

{**************************************************************************************************************}
function mongoc_apm_server_heartbeat_failed_get_awaited(event: Pmongoc_apm_server_heartbeat_failed_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_apm_server_heartbeat_failed_get_awaited(event);
end;

{***********************************************************}
function mongoc_apm_callbacks_new(): Pmongoc_apm_callbacks_t;
begin
  Result := ALMongoDBLibrary.mongoc_apm_callbacks_new();
end;

{*************************************************************************}
procedure mongoc_apm_callbacks_destroy(callbacks: Pmongoc_apm_callbacks_t);
begin
  ALMongoDBLibrary.mongoc_apm_callbacks_destroy(callbacks);
end;

{*******************************************************************************************************************}
procedure mongoc_apm_set_command_started_cb(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_command_started_cb_t);
begin
  ALMongoDBLibrary.mongoc_apm_set_command_started_cb(callbacks, cb);
end;

{***********************************************************************************************************************}
procedure mongoc_apm_set_command_succeeded_cb(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_command_succeeded_cb_t);
begin
  ALMongoDBLibrary.mongoc_apm_set_command_succeeded_cb(callbacks, cb);
end;

{*****************************************************************************************************************}
procedure mongoc_apm_set_command_failed_cb(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_command_failed_cb_t);
begin
  ALMongoDBLibrary.mongoc_apm_set_command_failed_cb(callbacks, cb);
end;

{*****************************************************************************************************************}
procedure mongoc_apm_set_server_changed_cb(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_server_changed_cb_t);
begin
  ALMongoDBLibrary.mongoc_apm_set_server_changed_cb(callbacks, cb);
end;

{*****************************************************************************************************************}
procedure mongoc_apm_set_server_opening_cb(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_server_opening_cb_t);
begin
  ALMongoDBLibrary.mongoc_apm_set_server_opening_cb(callbacks, cb);
end;

{***************************************************************************************************************}
procedure mongoc_apm_set_server_closed_cb(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_server_closed_cb_t);
begin
  ALMongoDBLibrary.mongoc_apm_set_server_closed_cb(callbacks, cb);
end;

{*********************************************************************************************************************}
procedure mongoc_apm_set_topology_changed_cb(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_topology_changed_cb_t);
begin
  ALMongoDBLibrary.mongoc_apm_set_topology_changed_cb(callbacks, cb);
end;

{*********************************************************************************************************************}
procedure mongoc_apm_set_topology_opening_cb(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_topology_opening_cb_t);
begin
  ALMongoDBLibrary.mongoc_apm_set_topology_opening_cb(callbacks, cb);
end;

{*******************************************************************************************************************}
procedure mongoc_apm_set_topology_closed_cb(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_topology_closed_cb_t);
begin
  ALMongoDBLibrary.mongoc_apm_set_topology_closed_cb(callbacks, cb);
end;

{*************************************************************************************************************************************}
procedure mongoc_apm_set_server_heartbeat_started_cb(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_server_heartbeat_started_cb_t);
begin
  ALMongoDBLibrary.mongoc_apm_set_server_heartbeat_started_cb(callbacks, cb);
end;

{*****************************************************************************************************************************************}
procedure mongoc_apm_set_server_heartbeat_succeeded_cb(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_server_heartbeat_succeeded_cb_t);
begin
  ALMongoDBLibrary.mongoc_apm_set_server_heartbeat_succeeded_cb(callbacks, cb);
end;

{***********************************************************************************************************************************}
procedure mongoc_apm_set_server_heartbeat_failed_cb(callbacks: Pmongoc_apm_callbacks_t; cb: mongoc_apm_server_heartbeat_failed_cb_t);
begin
  ALMongoDBLibrary.mongoc_apm_set_server_heartbeat_failed_cb(callbacks, cb);
end;

{**********************************************************}
function mongoc_uri_copy(uri: Pmongoc_uri_t): Pmongoc_uri_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_copy(uri);
end;

{***********************************************}
procedure mongoc_uri_destroy(uri: Pmongoc_uri_t);
begin
  ALMongoDBLibrary.mongoc_uri_destroy(uri);
end;

{************************************************************}
function mongoc_uri_new(uri_string: PAnsiChar): Pmongoc_uri_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_new(uri_string);
end;

{*********************************************************************************************}
function mongoc_uri_new_with_error(uri_string: PAnsiChar; error: Pbson_error_t): Pmongoc_uri_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_new_with_error(uri_string, error);
end;

{****************************************************************************************}
function mongoc_uri_new_for_host_port(hostname: PAnsiChar; port: uint16_t): Pmongoc_uri_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_new_for_host_port(hostname, port);
end;

{*********************************************************************}
function mongoc_uri_get_hosts(uri: Pmongoc_uri_t): Pmongoc_host_list_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_hosts(uri);
end;

{******************************************************************}
function mongoc_uri_get_srv_hostname(uri: Pmongoc_uri_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_srv_hostname(uri);
end;

{**********************************************************************}
function mongoc_uri_get_srv_service_name(uri: Pmongoc_uri_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_srv_service_name(uri);
end;

{**************************************************************}
function mongoc_uri_get_database(uri: Pmongoc_uri_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_database(uri);
end;

{**********************************************************************************}
function mongoc_uri_set_database(uri: Pmongoc_uri_t; database: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_database(uri, database);
end;

{***************************************************************}
function mongoc_uri_get_compressors(uri: Pmongoc_uri_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_compressors(uri);
end;

{***********************************************************}
function mongoc_uri_get_options(uri: Pmongoc_uri_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_options(uri);
end;

{**************************************************************}
function mongoc_uri_get_password(uri: Pmongoc_uri_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_password(uri);
end;

{**********************************************************************************}
function mongoc_uri_set_password(uri: Pmongoc_uri_t; password: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_password(uri, password);
end;

{***************************************************************************}
function mongoc_uri_has_option(uri: Pmongoc_uri_t; key: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_has_option(uri, key);
end;

{************************************************************}
function mongoc_uri_option_is_int32(key: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_option_is_int32(key);
end;

{************************************************************}
function mongoc_uri_option_is_int64(key: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_option_is_int64(key);
end;

{***********************************************************}
function mongoc_uri_option_is_bool(key: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_option_is_bool(key);
end;

{***********************************************************}
function mongoc_uri_option_is_utf8(key: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_option_is_utf8(key);
end;

{*********************************************************************************************************}
function mongoc_uri_get_option_as_int32(uri: Pmongoc_uri_t; option: PAnsiChar; fallback: int32_t): int32_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_option_as_int32(uri, option, fallback);
end;

{*********************************************************************************************************}
function mongoc_uri_get_option_as_int64(uri: Pmongoc_uri_t; option: PAnsiChar; fallback: int64_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_option_as_int64(uri, option, fallback);
end;

{**********************************************************************************************************}
function mongoc_uri_get_option_as_bool(uri: Pmongoc_uri_t; option: PAnsiChar; fallback: ByteBool): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_option_as_bool(uri, option, fallback);
end;

{************************************************************************************************************}
function mongoc_uri_get_option_as_utf8(uri: Pmongoc_uri_t; option: PAnsiChar; fallback: PAnsiChar): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_option_as_utf8(uri, option, fallback);
end;

{*******************************************************************************************************}
function mongoc_uri_set_option_as_int32(uri: Pmongoc_uri_t; option: PAnsiChar; value: int32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_option_as_int32(uri, option, value);
end;

{*******************************************************************************************************}
function mongoc_uri_set_option_as_int64(uri: Pmongoc_uri_t; option: PAnsiChar; value: int64_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_option_as_int64(uri, option, value);
end;

{*******************************************************************************************************}
function mongoc_uri_set_option_as_bool(uri: Pmongoc_uri_t; option: PAnsiChar; value: ByteBool): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_option_as_bool(uri, option, value);
end;

{********************************************************************************************************}
function mongoc_uri_set_option_as_utf8(uri: Pmongoc_uri_t; option: PAnsiChar; value: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_option_as_utf8(uri, option, value);
end;

{*****************************************************************}
function mongoc_uri_get_replica_set(uri: Pmongoc_uri_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_replica_set(uri);
end;

{************************************************************}
function mongoc_uri_get_string(uri: Pmongoc_uri_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_string(uri);
end;

{**************************************************************}
function mongoc_uri_get_username(uri: Pmongoc_uri_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_username(uri);
end;

{**********************************************************************************}
function mongoc_uri_set_username(uri: Pmongoc_uri_t; username: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_username(uri, username);
end;

{***************************************************************}
function mongoc_uri_get_credentials(uri: Pmongoc_uri_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_credentials(uri);
end;

{*****************************************************************}
function mongoc_uri_get_auth_source(uri: Pmongoc_uri_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_auth_source(uri);
end;

{**********************************************************************************}
function mongoc_uri_set_auth_source(uri: Pmongoc_uri_t; value: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_auth_source(uri, value);
end;

{*************************************************************}
function mongoc_uri_get_appname(uri: Pmongoc_uri_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_appname(uri);
end;

{******************************************************************************}
function mongoc_uri_set_appname(uri: Pmongoc_uri_t; value: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_appname(uri, value);
end;

{**********************************************************************************}
function mongoc_uri_set_compressors(uri: Pmongoc_uri_t; value: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_compressors(uri, value);
end;

{********************************************************************}
function mongoc_uri_get_auth_mechanism(uri: Pmongoc_uri_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_auth_mechanism(uri);
end;

{*************************************************************************************}
function mongoc_uri_set_auth_mechanism(uri: Pmongoc_uri_t; value: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_auth_mechanism(uri, value);
end;

{**********************************************************************************************}
function mongoc_uri_get_mechanism_properties(uri: Pmongoc_uri_t; properties: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_mechanism_properties(uri, properties);
end;

{**********************************************************************************************}
function mongoc_uri_set_mechanism_properties(uri: Pmongoc_uri_t; properties: Pbson_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_mechanism_properties(uri, properties);
end;

{********************************************************}
function mongoc_uri_get_tls(uri: Pmongoc_uri_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_tls(uri);
end;

{*****************************************************************}
function mongoc_uri_unescape(escaped_string: PAnsiChar): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_unescape(escaped_string);
end;

{*****************************************************************************}
function mongoc_uri_get_read_prefs_t(uri: Pmongoc_uri_t): Pmongoc_read_prefs_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_read_prefs_t(uri);
end;

{*************************************************************************************}
procedure mongoc_uri_set_read_prefs_t(uri: Pmongoc_uri_t; prefs: Pmongoc_read_prefs_t);
begin
  ALMongoDBLibrary.mongoc_uri_set_read_prefs_t(uri, prefs);
end;

{*********************************************************************************}
function mongoc_uri_get_write_concern(uri: Pmongoc_uri_t): Pmongoc_write_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_write_concern(uri);
end;

{**************************************************************************************}
procedure mongoc_uri_set_write_concern(uri: Pmongoc_uri_t; wc: Pmongoc_write_concern_t);
begin
  ALMongoDBLibrary.mongoc_uri_set_write_concern(uri, wc);
end;

{*******************************************************************************}
function mongoc_uri_get_read_concern(uri: Pmongoc_uri_t): Pmongoc_read_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_read_concern(uri);
end;

{************************************************************************************}
procedure mongoc_uri_set_read_concern(uri: Pmongoc_uri_t; rc: Pmongoc_read_concern_t);
begin
  ALMongoDBLibrary.mongoc_uri_set_read_concern(uri, rc);
end;

{****************************************************************************}
function mongoc_uri_get_server_monitoring_mode(uri: Pmongoc_uri_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_uri_get_server_monitoring_mode(uri);
end;

{*********************************************************************************************}
function mongoc_uri_set_server_monitoring_mode(uri: Pmongoc_uri_t; value: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_uri_set_server_monitoring_mode(uri, value);
end;

{****************************************************************************************************************************************************************************************}
function mongoc_collection_aggregate(collection: Pmongoc_collection_t; flags: mongoc_query_flags_t; pipeline: Pbson_t; opts: Pbson_t; read_prefs: Pmongoc_read_prefs_t): Pmongoc_cursor_t;
begin
  Result := ALMongoDBLibrary.mongoc_collection_aggregate(collection, flags, pipeline, opts, read_prefs);
end;

{********************************************************************}
procedure mongoc_collection_destroy(collection: Pmongoc_collection_t);
begin
  ALMongoDBLibrary.mongoc_collection_destroy(collection);
end;

{**************************************************************************************}
function mongoc_collection_copy(collection: Pmongoc_collection_t): Pmongoc_collection_t;
begin
  Result := ALMongoDBLibrary.mongoc_collection_copy(collection);
end;

{*****************************************************************************************************************************************************************************************************}
function mongoc_collection_read_command_with_opts(collection: Pmongoc_collection_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_read_command_with_opts(collection, command, read_prefs, opts, reply, error);
end;

{********************************************************************************************************************************************************************}
function mongoc_collection_write_command_with_opts(collection: Pmongoc_collection_t; command: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_write_command_with_opts(collection, command, opts, reply, error);
end;

{***********************************************************************************************************************************************************************************************************}
function mongoc_collection_read_write_command_with_opts(collection: Pmongoc_collection_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_read_write_command_with_opts(collection, command, read_prefs, opts, reply, error);
end;

{************************************************************************************************************************************************************************************************}
function mongoc_collection_command_with_opts(collection: Pmongoc_collection_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_command_with_opts(collection, command, read_prefs, opts, reply, error);
end;

{******************************************************************************************************************************************************************************}
function mongoc_collection_command_simple(collection: Pmongoc_collection_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_command_simple(collection, command, read_prefs, reply, error);
end;

{************************************************************************************************}
function mongoc_collection_drop(collection: Pmongoc_collection_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_drop(collection, error);
end;

{*************************************************************************************************************************}
function mongoc_collection_drop_with_opts(collection: Pmongoc_collection_t; opts: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_drop_with_opts(collection, opts, error);
end;

{*****************************************************************************************************************************}
function mongoc_collection_drop_index(collection: Pmongoc_collection_t; index_name: PAnsiChar; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_drop_index(collection, index_name, error);
end;

{******************************************************************************************************************************************************}
function mongoc_collection_drop_index_with_opts(collection: Pmongoc_collection_t; index_name: PAnsiChar; opts: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_drop_index_with_opts(collection, index_name, opts, error);
end;

{*******************************************************************************************************************}
function mongoc_collection_find_indexes_with_opts(collection: Pmongoc_collection_t; opts: Pbson_t): Pmongoc_cursor_t;
begin
  Result := ALMongoDBLibrary.mongoc_collection_find_indexes_with_opts(collection, opts);
end;

{***********************************************************************************}
function mongoc_index_model_new(keys: Pbson_t; opts: Pbson_t): Pmongoc_index_model_t;
begin
  Result := ALMongoDBLibrary.mongoc_index_model_new(keys, opts);
end;

{*****************************************************************}
procedure mongoc_index_model_destroy(model: Pmongoc_index_model_t);
begin
  ALMongoDBLibrary.mongoc_index_model_destroy(model);
end;

{*****************************************************************************************************************************************************************************************************}
function mongoc_collection_create_indexes_with_opts(collection: Pmongoc_collection_t; models: PPmongoc_index_model_t; n_models: size_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_create_indexes_with_opts(collection, models, n_models, opts, reply, error);
end;

{**************************************************************************************************************************************************************}
function mongoc_collection_find_with_opts(collection: Pmongoc_collection_t; filter: Pbson_t; opts: Pbson_t; read_prefs: Pmongoc_read_prefs_t): Pmongoc_cursor_t;
begin
  Result := ALMongoDBLibrary.mongoc_collection_find_with_opts(collection, filter, opts, read_prefs);
end;

{*******************************************************************************************************************************************************************************************}
function mongoc_collection_insert(collection: Pmongoc_collection_t; flags: mongoc_insert_flags_t; document: Pbson_t; write_concern: Pmongoc_write_concern_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_insert(collection, flags, document, write_concern, error);
end;

{********************************************************************************************************************************************************}
function mongoc_collection_insert_one(collection: Pmongoc_collection_t; document: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_insert_one(collection, document, opts, reply, error);
end;

{********************************************************************************************************************************************************************************}
function mongoc_collection_insert_many(collection: Pmongoc_collection_t; documents: PPbson_t; n_documents: size_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_insert_many(collection, documents, n_documents, opts, reply, error);
end;

{************************************************************************************************************************************************************************************************************}
function mongoc_collection_update(collection: Pmongoc_collection_t; flags: mongoc_update_flags_t; selector: Pbson_t; update: Pbson_t; write_concern: Pmongoc_write_concern_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_update(collection, flags, selector, update, write_concern, error);
end;

{*************************************************************************************************************************************************************************}
function mongoc_collection_update_one(collection: Pmongoc_collection_t; selector: Pbson_t; update: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_update_one(collection, selector, update, opts, reply, error);
end;

{**************************************************************************************************************************************************************************}
function mongoc_collection_update_many(collection: Pmongoc_collection_t; selector: Pbson_t; update: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_update_many(collection, selector, update, opts, reply, error);
end;

{*******************************************************************************************************************************************************************************}
function mongoc_collection_replace_one(collection: Pmongoc_collection_t; selector: Pbson_t; replacement: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_replace_one(collection, selector, replacement, opts, reply, error);
end;

{*******************************************************************************************************************************************************************************************}
function mongoc_collection_remove(collection: Pmongoc_collection_t; flags: mongoc_remove_flags_t; selector: Pbson_t; write_concern: Pmongoc_write_concern_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_remove(collection, flags, selector, write_concern, error);
end;

{********************************************************************************************************************************************************}
function mongoc_collection_delete_one(collection: Pmongoc_collection_t; selector: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_delete_one(collection, selector, opts, reply, error);
end;

{*********************************************************************************************************************************************************}
function mongoc_collection_delete_many(collection: Pmongoc_collection_t; selector: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_delete_many(collection, selector, opts, reply, error);
end;

{*******************************************************************************************************************************************************************************}
function mongoc_collection_rename(collection: Pmongoc_collection_t; new_db: PAnsiChar; new_name: PAnsiChar; drop_target_before_rename: ByteBool; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_rename(collection, new_db, new_name, drop_target_before_rename, error);
end;

{********************************************************************************************************************************************************************************************************}
function mongoc_collection_rename_with_opts(collection: Pmongoc_collection_t; new_db: PAnsiChar; new_name: PAnsiChar; drop_target_before_rename: ByteBool; opts: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_rename_with_opts(collection, new_db, new_name, drop_target_before_rename, opts, error);
end;

{*******************************************************************************************************************************************************************************************}
function mongoc_collection_find_and_modify_with_opts(collection: Pmongoc_collection_t; query: Pbson_t; opts: Pmongoc_find_and_modify_opts_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_find_and_modify_with_opts(collection, query, opts, reply, error);
end;

{*************************************************************************************************************************************************************************************************************************************************}
function mongoc_collection_find_and_modify(collection: Pmongoc_collection_t; query: Pbson_t; sort: Pbson_t; update: Pbson_t; fields: Pbson_t; _remove: ByteBool; upsert: ByteBool; _new: ByteBool; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_collection_find_and_modify(collection, query, sort, update, fields, _remove, upsert, _new, reply, error);
end;

{************************************************************************************************************************************}
function mongoc_collection_create_bulk_operation_with_opts(collection: Pmongoc_collection_t; opts: Pbson_t): Pmongoc_bulk_operation_t;
begin
  Result := ALMongoDBLibrary.mongoc_collection_create_bulk_operation_with_opts(collection, opts);
end;

{************************************************************************************************}
function mongoc_collection_get_read_prefs(collection: Pmongoc_collection_t): Pmongoc_read_prefs_t;
begin
  Result := ALMongoDBLibrary.mongoc_collection_get_read_prefs(collection);
end;

{*************************************************************************************************************}
procedure mongoc_collection_set_read_prefs(collection: Pmongoc_collection_t; read_prefs: Pmongoc_read_prefs_t);
begin
  ALMongoDBLibrary.mongoc_collection_set_read_prefs(collection, read_prefs);
end;

{****************************************************************************************************}
function mongoc_collection_get_read_concern(collection: Pmongoc_collection_t): Pmongoc_read_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_collection_get_read_concern(collection);
end;

{*******************************************************************************************************************}
procedure mongoc_collection_set_read_concern(collection: Pmongoc_collection_t; read_concern: Pmongoc_read_concern_t);
begin
  ALMongoDBLibrary.mongoc_collection_set_read_concern(collection, read_concern);
end;

{******************************************************************************************************}
function mongoc_collection_get_write_concern(collection: Pmongoc_collection_t): Pmongoc_write_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_collection_get_write_concern(collection);
end;

{**********************************************************************************************************************}
procedure mongoc_collection_set_write_concern(collection: Pmongoc_collection_t; write_concern: Pmongoc_write_concern_t);
begin
  ALMongoDBLibrary.mongoc_collection_set_write_concern(collection, write_concern);
end;

{*******************************************************************************}
function mongoc_collection_get_name(collection: Pmongoc_collection_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_collection_get_name(collection);
end;

{************************************************************************}
function mongoc_collection_keys_to_index_string(keys: Pbson_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_collection_keys_to_index_string(keys);
end;

{**********************************************************************************************************************}
function mongoc_collection_watch(coll: Pmongoc_collection_t; pipeline: Pbson_t; opts: Pbson_t): Pmongoc_change_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_collection_watch(coll, pipeline, opts);
end;

{**************************************************************************************************************************************************************************************}
function mongoc_collection_count_documents(coll: Pmongoc_collection_t; filter: Pbson_t; opts: Pbson_t; read_prefs: Pmongoc_read_prefs_t; reply: Pbson_t; error: Pbson_error_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_collection_count_documents(coll, filter, opts, read_prefs, reply, error);
end;

{******************************************************************************************************************************************************************************}
function mongoc_collection_estimated_document_count(coll: Pmongoc_collection_t; opts: Pbson_t; read_prefs: Pmongoc_read_prefs_t; reply: Pbson_t; error: Pbson_error_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_collection_estimated_document_count(coll, opts, read_prefs, reply, error);
end;

{*************************************************************************}
function mongoc_database_get_name(database: Pmongoc_database_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_database_get_name(database);
end;

{**********************************************************************************************************************}
function mongoc_database_remove_user(database: Pmongoc_database_t; username: PAnsiChar; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_database_remove_user(database, username, error);
end;

{******************************************************************************************************}
function mongoc_database_remove_all_users(database: Pmongoc_database_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_database_remove_all_users(database, error);
end;

{******************************************************************************************************************************************************************************}
function mongoc_database_add_user(database: Pmongoc_database_t; username: PAnsiChar; password: PAnsiChar; roles: Pbson_t; custom_data: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_database_add_user(database, username, password, roles, custom_data, error);
end;

{**************************************************************}
procedure mongoc_database_destroy(database: Pmongoc_database_t);
begin
  ALMongoDBLibrary.mongoc_database_destroy(database);
end;

{***********************************************************************************************************************************************}
function mongoc_database_aggregate(db: Pmongoc_database_t; pipeline: Pbson_t; opts: Pbson_t; read_prefs: Pmongoc_read_prefs_t): Pmongoc_cursor_t;
begin
  Result := ALMongoDBLibrary.mongoc_database_aggregate(db, pipeline, opts, read_prefs);
end;

{******************************************************************************}
function mongoc_database_copy(database: Pmongoc_database_t): Pmongoc_database_t;
begin
  Result := ALMongoDBLibrary.mongoc_database_copy(database);
end;

{***********************************************************************************************************************************************************************************************}
function mongoc_database_read_command_with_opts(database: Pmongoc_database_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_database_read_command_with_opts(database, command, read_prefs, opts, reply, error);
end;

{**************************************************************************************************************************************************************}
function mongoc_database_write_command_with_opts(database: Pmongoc_database_t; command: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_database_write_command_with_opts(database, command, opts, reply, error);
end;

{*****************************************************************************************************************************************************************************************************}
function mongoc_database_read_write_command_with_opts(database: Pmongoc_database_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_database_read_write_command_with_opts(database, command, read_prefs, opts, reply, error);
end;

{******************************************************************************************************************************************************************************************}
function mongoc_database_command_with_opts(database: Pmongoc_database_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_database_command_with_opts(database, command, read_prefs, opts, reply, error);
end;

{************************************************************************************************************************************************************************}
function mongoc_database_command_simple(database: Pmongoc_database_t; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_database_command_simple(database, command, read_prefs, reply, error);
end;

{******************************************************************************************}
function mongoc_database_drop(database: Pmongoc_database_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_database_drop(database, error);
end;

{*******************************************************************************************************************}
function mongoc_database_drop_with_opts(database: Pmongoc_database_t; opts: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_database_drop_with_opts(database, opts, error);
end;

{*********************************************************************************************************************}
function mongoc_database_has_collection(database: Pmongoc_database_t; name: PAnsiChar; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_database_has_collection(database, name, error);
end;

{******************************************************************************************************************************************************}
function mongoc_database_create_collection(database: Pmongoc_database_t; name: PAnsiChar; options: Pbson_t; error: Pbson_error_t): Pmongoc_collection_t;
begin
  Result := ALMongoDBLibrary.mongoc_database_create_collection(database, name, options, error);
end;

{******************************************************************************************}
function mongoc_database_get_read_prefs(database: Pmongoc_database_t): Pmongoc_read_prefs_t;
begin
  Result := ALMongoDBLibrary.mongoc_database_get_read_prefs(database);
end;

{*******************************************************************************************************}
procedure mongoc_database_set_read_prefs(database: Pmongoc_database_t; read_prefs: Pmongoc_read_prefs_t);
begin
  ALMongoDBLibrary.mongoc_database_set_read_prefs(database, read_prefs);
end;

{************************************************************************************************}
function mongoc_database_get_write_concern(database: Pmongoc_database_t): Pmongoc_write_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_database_get_write_concern(database);
end;

{****************************************************************************************************************}
procedure mongoc_database_set_write_concern(database: Pmongoc_database_t; write_concern: Pmongoc_write_concern_t);
begin
  ALMongoDBLibrary.mongoc_database_set_write_concern(database, write_concern);
end;

{**********************************************************************************************}
function mongoc_database_get_read_concern(database: Pmongoc_database_t): Pmongoc_read_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_database_get_read_concern(database);
end;

{*************************************************************************************************************}
procedure mongoc_database_set_read_concern(database: Pmongoc_database_t; read_concern: Pmongoc_read_concern_t);
begin
  ALMongoDBLibrary.mongoc_database_set_read_concern(database, read_concern);
end;

{*****************************************************************************************************************}
function mongoc_database_find_collections_with_opts(database: Pmongoc_database_t; opts: Pbson_t): Pmongoc_cursor_t;
begin
  Result := ALMongoDBLibrary.mongoc_database_find_collections_with_opts(database, opts);
end;

{*************************************************************************************************************************************}
function mongoc_database_get_collection_names_with_opts(database: Pmongoc_database_t; opts: Pbson_t; error: Pbson_error_t): PPAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_database_get_collection_names_with_opts(database, opts, error);
end;

{***********************************************************************************************************}
function mongoc_database_get_collection(database: Pmongoc_database_t; name: PAnsiChar): Pmongoc_collection_t;
begin
  Result := ALMongoDBLibrary.mongoc_database_get_collection(database, name);
end;

{****************************************************************************************************************}
function mongoc_database_watch(db: Pmongoc_database_t; pipeline: Pbson_t; opts: Pbson_t): Pmongoc_change_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_database_watch(db, pipeline, opts);
end;

{******************************************************************************}
function mongoc_gridfs_file_get_id(&file: Pmongoc_gridfs_file_t): Pbson_value_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_get_id(&file);
end;

{****************************************************************************}
function mongoc_gridfs_file_get_length(&file: Pmongoc_gridfs_file_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_get_length(&file);
end;

{********************************************************************************}
function mongoc_gridfs_file_get_chunk_size(&file: Pmongoc_gridfs_file_t): int32_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_get_chunk_size(&file);
end;

{*********************************************************************************}
function mongoc_gridfs_file_get_upload_date(&file: Pmongoc_gridfs_file_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_get_upload_date(&file);
end;

{**************************************************************************************************************************************}
function mongoc_gridfs_file_writev(&file: Pmongoc_gridfs_file_t; iov: Pmongoc_iovec_t; iovcnt: size_t; timeout_msec: uint32_t): ssize_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_writev(&file, iov, iovcnt, timeout_msec);
end;

{********************************************************************************************************************************************************}
function mongoc_gridfs_file_readv(&file: Pmongoc_gridfs_file_t; iov: Pmongoc_iovec_t; iovcnt: size_t; min_bytes: size_t; timeout_msec: uint32_t): ssize_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_readv(&file, iov, iovcnt, min_bytes, timeout_msec);
end;

{*******************************************************************************************************}
function mongoc_gridfs_file_seek(&file: Pmongoc_gridfs_file_t; delta: int64_t; whence: Integer): Integer;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_seek(&file, delta, whence);
end;

{***********************************************************************}
function mongoc_gridfs_file_tell(&file: Pmongoc_gridfs_file_t): uint64_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_tell(&file);
end;

{******************************************************************************************************************}
function mongoc_gridfs_file_set_id(&file: Pmongoc_gridfs_file_t; id: Pbson_value_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_set_id(&file, id, error);
end;

{***********************************************************************}
function mongoc_gridfs_file_save(&file: Pmongoc_gridfs_file_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_save(&file);
end;

{*****************************************************************}
procedure mongoc_gridfs_file_destroy(&file: Pmongoc_gridfs_file_t);
begin
  ALMongoDBLibrary.mongoc_gridfs_file_destroy(&file);
end;

{**********************************************************************************************}
function mongoc_gridfs_file_error(&file: Pmongoc_gridfs_file_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_error(&file, error);
end;

{***********************************************************************************************}
function mongoc_gridfs_file_remove(&file: Pmongoc_gridfs_file_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_remove(&file, error);
end;

{*********************************************************************************************}
function mongoc_gridfs_file_list_next(list: Pmongoc_gridfs_file_list_t): Pmongoc_gridfs_file_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_list_next(list);
end;

{**************************************************************************}
procedure mongoc_gridfs_file_list_destroy(list: Pmongoc_gridfs_file_list_t);
begin
  ALMongoDBLibrary.mongoc_gridfs_file_list_destroy(list);
end;

{*******************************************************************************************************}
function mongoc_gridfs_file_list_error(list: Pmongoc_gridfs_file_list_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_file_list_error(list, error);
end;

{********************************************************************************************************************************************************}
function mongoc_gridfs_bucket_new(db: Pmongoc_database_t; opts: Pbson_t; read_prefs: Pmongoc_read_prefs_t; error: Pbson_error_t): Pmongoc_gridfs_bucket_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_bucket_new(db, opts, read_prefs, error);
end;

{************************************************************************************************************************************************************************************}
function mongoc_gridfs_bucket_open_upload_stream(bucket: Pmongoc_gridfs_bucket_t; filename: PAnsiChar; opts: Pbson_t; file_id: Pbson_value_t; error: Pbson_error_t): Pmongoc_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_bucket_open_upload_stream(bucket, filename, opts, file_id, error);
end;

{********************************************************************************************************************************************************************************************}
function mongoc_gridfs_bucket_open_upload_stream_with_id(bucket: Pmongoc_gridfs_bucket_t; file_id: Pbson_value_t; filename: PAnsiChar; opts: Pbson_t; error: Pbson_error_t): Pmongoc_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_bucket_open_upload_stream_with_id(bucket, file_id, filename, opts, error);
end;

{******************************************************************************************************************************************************************************************************}
function mongoc_gridfs_bucket_upload_from_stream(bucket: Pmongoc_gridfs_bucket_t; filename: PAnsiChar; source: Pmongoc_stream_t; opts: Pbson_t; file_id: Pbson_value_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_bucket_upload_from_stream(bucket, filename, source, opts, file_id, error);
end;

{**************************************************************************************************************************************************************************************************************}
function mongoc_gridfs_bucket_upload_from_stream_with_id(bucket: Pmongoc_gridfs_bucket_t; file_id: Pbson_value_t; filename: PAnsiChar; source: Pmongoc_stream_t; opts: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_bucket_upload_from_stream_with_id(bucket, file_id, filename, source, opts, error);
end;

{**************************************************************************************************************************************************}
function mongoc_gridfs_bucket_open_download_stream(bucket: Pmongoc_gridfs_bucket_t; file_id: Pbson_value_t; error: Pbson_error_t): Pmongoc_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_bucket_open_download_stream(bucket, file_id, error);
end;

{***********************************************************************************************************************************************************************}
function mongoc_gridfs_bucket_download_to_stream(bucket: Pmongoc_gridfs_bucket_t; file_id: Pbson_value_t; destination: Pmongoc_stream_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_bucket_download_to_stream(bucket, file_id, destination, error);
end;

{**********************************************************************************************************************************}
function mongoc_gridfs_bucket_delete_by_id(bucket: Pmongoc_gridfs_bucket_t; file_id: Pbson_value_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_bucket_delete_by_id(bucket, file_id, error);
end;

{********************************************************************************************************************}
function mongoc_gridfs_bucket_find(bucket: Pmongoc_gridfs_bucket_t; filter: Pbson_t; opts: Pbson_t): Pmongoc_cursor_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_bucket_find(bucket, filter, opts);
end;

{***************************************************************************************************}
function mongoc_gridfs_bucket_stream_error(stream: Pmongoc_stream_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_bucket_stream_error(stream, error);
end;

{**********************************************************************}
procedure mongoc_gridfs_bucket_destroy(bucket: Pmongoc_gridfs_bucket_t);
begin
  ALMongoDBLibrary.mongoc_gridfs_bucket_destroy(bucket);
end;

{*****************************************************************************}
function mongoc_gridfs_bucket_abort_upload(stream: Pmongoc_stream_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_bucket_abort_upload(stream);
end;

{********************************************************************************************************************************************************}
function mongoc_gridfs_create_file_from_stream(gridfs: Pmongoc_gridfs_t; stream: Pmongoc_stream_t; opt: Pmongoc_gridfs_file_opt_t): Pmongoc_gridfs_file_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_create_file_from_stream(gridfs, stream, opt);
end;

{******************************************************************************************************************}
function mongoc_gridfs_create_file(gridfs: Pmongoc_gridfs_t; opt: Pmongoc_gridfs_file_opt_t): Pmongoc_gridfs_file_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_create_file(gridfs, opt);
end;

{**************************************************************************************************************************}
function mongoc_gridfs_find_with_opts(gridfs: Pmongoc_gridfs_t; filter: Pbson_t; opts: Pbson_t): Pmongoc_gridfs_file_list_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_find_with_opts(gridfs, filter, opts);
end;

{***********************************************************************************************************************************************}
function mongoc_gridfs_find_one_with_opts(gridfs: Pmongoc_gridfs_t; filter: Pbson_t; opts: Pbson_t; error: Pbson_error_t): Pmongoc_gridfs_file_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_find_one_with_opts(gridfs, filter, opts, error);
end;

{**************************************************************************************************************************************}
function mongoc_gridfs_find_one_by_filename(gridfs: Pmongoc_gridfs_t; filename: PAnsiChar; error: Pbson_error_t): Pmongoc_gridfs_file_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_find_one_by_filename(gridfs, filename, error);
end;

{************************************************************************************}
function mongoc_gridfs_drop(gridfs: Pmongoc_gridfs_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_drop(gridfs, error);
end;

{********************************************************}
procedure mongoc_gridfs_destroy(gridfs: Pmongoc_gridfs_t);
begin
  ALMongoDBLibrary.mongoc_gridfs_destroy(gridfs);
end;

{*******************************************************************************}
function mongoc_gridfs_get_files(gridfs: Pmongoc_gridfs_t): Pmongoc_collection_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_get_files(gridfs);
end;

{********************************************************************************}
function mongoc_gridfs_get_chunks(gridfs: Pmongoc_gridfs_t): Pmongoc_collection_t;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_get_chunks(gridfs);
end;

{***********************************************************************************************************************}
function mongoc_gridfs_remove_by_filename(gridfs: Pmongoc_gridfs_t; filename: PAnsiChar; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_gridfs_remove_by_filename(gridfs, filename, error);
end;

{********************************************************************************}
function mongoc_stream_gridfs_new(&file: Pmongoc_gridfs_file_t): Pmongoc_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_stream_gridfs_new(&file);
end;

{******************************************************************}
function mongoc_client_new(uri_string: PAnsiChar): Pmongoc_client_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_new(uri_string);
end;

{************************************************************************}
function mongoc_client_new_from_uri(uri: Pmongoc_uri_t): Pmongoc_client_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_new_from_uri(uri);
end;

{*********************************************************************************************************}
function mongoc_client_new_from_uri_with_error(uri: Pmongoc_uri_t; error: Pbson_error_t): Pmongoc_client_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_new_from_uri_with_error(uri, error);
end;

{****************************************************************************************}
procedure mongoc_client_set_sockettimeoutms(client: Pmongoc_client_t; timeoutms: int32_t);
begin
  ALMongoDBLibrary.mongoc_client_set_sockettimeoutms(client, timeoutms);
end;

{**********************************************************************}
function mongoc_client_get_uri(client: Pmongoc_client_t): Pmongoc_uri_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_uri(client);
end;

{*****************************************************************************************************************************}
procedure mongoc_client_set_stream_initiator(client: Pmongoc_client_t; initiator: mongoc_stream_initiator_t; user_data: Pvoid);
begin
  ALMongoDBLibrary.mongoc_client_set_stream_initiator(client, initiator, user_data);
end;

{**************************************************************************************************************************************************************************************}
function mongoc_client_command_simple(client: Pmongoc_client_t; db_name: PAnsiChar; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_command_simple(client, db_name, command, read_prefs, reply, error);
end;

{*************************************************************************************************************************************************************************************************************}
function mongoc_client_read_command_with_opts(client: Pmongoc_client_t; db_name: PAnsiChar; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_read_command_with_opts(client, db_name, command, read_prefs, opts, reply, error);
end;

{****************************************************************************************************************************************************************************}
function mongoc_client_write_command_with_opts(client: Pmongoc_client_t; db_name: PAnsiChar; command: Pbson_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_write_command_with_opts(client, db_name, command, opts, reply, error);
end;

{*******************************************************************************************************************************************************************************************************************}
function mongoc_client_read_write_command_with_opts(client: Pmongoc_client_t; db_name: PAnsiChar; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_read_write_command_with_opts(client, db_name, command, read_prefs, opts, reply, error);
end;

{********************************************************************************************************************************************************************************************************}
function mongoc_client_command_with_opts(client: Pmongoc_client_t; db_name: PAnsiChar; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; opts: Pbson_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_command_with_opts(client, db_name, command, read_prefs, opts, reply, error);
end;

{**************************************************************************************************************************************************************************************************************************}
function mongoc_client_command_simple_with_server_id(client: Pmongoc_client_t; db_name: PAnsiChar; command: Pbson_t; read_prefs: Pmongoc_read_prefs_t; server_id: uint32_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_command_simple_with_server_id(client, db_name, command, read_prefs, server_id, reply, error);
end;

{********************************************************}
procedure mongoc_client_destroy(client: Pmongoc_client_t);
begin
  ALMongoDBLibrary.mongoc_client_destroy(client);
end;

{******************************************************************************************************************************************}
function mongoc_client_start_session(client: Pmongoc_client_t; opts: Pmongoc_session_opt_t; error: Pbson_error_t): Pmongoc_client_session_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_start_session(client, opts, error);
end;

{*************************************************************************************************}
function mongoc_client_get_database(client: Pmongoc_client_t; name: PAnsiChar): Pmongoc_database_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_database(client, name);
end;

{****************************************************************************************}
function mongoc_client_get_default_database(client: Pmongoc_client_t): Pmongoc_database_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_default_database(client);
end;

{************************************************************************************************************************************}
function mongoc_client_get_gridfs(client: Pmongoc_client_t; db: PAnsiChar; prefix: PAnsiChar; error: Pbson_error_t): Pmongoc_gridfs_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_gridfs(client, db, prefix, error);
end;

{**************************************************************************************************************************}
function mongoc_client_get_collection(client: Pmongoc_client_t; db: PAnsiChar; collection: PAnsiChar): Pmongoc_collection_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_collection(client, db, collection);
end;

{****************************************************************************************************}
function mongoc_client_get_database_names(client: Pmongoc_client_t; error: Pbson_error_t): PPAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_database_names(client, error);
end;

{*****************************************************************************************************************************}
function mongoc_client_get_database_names_with_opts(client: Pmongoc_client_t; opts: Pbson_t; error: Pbson_error_t): PPAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_database_names_with_opts(client, opts, error);
end;

{******************************************************************************************************}
function mongoc_client_find_databases(client: Pmongoc_client_t; error: Pbson_error_t): Pmongoc_cursor_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_find_databases(client, error);
end;

{*********************************************************************************************************}
function mongoc_client_find_databases_with_opts(client: Pmongoc_client_t; opts: Pbson_t): Pmongoc_cursor_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_find_databases_with_opts(client, opts);
end;

{******************************************************************************************}
function mongoc_client_get_write_concern(client: Pmongoc_client_t): Pmongoc_write_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_write_concern(client);
end;

{**********************************************************************************************************}
procedure mongoc_client_set_write_concern(client: Pmongoc_client_t; write_concern: Pmongoc_write_concern_t);
begin
  ALMongoDBLibrary.mongoc_client_set_write_concern(client, write_concern);
end;

{****************************************************************************************}
function mongoc_client_get_read_concern(client: Pmongoc_client_t): Pmongoc_read_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_read_concern(client);
end;

{*******************************************************************************************************}
procedure mongoc_client_set_read_concern(client: Pmongoc_client_t; read_concern: Pmongoc_read_concern_t);
begin
  ALMongoDBLibrary.mongoc_client_set_read_concern(client, read_concern);
end;

{************************************************************************************}
function mongoc_client_get_read_prefs(client: Pmongoc_client_t): Pmongoc_read_prefs_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_read_prefs(client);
end;

{*************************************************************************************************}
procedure mongoc_client_set_read_prefs(client: Pmongoc_client_t; read_prefs: Pmongoc_read_prefs_t);
begin
  ALMongoDBLibrary.mongoc_client_set_read_prefs(client, read_prefs);
end;

{**************************************************************************************}
procedure mongoc_client_set_ssl_opts(client: Pmongoc_client_t; opts: Pmongoc_ssl_opt_t);
begin
  ALMongoDBLibrary.mongoc_client_set_ssl_opts(client, opts);
end;

{*******************************************************************************************************************************}
function mongoc_client_set_apm_callbacks(client: Pmongoc_client_t; callbacks: Pmongoc_apm_callbacks_t; context: Pvoid): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_set_apm_callbacks(client, callbacks, context);
end;

{**********************************************************************************************************************}
function mongoc_client_set_structured_log_opts(client: Pmongoc_client_t; opts: Pmongoc_structured_log_opts_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_set_structured_log_opts(client, opts);
end;

{*************************************************************************************************************************}
function mongoc_client_get_server_description(client: Pmongoc_client_t; server_id: uint32_t): Pmongoc_server_description_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_server_description(client, server_id);
end;

{******************************************************************************************************************}
function mongoc_client_get_server_descriptions(client: Pmongoc_client_t; n: Psize_t): PPmongoc_server_description_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_server_descriptions(client, n);
end;

{**********************************************************************************************}
procedure mongoc_server_descriptions_destroy_all(sds: PPmongoc_server_description_t; n: size_t);
begin
  ALMongoDBLibrary.mongoc_server_descriptions_destroy_all(sds, n);
end;

{********************************************************************************************************************************************************************}
function mongoc_client_select_server(client: Pmongoc_client_t; for_writes: ByteBool; prefs: Pmongoc_read_prefs_t; error: Pbson_error_t): Pmongoc_server_description_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_select_server(client, for_writes, prefs, error);
end;

{*****************************************************************************************}
function mongoc_client_set_error_api(client: Pmongoc_client_t; version: int32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_set_error_api(client, version);
end;

{*****************************************************************************************}
function mongoc_client_set_appname(client: Pmongoc_client_t; appname: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_set_appname(client, appname);
end;

{****************************************************************************************************************}
function mongoc_client_watch(client: Pmongoc_client_t; pipeline: Pbson_t; opts: Pbson_t): Pmongoc_change_stream_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_watch(client, pipeline, opts);
end;

{******************************************************}
procedure mongoc_client_reset(client: Pmongoc_client_t);
begin
  ALMongoDBLibrary.mongoc_client_reset(client);
end;

{********************************************************************************************************************************************}
function mongoc_client_enable_auto_encryption(client: Pmongoc_client_t; opts: Pmongoc_auto_encryption_opts_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_enable_auto_encryption(client, opts, error);
end;

{***********************************************************************************}
function mongoc_client_get_crypt_shared_version(client: Pmongoc_client_t): PAnsiChar;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_crypt_shared_version(client);
end;

{*************************************************************************************************************************}
function mongoc_client_set_server_api(client: Pmongoc_client_t; api: Pmongoc_server_api_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_set_server_api(client, api, error);
end;

{*****************************************************************************************************************************************************************}
function mongoc_client_get_handshake_description(client: Pmongoc_client_t; server_id: uint32_t; opts: Pbson_t; error: Pbson_error_t): Pmongoc_server_description_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_get_handshake_description(client, server_id, opts, error);
end;

{**************************************************************************************************************}
function mongoc_client_set_oidc_callback(client: Pmongoc_client_t; callback: Pmongoc_oidc_callback_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_set_oidc_callback(client, callback);
end;

{*************************************************************************}
function mongoc_client_pool_new(uri: Pmongoc_uri_t): Pmongoc_client_pool_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_pool_new(uri);
end;

{**********************************************************************************************************}
function mongoc_client_pool_new_with_error(uri: Pmongoc_uri_t; error: Pbson_error_t): Pmongoc_client_pool_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_pool_new_with_error(uri, error);
end;

{****************************************************************}
procedure mongoc_client_pool_destroy(pool: Pmongoc_client_pool_t);
begin
  ALMongoDBLibrary.mongoc_client_pool_destroy(pool);
end;

{*****************************************************************************}
function mongoc_client_pool_pop(pool: Pmongoc_client_pool_t): Pmongoc_client_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_pool_pop(pool);
end;

{***************************************************************************************}
procedure mongoc_client_pool_push(pool: Pmongoc_client_pool_t; client: Pmongoc_client_t);
begin
  ALMongoDBLibrary.mongoc_client_pool_push(pool, client);
end;

{*********************************************************************************}
function mongoc_client_pool_try_pop(pool: Pmongoc_client_pool_t): Pmongoc_client_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_pool_try_pop(pool);
end;

{******************************************************************************************}
procedure mongoc_client_pool_max_size(pool: Pmongoc_client_pool_t; max_pool_size: uint32_t);
begin
  ALMongoDBLibrary.mongoc_client_pool_max_size(pool, max_pool_size);
end;

{**********************************************************************************************}
procedure mongoc_client_pool_set_ssl_opts(pool: Pmongoc_client_pool_t; opts: Pmongoc_ssl_opt_t);
begin
  ALMongoDBLibrary.mongoc_client_pool_set_ssl_opts(pool, opts);
end;

{***************************************************************************************************************************************}
function mongoc_client_pool_set_apm_callbacks(pool: Pmongoc_client_pool_t; callbacks: Pmongoc_apm_callbacks_t; context: Pvoid): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_pool_set_apm_callbacks(pool, callbacks, context);
end;

{*************************************************************************************************}
function mongoc_client_pool_set_error_api(pool: Pmongoc_client_pool_t; version: int32_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_pool_set_error_api(pool, version);
end;

{*************************************************************************************************}
function mongoc_client_pool_set_appname(pool: Pmongoc_client_pool_t; appname: PAnsiChar): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_pool_set_appname(pool, appname);
end;

{****************************************************************************************************************************************************}
function mongoc_client_pool_enable_auto_encryption(pool: Pmongoc_client_pool_t; opts: Pmongoc_auto_encryption_opts_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_pool_enable_auto_encryption(pool, opts, error);
end;

{*********************************************************************************************************************************}
function mongoc_client_pool_set_server_api(pool: Pmongoc_client_pool_t; api: Pmongoc_server_api_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_pool_set_server_api(pool, api, error);
end;

{******************************************************************************************************************************}
function mongoc_client_pool_set_structured_log_opts(pool: Pmongoc_client_pool_t; opts: Pmongoc_structured_log_opts_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_pool_set_structured_log_opts(pool, opts);
end;

{**********************************************************************************************************************}
function mongoc_client_pool_set_oidc_callback(pool: Pmongoc_client_pool_t; callback: Pmongoc_oidc_callback_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_pool_set_oidc_callback(pool, callback);
end;

{****************************************************************}
function mongoc_transaction_opts_new(): Pmongoc_transaction_opt_t;
begin
  Result := ALMongoDBLibrary.mongoc_transaction_opts_new();
end;

{*************************************************************************************************}
function mongoc_transaction_opts_clone(opts: Pmongoc_transaction_opt_t): Pmongoc_transaction_opt_t;
begin
  Result := ALMongoDBLibrary.mongoc_transaction_opts_clone(opts);
end;

{*************************************************************************}
procedure mongoc_transaction_opts_destroy(opts: Pmongoc_transaction_opt_t);
begin
  ALMongoDBLibrary.mongoc_transaction_opts_destroy(opts);
end;

{*********************************************************************************************************************}
procedure mongoc_transaction_opts_set_max_commit_time_ms(opts: Pmongoc_transaction_opt_t; max_commit_time_ms: int64_t);
begin
  ALMongoDBLibrary.mongoc_transaction_opts_set_max_commit_time_ms(opts, max_commit_time_ms);
end;

{************************************************************************************************}
function mongoc_transaction_opts_get_max_commit_time_ms(opts: Pmongoc_transaction_opt_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_transaction_opts_get_max_commit_time_ms(opts);
end;

{************************************************************************************************************************}
procedure mongoc_transaction_opts_set_read_concern(opts: Pmongoc_transaction_opt_t; read_concern: Pmongoc_read_concern_t);
begin
  ALMongoDBLibrary.mongoc_transaction_opts_set_read_concern(opts, read_concern);
end;

{*********************************************************************************************************}
function mongoc_transaction_opts_get_read_concern(opts: Pmongoc_transaction_opt_t): Pmongoc_read_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_transaction_opts_get_read_concern(opts);
end;

{***************************************************************************************************************************}
procedure mongoc_transaction_opts_set_write_concern(opts: Pmongoc_transaction_opt_t; write_concern: Pmongoc_write_concern_t);
begin
  ALMongoDBLibrary.mongoc_transaction_opts_set_write_concern(opts, write_concern);
end;

{***********************************************************************************************************}
function mongoc_transaction_opts_get_write_concern(opts: Pmongoc_transaction_opt_t): Pmongoc_write_concern_t;
begin
  Result := ALMongoDBLibrary.mongoc_transaction_opts_get_write_concern(opts);
end;

{******************************************************************************************************************}
procedure mongoc_transaction_opts_set_read_prefs(opts: Pmongoc_transaction_opt_t; read_prefs: Pmongoc_read_prefs_t);
begin
  ALMongoDBLibrary.mongoc_transaction_opts_set_read_prefs(opts, read_prefs);
end;

{*****************************************************************************************************}
function mongoc_transaction_opts_get_read_prefs(opts: Pmongoc_transaction_opt_t): Pmongoc_read_prefs_t;
begin
  Result := ALMongoDBLibrary.mongoc_transaction_opts_get_read_prefs(opts);
end;

{********************************************************}
function mongoc_session_opts_new(): Pmongoc_session_opt_t;
begin
  Result := ALMongoDBLibrary.mongoc_session_opts_new();
end;

{**************************************************************************************************************}
procedure mongoc_session_opts_set_causal_consistency(opts: Pmongoc_session_opt_t; causal_consistency: ByteBool);
begin
  ALMongoDBLibrary.mongoc_session_opts_set_causal_consistency(opts, causal_consistency);
end;

{*****************************************************************************************}
function mongoc_session_opts_get_causal_consistency(opts: Pmongoc_session_opt_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_session_opts_get_causal_consistency(opts);
end;

{******************************************************************************************}
procedure mongoc_session_opts_set_snapshot(opts: Pmongoc_session_opt_t; snapshot: ByteBool);
begin
  ALMongoDBLibrary.mongoc_session_opts_set_snapshot(opts, snapshot);
end;

{*******************************************************************************}
function mongoc_session_opts_get_snapshot(opts: Pmongoc_session_opt_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_session_opts_get_snapshot(opts);
end;

{***************************************************************************************************************************}
procedure mongoc_session_opts_set_default_transaction_opts(opts: Pmongoc_session_opt_t; txn_opts: Pmongoc_transaction_opt_t);
begin
  ALMongoDBLibrary.mongoc_session_opts_set_default_transaction_opts(opts, txn_opts);
end;

{****************************************************************************************************************}
function mongoc_session_opts_get_default_transaction_opts(opts: Pmongoc_session_opt_t): Pmongoc_transaction_opt_t;
begin
  Result := ALMongoDBLibrary.mongoc_session_opts_get_default_transaction_opts(opts);
end;

{**************************************************************************************************************}
function mongoc_session_opts_get_transaction_opts(session: Pmongoc_client_session_t): Pmongoc_transaction_opt_t;
begin
  Result := ALMongoDBLibrary.mongoc_session_opts_get_transaction_opts(session);
end;

{*************************************************************************************}
function mongoc_session_opts_clone(opts: Pmongoc_session_opt_t): Pmongoc_session_opt_t;
begin
  Result := ALMongoDBLibrary.mongoc_session_opts_clone(opts);
end;

{*****************************************************************}
procedure mongoc_session_opts_destroy(opts: Pmongoc_session_opt_t);
begin
  ALMongoDBLibrary.mongoc_session_opts_destroy(opts);
end;

{*********************************************************************************************}
function mongoc_client_session_get_client(session: Pmongoc_client_session_t): Pmongoc_client_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_get_client(session);
end;

{************************************************************************************************}
function mongoc_client_session_get_opts(session: Pmongoc_client_session_t): Pmongoc_session_opt_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_get_opts(session);
end;

{**********************************************************************************}
function mongoc_client_session_get_lsid(session: Pmongoc_client_session_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_get_lsid(session);
end;

{******************************************************************************************}
function mongoc_client_session_get_cluster_time(session: Pmongoc_client_session_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_get_cluster_time(session);
end;

{*************************************************************************************************************}
procedure mongoc_client_session_advance_cluster_time(session: Pmongoc_client_session_t; cluster_time: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_client_session_advance_cluster_time(session, cluster_time);
end;

{********************************************************************************************************************************}
procedure mongoc_client_session_get_operation_time(session: Pmongoc_client_session_t; timestamp: Puint32_t; increment: Puint32_t);
begin
  ALMongoDBLibrary.mongoc_client_session_get_operation_time(session, timestamp, increment);
end;

{****************************************************************************************}
function mongoc_client_session_get_server_id(session: Pmongoc_client_session_t): uint32_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_get_server_id(session);
end;

{**********************************************************************************************************************************}
procedure mongoc_client_session_advance_operation_time(session: Pmongoc_client_session_t; timestamp: uint32_t; increment: uint32_t);
begin
  ALMongoDBLibrary.mongoc_client_session_advance_operation_time(session, timestamp, increment);
end;

{*******************************************************************************************************************************************************************************************************************************}
function mongoc_client_session_with_transaction(session: Pmongoc_client_session_t; cb: mongoc_client_session_with_transaction_cb_t; opts: Pmongoc_transaction_opt_t; ctx: Pvoid; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_with_transaction(session, cb, opts, ctx, reply, error);
end;

{***************************************************************************************************************************************************}
function mongoc_client_session_start_transaction(session: Pmongoc_client_session_t; opts: Pmongoc_transaction_opt_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_start_transaction(session, opts, error);
end;

{*****************************************************************************************}
function mongoc_client_session_in_transaction(session: Pmongoc_client_session_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_in_transaction(session);
end;

{******************************************************************************************************************}
function mongoc_client_session_get_transaction_state(session: Pmongoc_client_session_t): mongoc_transaction_state_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_get_transaction_state(session);
end;

{***********************************************************************************************************************************}
function mongoc_client_session_commit_transaction(session: Pmongoc_client_session_t; reply: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_commit_transaction(session, reply, error);
end;

{******************************************************************************************************************}
function mongoc_client_session_abort_transaction(session: Pmongoc_client_session_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_abort_transaction(session, error);
end;

{*****************************************************************************************************************************}
function mongoc_client_session_append(client_session: Pmongoc_client_session_t; opts: Pbson_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_append(client_session, opts, error);
end;

{*************************************************************************}
procedure mongoc_client_session_destroy(session: Pmongoc_client_session_t);
begin
  ALMongoDBLibrary.mongoc_client_session_destroy(session);
end;

{************************************************************************************}
function mongoc_client_session_get_dirty(session: Pmongoc_client_session_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_client_session_get_dirty(session);
end;

{***********************************************************}
function mongoc_bulkwriteopts_new(): Pmongoc_bulkwriteopts_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteopts_new();
end;

{*******************************************************************************************}
procedure mongoc_bulkwriteopts_set_ordered(self: Pmongoc_bulkwriteopts_t; ordered: ByteBool);
begin
  ALMongoDBLibrary.mongoc_bulkwriteopts_set_ordered(self, ordered);
end;

{*****************************************************************************************************************************}
procedure mongoc_bulkwriteopts_set_bypassdocumentvalidation(self: Pmongoc_bulkwriteopts_t; bypassdocumentvalidation: ByteBool);
begin
  ALMongoDBLibrary.mongoc_bulkwriteopts_set_bypassdocumentvalidation(self, bypassdocumentvalidation);
end;

{**********************************************************************************}
procedure mongoc_bulkwriteopts_set_let(self: Pmongoc_bulkwriteopts_t; let: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulkwriteopts_set_let(self, let);
end;

{********************************************************************************************************************}
procedure mongoc_bulkwriteopts_set_writeconcern(self: Pmongoc_bulkwriteopts_t; writeconcern: Pmongoc_write_concern_t);
begin
  ALMongoDBLibrary.mongoc_bulkwriteopts_set_writeconcern(self, writeconcern);
end;

{************************************************************************************************}
procedure mongoc_bulkwriteopts_set_comment(self: Pmongoc_bulkwriteopts_t; comment: Pbson_value_t);
begin
  ALMongoDBLibrary.mongoc_bulkwriteopts_set_comment(self, comment);
end;

{*********************************************************************************************************}
procedure mongoc_bulkwriteopts_set_verboseresults(self: Pmongoc_bulkwriteopts_t; verboseresults: ByteBool);
begin
  ALMongoDBLibrary.mongoc_bulkwriteopts_set_verboseresults(self, verboseresults);
end;

{**************************************************************************************}
procedure mongoc_bulkwriteopts_set_extra(self: Pmongoc_bulkwriteopts_t; extra: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulkwriteopts_set_extra(self, extra);
end;

{*********************************************************************************************}
procedure mongoc_bulkwriteopts_set_serverid(self: Pmongoc_bulkwriteopts_t; serverid: uint32_t);
begin
  ALMongoDBLibrary.mongoc_bulkwriteopts_set_serverid(self, serverid);
end;

{********************************************************************}
procedure mongoc_bulkwriteopts_destroy(self: Pmongoc_bulkwriteopts_t);
begin
  ALMongoDBLibrary.mongoc_bulkwriteopts_destroy(self);
end;

{**************************************************************************************}
function mongoc_bulkwriteresult_insertedcount(self: Pmongoc_bulkwriteresult_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteresult_insertedcount(self);
end;

{**************************************************************************************}
function mongoc_bulkwriteresult_upsertedcount(self: Pmongoc_bulkwriteresult_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteresult_upsertedcount(self);
end;

{*************************************************************************************}
function mongoc_bulkwriteresult_matchedcount(self: Pmongoc_bulkwriteresult_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteresult_matchedcount(self);
end;

{**************************************************************************************}
function mongoc_bulkwriteresult_modifiedcount(self: Pmongoc_bulkwriteresult_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteresult_modifiedcount(self);
end;

{*************************************************************************************}
function mongoc_bulkwriteresult_deletedcount(self: Pmongoc_bulkwriteresult_t): int64_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteresult_deletedcount(self);
end;

{**************************************************************************************}
function mongoc_bulkwriteresult_insertresults(self: Pmongoc_bulkwriteresult_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteresult_insertresults(self);
end;

{**************************************************************************************}
function mongoc_bulkwriteresult_updateresults(self: Pmongoc_bulkwriteresult_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteresult_updateresults(self);
end;

{**************************************************************************************}
function mongoc_bulkwriteresult_deleteresults(self: Pmongoc_bulkwriteresult_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteresult_deleteresults(self);
end;

{**********************************************************************************}
function mongoc_bulkwriteresult_serverid(self: Pmongoc_bulkwriteresult_t): uint32_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteresult_serverid(self);
end;

{************************************************************************}
procedure mongoc_bulkwriteresult_destroy(self: Pmongoc_bulkwriteresult_t);
begin
  ALMongoDBLibrary.mongoc_bulkwriteresult_destroy(self);
end;

{***********************************************************************************************************}
function mongoc_bulkwriteexception_error(self: Pmongoc_bulkwriteexception_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteexception_error(self, error);
end;

{******************************************************************************************}
function mongoc_bulkwriteexception_writeerrors(self: Pmongoc_bulkwriteexception_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteexception_writeerrors(self);
end;

{*************************************************************************************************}
function mongoc_bulkwriteexception_writeconcernerrors(self: Pmongoc_bulkwriteexception_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteexception_writeconcernerrors(self);
end;

{*****************************************************************************************}
function mongoc_bulkwriteexception_errorreply(self: Pmongoc_bulkwriteexception_t): Pbson_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwriteexception_errorreply(self);
end;

{******************************************************************************}
procedure mongoc_bulkwriteexception_destroy(self: Pmongoc_bulkwriteexception_t);
begin
  ALMongoDBLibrary.mongoc_bulkwriteexception_destroy(self);
end;

{********************************************************************************}
function mongoc_client_bulkwrite_new(self: Pmongoc_client_t): Pmongoc_bulkwrite_t;
begin
  Result := ALMongoDBLibrary.mongoc_client_bulkwrite_new(self);
end;

{*******************************************************************************}
function mongoc_bulkwrite_insertoneopts_new(): Pmongoc_bulkwrite_insertoneopts_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_insertoneopts_new();
end;

{****************************************************************************************}
procedure mongoc_bulkwrite_insertoneopts_destroy(self: Pmongoc_bulkwrite_insertoneopts_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_insertoneopts_destroy(self);
end;

{*******************************************************************************************************************************************************************************}
function mongoc_bulkwrite_append_insertone(self: Pmongoc_bulkwrite_t; ns: PAnsiChar; document: Pbson_t; opts: Pmongoc_bulkwrite_insertoneopts_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_append_insertone(self, ns, document, opts, error);
end;

{*******************************************************************************}
function mongoc_bulkwrite_updateoneopts_new(): Pmongoc_bulkwrite_updateoneopts_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_updateoneopts_new();
end;

{************************************************************************************************************************}
procedure mongoc_bulkwrite_updateoneopts_set_arrayfilters(self: Pmongoc_bulkwrite_updateoneopts_t; arrayfilters: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_updateoneopts_set_arrayfilters(self, arrayfilters);
end;

{******************************************************************************************************************}
procedure mongoc_bulkwrite_updateoneopts_set_collation(self: Pmongoc_bulkwrite_updateoneopts_t; collation: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_updateoneopts_set_collation(self, collation);
end;

{**************************************************************************************************************}
procedure mongoc_bulkwrite_updateoneopts_set_hint(self: Pmongoc_bulkwrite_updateoneopts_t; hint: Pbson_value_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_updateoneopts_set_hint(self, hint);
end;

{*************************************************************************************************************}
procedure mongoc_bulkwrite_updateoneopts_set_upsert(self: Pmongoc_bulkwrite_updateoneopts_t; upsert: ByteBool);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_updateoneopts_set_upsert(self, upsert);
end;

{********************************************************************************************************}
procedure mongoc_bulkwrite_updateoneopts_set_sort(self: Pmongoc_bulkwrite_updateoneopts_t; sort: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_updateoneopts_set_sort(self, sort);
end;

{****************************************************************************************}
procedure mongoc_bulkwrite_updateoneopts_destroy(self: Pmongoc_bulkwrite_updateoneopts_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_updateoneopts_destroy(self);
end;

{**********************************************************************************************************************************************************************************************}
function mongoc_bulkwrite_append_updateone(self: Pmongoc_bulkwrite_t; ns: PAnsiChar; filter: Pbson_t; update: Pbson_t; opts: Pmongoc_bulkwrite_updateoneopts_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_append_updateone(self, ns, filter, update, opts, error);
end;

{*********************************************************************************}
function mongoc_bulkwrite_updatemanyopts_new(): Pmongoc_bulkwrite_updatemanyopts_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_updatemanyopts_new();
end;

{**************************************************************************************************************************}
procedure mongoc_bulkwrite_updatemanyopts_set_arrayfilters(self: Pmongoc_bulkwrite_updatemanyopts_t; arrayfilters: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_updatemanyopts_set_arrayfilters(self, arrayfilters);
end;

{********************************************************************************************************************}
procedure mongoc_bulkwrite_updatemanyopts_set_collation(self: Pmongoc_bulkwrite_updatemanyopts_t; collation: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_updatemanyopts_set_collation(self, collation);
end;

{****************************************************************************************************************}
procedure mongoc_bulkwrite_updatemanyopts_set_hint(self: Pmongoc_bulkwrite_updatemanyopts_t; hint: Pbson_value_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_updatemanyopts_set_hint(self, hint);
end;

{***************************************************************************************************************}
procedure mongoc_bulkwrite_updatemanyopts_set_upsert(self: Pmongoc_bulkwrite_updatemanyopts_t; upsert: ByteBool);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_updatemanyopts_set_upsert(self, upsert);
end;

{******************************************************************************************}
procedure mongoc_bulkwrite_updatemanyopts_destroy(self: Pmongoc_bulkwrite_updatemanyopts_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_updatemanyopts_destroy(self);
end;

{************************************************************************************************************************************************************************************************}
function mongoc_bulkwrite_append_updatemany(self: Pmongoc_bulkwrite_t; ns: PAnsiChar; filter: Pbson_t; update: Pbson_t; opts: Pmongoc_bulkwrite_updatemanyopts_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_append_updatemany(self, ns, filter, update, opts, error);
end;

{*********************************************************************************}
function mongoc_bulkwrite_replaceoneopts_new(): Pmongoc_bulkwrite_replaceoneopts_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_replaceoneopts_new();
end;

{********************************************************************************************************************}
procedure mongoc_bulkwrite_replaceoneopts_set_collation(self: Pmongoc_bulkwrite_replaceoneopts_t; collation: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_replaceoneopts_set_collation(self, collation);
end;

{****************************************************************************************************************}
procedure mongoc_bulkwrite_replaceoneopts_set_hint(self: Pmongoc_bulkwrite_replaceoneopts_t; hint: Pbson_value_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_replaceoneopts_set_hint(self, hint);
end;

{***************************************************************************************************************}
procedure mongoc_bulkwrite_replaceoneopts_set_upsert(self: Pmongoc_bulkwrite_replaceoneopts_t; upsert: ByteBool);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_replaceoneopts_set_upsert(self, upsert);
end;

{**********************************************************************************************************}
procedure mongoc_bulkwrite_replaceoneopts_set_sort(self: Pmongoc_bulkwrite_replaceoneopts_t; sort: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_replaceoneopts_set_sort(self, sort);
end;

{******************************************************************************************}
procedure mongoc_bulkwrite_replaceoneopts_destroy(self: Pmongoc_bulkwrite_replaceoneopts_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_replaceoneopts_destroy(self);
end;

{*****************************************************************************************************************************************************************************************************}
function mongoc_bulkwrite_append_replaceone(self: Pmongoc_bulkwrite_t; ns: PAnsiChar; filter: Pbson_t; replacement: Pbson_t; opts: Pmongoc_bulkwrite_replaceoneopts_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_append_replaceone(self, ns, filter, replacement, opts, error);
end;

{*******************************************************************************}
function mongoc_bulkwrite_deleteoneopts_new(): Pmongoc_bulkwrite_deleteoneopts_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_deleteoneopts_new();
end;

{******************************************************************************************************************}
procedure mongoc_bulkwrite_deleteoneopts_set_collation(self: Pmongoc_bulkwrite_deleteoneopts_t; collation: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_deleteoneopts_set_collation(self, collation);
end;

{**************************************************************************************************************}
procedure mongoc_bulkwrite_deleteoneopts_set_hint(self: Pmongoc_bulkwrite_deleteoneopts_t; hint: Pbson_value_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_deleteoneopts_set_hint(self, hint);
end;

{****************************************************************************************}
procedure mongoc_bulkwrite_deleteoneopts_destroy(self: Pmongoc_bulkwrite_deleteoneopts_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_deleteoneopts_destroy(self);
end;

{*****************************************************************************************************************************************************************************}
function mongoc_bulkwrite_append_deleteone(self: Pmongoc_bulkwrite_t; ns: PAnsiChar; filter: Pbson_t; opts: Pmongoc_bulkwrite_deleteoneopts_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_append_deleteone(self, ns, filter, opts, error);
end;

{*********************************************************************************}
function mongoc_bulkwrite_deletemanyopts_new(): Pmongoc_bulkwrite_deletemanyopts_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_deletemanyopts_new();
end;

{********************************************************************************************************************}
procedure mongoc_bulkwrite_deletemanyopts_set_collation(self: Pmongoc_bulkwrite_deletemanyopts_t; collation: Pbson_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_deletemanyopts_set_collation(self, collation);
end;

{****************************************************************************************************************}
procedure mongoc_bulkwrite_deletemanyopts_set_hint(self: Pmongoc_bulkwrite_deletemanyopts_t; hint: Pbson_value_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_deletemanyopts_set_hint(self, hint);
end;

{******************************************************************************************}
procedure mongoc_bulkwrite_deletemanyopts_destroy(self: Pmongoc_bulkwrite_deletemanyopts_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_deletemanyopts_destroy(self);
end;

{*******************************************************************************************************************************************************************************}
function mongoc_bulkwrite_append_deletemany(self: Pmongoc_bulkwrite_t; ns: PAnsiChar; filter: Pbson_t; opts: Pmongoc_bulkwrite_deletemanyopts_t; error: Pbson_error_t): ByteBool;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_append_deletemany(self, ns, filter, opts, error);
end;

{***************************************************}
function mongoc_bulkwrite_new(): Pmongoc_bulkwrite_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_new();
end;

{*****************************************************************************************}
procedure mongoc_bulkwrite_set_client(self: Pmongoc_bulkwrite_t; client: Pmongoc_client_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_set_client(self, client);
end;

{***************************************************************************************************}
procedure mongoc_bulkwrite_set_session(self: Pmongoc_bulkwrite_t; session: Pmongoc_client_session_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_set_session(self, session);
end;

{********************************************************************************************************************}
function mongoc_bulkwrite_execute(self: Pmongoc_bulkwrite_t; opts: Pmongoc_bulkwriteopts_t): mongoc_bulkwritereturn_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_execute(self, opts);
end;

{***********************************************************************************************************************************}
function mongoc_bulkwrite_check_acknowledged(self: Pmongoc_bulkwrite_t; error: Pbson_error_t): mongoc_bulkwrite_check_acknowledged_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_check_acknowledged(self, error);
end;

{***************************************************************************************************************}
function mongoc_bulkwrite_serverid(self: Pmongoc_bulkwrite_t; error: Pbson_error_t): mongoc_bulkwrite_serverid_t;
begin
  Result := ALMongoDBLibrary.mongoc_bulkwrite_serverid(self, error);
end;

{************************************************************}
procedure mongoc_bulkwrite_destroy(self: Pmongoc_bulkwrite_t);
begin
  ALMongoDBLibrary.mongoc_bulkwrite_destroy(self);
end;

{*********************************************************************************************************************}
procedure mongoc_client_set_usleep_impl(client: Pmongoc_client_t; usleep_func: mongoc_usleep_func_t; user_data: Pvoid);
begin
  ALMongoDBLibrary.mongoc_client_set_usleep_impl(client, usleep_func, user_data);
end;

{********************************************************************}
procedure mongoc_usleep_default_impl(usec: int64_t; user_data: Pvoid);
begin
  ALMongoDBLibrary.mongoc_usleep_default_impl(usec, user_data);
end;

{************************************************************}
procedure ALCreateALMongoDBLibrary(const ALibraryDir: String);
begin
  if assigned(ALMongoDBLibrary) then exit;
  ALMongoDBLibrary := TALMongoDBLibrary.Create(ALibraryDir);
end;

{*******************************}
procedure ALFreeALMongoDBLibrary;
begin
  ALFreeAndNil(ALMongoDBLibrary);
end;

initialization
  {$IF defined(DEBUG)}
  ALLog('Alcinoe.MongoDB.Wrapper','initialization');
  {$ENDIF}
  ALMongoDBLibrary := nil;

end.